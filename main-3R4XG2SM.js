var kU=Object.defineProperty,NU=Object.defineProperties;var OU=Object.getOwnPropertyDescriptors;var _A=Object.getOwnPropertySymbols,FU=Object.getPrototypeOf,LU=Object.prototype.hasOwnProperty,VU=Object.prototype.propertyIsEnumerable,jU=Reflect.get;var bA=(n,e,t)=>e in n?kU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z=(n,e)=>{for(var t in e||={})LU.call(e,t)&&bA(n,t,e[t]);if(_A)for(var t of _A(e))VU.call(e,t)&&bA(n,t,e[t]);return n},fe=(n,e)=>NU(n,OU(e));var $s=(n,e,t)=>jU(FU(n),t,e);var E=(n,e,t)=>new Promise((r,i)=>{var s=c=>{try{a(t.next(c))}catch(l){i(l)}},o=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(n,e)).next())});function ub(n,e){return Object.is(n,e)}var jt=null,Gf=!1,db=1,mr=Symbol("SIGNAL");function ve(n){let e=jt;return jt=n,e}function hb(){return jt}var Mu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ru(n){if(Gf)throw new Error("");if(jt===null)return;jt.consumerOnSignalRead(n);let e=jt.nextProducerIndex++;if(Xf(jt),e<jt.producerNode.length&&jt.producerNode[e]!==n&&Au(jt)){let t=jt.producerNode[e];Qf(t,jt.producerIndexOfThis[e])}jt.producerNode[e]!==n&&(jt.producerNode[e]=n,jt.producerIndexOfThis[e]=Au(jt)?EA(n,jt,e):0),jt.producerLastReadVersion[e]=n.version}function wA(){db++}function fb(n){if(!(Au(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===db)){if(!n.producerMustRecompute(n)&&!yb(n)){lb(n);return}n.producerRecomputeValue(n),lb(n)}}function pb(n){if(n.liveConsumerNode===void 0)return;let e=Gf;Gf=!0;try{for(let t of n.liveConsumerNode)t.dirty||BU(t)}finally{Gf=e}}function gb(){return jt?.consumerAllowSignalWrites!==!1}function BU(n){n.dirty=!0,pb(n),n.consumerMarkedDirty?.(n)}function lb(n){n.dirty=!1,n.lastCleanEpoch=db}function Yf(n){return n&&(n.nextProducerIndex=0),ve(n)}function mb(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Au(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Qf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function yb(n){Xf(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(fb(t),r!==t.version))return!0}return!1}function vb(n){if(Xf(n),Au(n))for(let e=0;e<n.producerNode.length;e++)Qf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function EA(n,e,t){if(IA(n),n.liveConsumerNode.length===0&&DA(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=EA(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Qf(n,e){if(IA(n),n.liveConsumerNode.length===1&&DA(n))for(let r=0;r<n.producerNode.length;r++)Qf(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Xf(i),i.producerIndexOfThis[r]=e}}function Au(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Xf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function IA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function DA(n){return n.producerNode!==void 0}function _b(n,e){let t=Object.create(UU);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(fb(t),Ru(t),t.value===Kf)throw t.error;return t.value};return r[mr]=t,r}var ab=Symbol("UNSET"),cb=Symbol("COMPUTING"),Kf=Symbol("ERRORED"),UU=fe(z({},Mu),{value:ab,dirty:!0,error:null,equal:ub,kind:"computed",producerMustRecompute(n){return n.value===ab||n.value===cb},producerRecomputeValue(n){if(n.value===cb)throw new Error("Detected cycle in computations.");let e=n.value;n.value=cb;let t=Yf(n),r,i=!1;try{r=n.computation(),ve(null),i=e!==ab&&e!==Kf&&r!==Kf&&n.equal(e,r)}catch(s){r=Kf,n.error=s}finally{mb(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function $U(){throw new Error}var CA=$U;function TA(n){CA(n)}function bb(n){CA=n}var HU=null;function wb(n,e){let t=Object.create(Zf);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Ru(t),t.value);return r[mr]=t,r}function Pu(n,e){gb()||TA(n),n.equal(n.value,e)||(n.value=e,zU(n))}function Eb(n,e){gb()||TA(n),Pu(n,e(n.value))}var Zf=fe(z({},Mu),{equal:ub,value:void 0,kind:"signal"});function zU(n){n.version++,wA(),pb(n),HU?.()}function Ib(n){let e=ve(null);try{return n()}finally{ve(e)}}var Db;function ku(){return Db}function es(n){let e=Db;return Db=n,e}var Jf=Symbol("NotFound");function ue(n){return typeof n=="function"}function fc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ep=fc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Yo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var lt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ue(r))try{r()}catch(s){e=s instanceof ep?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{SA(s)}catch(o){e=e??[],o instanceof ep?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ep(e)}}add(e){var t;if(e&&e!==this)if(this.closed)SA(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Yo(t,e)}remove(e){let{_finalizers:t}=this;t&&Yo(t,e),e instanceof n&&e._removeParent(this)}};lt.EMPTY=(()=>{let n=new lt;return n.closed=!0,n})();var Cb=lt.EMPTY;function tp(n){return n instanceof lt||n&&"closed"in n&&ue(n.remove)&&ue(n.add)&&ue(n.unsubscribe)}function SA(n){ue(n)?n():n.unsubscribe()}var Fr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var pc={setTimeout(n,e,...t){let{delegate:r}=pc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=pc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function np(n){pc.setTimeout(()=>{let{onUnhandledError:e}=Fr;if(e)e(n);else throw n})}function Nu(){}var xA=Tb("C",void 0,void 0);function AA(n){return Tb("E",void 0,n)}function MA(n){return Tb("N",n,void 0)}function Tb(n,e,t){return{kind:n,value:e,error:t}}var Qo=null;function gc(n){if(Fr.useDeprecatedSynchronousErrorHandling){let e=!Qo;if(e&&(Qo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Qo;if(Qo=null,t)throw r}}else n()}function RA(n){Fr.useDeprecatedSynchronousErrorHandling&&Qo&&(Qo.errorThrown=!0,Qo.error=n)}var Xo=class extends lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tp(e)&&e.add(this)):this.destination=QU}static create(e,t,r){return new Lr(e,t,r)}next(e){this.isStopped?xb(MA(e),this):this._next(e)}error(e){this.isStopped?xb(AA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xb(xA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KU=Function.prototype.bind;function Sb(n,e){return KU.call(n,e)}var Ab=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){rp(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){rp(r)}else rp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){rp(t)}}},Lr=class extends Xo{constructor(e,t,r){super();let i;if(ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Fr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sb(e.next,s),error:e.error&&Sb(e.error,s),complete:e.complete&&Sb(e.complete,s)}):i=e}this.destination=new Ab(i)}};function rp(n){Fr.useDeprecatedSynchronousErrorHandling?RA(n):np(n)}function YU(n){throw n}function xb(n,e){let{onStoppedNotification:t}=Fr;t&&pc.setTimeout(()=>t(n,e))}var QU={closed:!0,next:Nu,error:YU,complete:Nu};var mc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tr(n){return n}function ip(...n){return Mb(n)}function Mb(n){return n.length===0?tr:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=ZU(t)?t:new Lr(t,r,i);return gc(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=PA(r),new r((i,s)=>{let o=new Lr({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[mc](){return this}pipe(...t){return Mb(t)(this)}toPromise(t){return t=PA(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function PA(n){var e;return(e=n??Fr.Promise)!==null&&e!==void 0?e:Promise}function XU(n){return n&&ue(n.next)&&ue(n.error)&&ue(n.complete)}function ZU(n){return n&&n instanceof Xo||XU(n)&&tp(n)}function Rb(n){return ue(n?.lift)}function De(n){return e=>{if(Rb(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,r,i){return new Pb(n,e,t,r,i)}var Pb=class extends Xo{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function yc(){return De((n,e)=>{let t=null;n._refCount++;let r=Ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var vc=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Rb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new lt;let t=this.getSubject();e.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=lt.EMPTY)}return e}refCount(){return yc()(this)}};var kA=fc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new sp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new kA}next(t){gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Cb:(this.currentObservers=null,s.push(t),new lt(()=>{this.currentObservers=null,Yo(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new sp(e,t),n})(),sp=class extends ot{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Cb}};var Bt=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var kb={now(){return(kb.delegate||Date).now()},delegate:void 0};var op=class extends lt{constructor(e,t){super()}schedule(e,t=0){return this}};var Ou={setInterval(n,e,...t){let{delegate:r}=Ou;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ou;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var _c=class extends op{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Ou.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ou.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Yo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var bc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};bc.now=kb.now;var wc=class extends bc{constructor(e,t=bc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Fu=new wc(_c);var ap=class extends _c{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var cp=class extends wc{};var Nb=new cp(ap);var Bn=new de(n=>n.complete());function NA(n){return n&&ue(n.schedule)}function OA(n){return n[n.length-1]}function lp(n){return ue(OA(n))?n.pop():void 0}function Hs(n){return NA(OA(n))?n.pop():void 0}function Ob(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function LA(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function FA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zo(n){return this instanceof Zo?(this.v=n,this):new Zo(n)}function VA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(m){return Promise.resolve(m).then(p,h)}}function a(p,m){r[p]&&(i[p]=function(v){return new Promise(function(_,C){s.push([p,v,_,C])>1||c(p,v)})},m&&(i[p]=m(i[p])))}function c(p,m){try{l(r[p](m))}catch(v){f(s[0][3],v)}}function l(p){p.value instanceof Zo?Promise.resolve(p.value.v).then(u,h):f(s[0][2],p)}function u(p){c("next",p)}function h(p){c("throw",p)}function f(p,m){p(m),s.shift(),s.length&&c(s[0][0],s[0][1])}}function jA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof FA=="function"?FA(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var up=n=>n&&typeof n.length=="number"&&typeof n!="function";function dp(n){return ue(n?.then)}function hp(n){return ue(n[mc])}function fp(n){return Symbol.asyncIterator&&ue(n?.[Symbol.asyncIterator])}function pp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function JU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gp=JU();function mp(n){return ue(n?.[gp])}function yp(n){return VA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Zo(t.read());if(i)return yield Zo(void 0);yield yield Zo(r)}}finally{t.releaseLock()}})}function vp(n){return ue(n?.getReader)}function mt(n){if(n instanceof de)return n;if(n!=null){if(hp(n))return e$(n);if(up(n))return t$(n);if(dp(n))return n$(n);if(fp(n))return BA(n);if(mp(n))return r$(n);if(vp(n))return i$(n)}throw pp(n)}function e$(n){return new de(e=>{let t=n[mc]();if(ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function t$(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function n$(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,np)})}function r$(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function BA(n){return new de(e=>{s$(n,e).catch(t=>e.error(t))})}function i$(n){return BA(yp(n))}function s$(n,e){var t,r,i,s;return LA(this,void 0,void 0,function*(){try{for(t=jA(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Un(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function zs(n,e=0){return De((t,r)=>{t.subscribe(Ce(r,i=>Un(r,n,()=>r.next(i),e),()=>Un(r,n,()=>r.complete(),e),i=>Un(r,n,()=>r.error(i),e)))})}function Ws(n,e=0){return De((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function UA(n,e){return mt(n).pipe(Ws(e),zs(e))}function $A(n,e){return mt(n).pipe(Ws(e),zs(e))}function HA(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function zA(n,e){return new de(t=>{let r;return Un(t,e,()=>{r=n[gp](),Un(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>ue(r?.return)&&r.return()})}function _p(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{Un(t,e,()=>{let r=n[Symbol.asyncIterator]();Un(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function WA(n,e){return _p(yp(n),e)}function qA(n,e){if(n!=null){if(hp(n))return UA(n,e);if(up(n))return HA(n,e);if(dp(n))return $A(n,e);if(fp(n))return _p(n,e);if(mp(n))return zA(n,e);if(vp(n))return WA(n,e)}throw pp(n)}function je(n,e){return e?qA(n,e):mt(n)}function J(...n){let e=Hs(n);return je(n,e)}function qs(n,e){let t=ue(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function Fb(n){return!!n&&(n instanceof de||ue(n.lift)&&ue(n.subscribe))}var Vr=fc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ui(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new Lr({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Vr)}});n.subscribe(s)})}function ne(n,e){return De((t,r)=>{let i=0;t.subscribe(Ce(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:o$}=Array;function a$(n,e){return o$(e)?n(...e):n(e)}function bp(n){return ne(e=>a$(n,e))}var{isArray:c$}=Array,{getPrototypeOf:l$,prototype:u$,keys:d$}=Object;function wp(n){if(n.length===1){let e=n[0];if(c$(e))return{args:e,keys:null};if(h$(e)){let t=d$(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function h$(n){return n&&typeof n=="object"&&l$(n)===u$}function Ep(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Jo(...n){let e=Hs(n),t=lp(n),{args:r,keys:i}=wp(n);if(r.length===0)return je([],e);let s=new de(f$(r,e,i?o=>Ep(i,o):tr));return t?s.pipe(bp(t)):s}function f$(n,e,t=tr){return r=>{GA(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)GA(e,()=>{let l=je(n[c],e),u=!1;l.subscribe(Ce(r,h=>{s[c]=h,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function GA(n,e,t){n?Un(t,n,e):e()}function KA(n,e,t,r,i,s,o,a){let c=[],l=0,u=0,h=!1,f=()=>{h&&!c.length&&!l&&e.complete()},p=v=>l<r?m(v):c.push(v),m=v=>{s&&e.next(v),l++;let _=!1;mt(t(v,u++)).subscribe(Ce(e,C=>{i?.(C),s?p(C):e.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let C=c.shift();o?Un(e,o,()=>m(C)):m(C)}f()}catch(C){e.error(C)}}))};return n.subscribe(Ce(e,p,()=>{h=!0,f()})),()=>{a?.()}}function Dt(n,e,t=1/0){return ue(e)?Dt((r,i)=>ne((s,o)=>e(r,s,i,o))(mt(n(r,i))),t):(typeof e=="number"&&(t=e),De((r,i)=>KA(r,i,n,t)))}function Gs(n=1/0){return Dt(tr,n)}function YA(){return Gs(1)}function Ks(...n){return YA()(je(n,Hs(n)))}function Ip(n){return new de(e=>{mt(n()).subscribe(e)})}function Lu(...n){let e=lp(n),{args:t,keys:r}=wp(n),i=new de(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let h=!1;mt(t[u]).subscribe(Ce(s,f=>{h||(h=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!h)&&(l||s.next(r?Ep(r,a):a),s.complete())}))}});return e?i.pipe(bp(e)):i}function Wt(n,e){return De((t,r)=>{let i=0;t.subscribe(Ce(r,s=>n.call(e,s,i++)&&r.next(s)))})}function jr(n){return De((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Ce(t,void 0,void 0,o=>{s=mt(n(o,jr(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function QA(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(Ce(o,u=>{let h=l++;c=a?n(c,u,h):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function di(n,e){return ue(e)?Dt(n,e,1):Dt(n,1)}function Lb(n,e=Fu){return De((t,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(Ce(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function Ys(n){return De((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function nr(n){return n<=0?()=>Bn:De((e,t)=>{let r=0;e.subscribe(Ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Dp(n=p$){return De((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function p$(){return new Vr}function Qs(n){return De((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ts(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Wt((i,s)=>n(i,s,r)):tr,nr(1),t?Ys(e):Dp(()=>new Vr))}function Ec(n){return n<=0?()=>Bn:De((e,t)=>{let r=[];e.subscribe(Ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Vb(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Wt((i,s)=>n(i,s,r)):tr,Ec(1),t?Ys(e):Dp(()=>new Vr))}function Cp(n,e){return De(QA(n,e,arguments.length>=2,!0))}function Bb(n={}){let{connector:e=()=>new ot,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,u=!1,h=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),o=c=void 0,u=h=!1},m=()=>{let v=o;p(),v?.unsubscribe()};return De((v,_)=>{l++,!h&&!u&&f();let C=c=c??e();_.add(()=>{l--,l===0&&!h&&!u&&(a=jb(m,i))}),C.subscribe(_),!o&&l>0&&(o=new Lr({next:x=>C.next(x),error:x=>{h=!0,f(),a=jb(p,t,x),C.error(x)},complete:()=>{u=!0,f(),a=jb(p,r),C.complete()}}),mt(v).subscribe(o))})(s)}}function jb(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Lr({next:()=>{r.unsubscribe(),n()}});return mt(e(...t)).subscribe(r)}function Ub(n){return Wt((e,t)=>n<=t)}function Ic(...n){let e=Hs(n);return De((t,r)=>{(e?Ks(n,t,e):Ks(n,t)).subscribe(r)})}function vn(n,e){return De((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(Ce(r,c=>{i?.unsubscribe();let l=0,u=s++;mt(n(c,u)).subscribe(i=Ce(r,h=>r.next(e?e(c,h,u,l++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Vu(n){return De((e,t)=>{mt(n).subscribe(Ce(t,()=>t.complete(),Nu)),!t.closed&&e.subscribe(t)})}function Ct(n,e,t){let r=ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?De((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Ce(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tr}var $M="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",G=class extends Error{code;constructor(e,t){super(dw(e,t)),this.code=e}};function g$(n){return`NG0${Math.abs(n)}`}function dw(n,e){return`${g$(n)}${e?": "+e:""}`}var HM=Symbol("InputSignalNode#UNSET"),m$=fe(z({},Zf),{transformFn:void 0,applyValueToInputSignal(n,e){Pu(n,e)}});function zM(n,e){let t=Object.create(m$);t.value=n,t.transformFn=e?.transform;function r(){if(Ru(t),t.value===HM){let i=null;throw new G(-950,i)}return t.value}return r[mr]=t,r}function Qu(n){return{toString:n}.toString()}var Tp="__parameters__";function y$(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function WM(n,e,t){return Qu(()=>{let r=y$(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let h=c.hasOwnProperty(Tp)?c[Tp]:Object.defineProperty(c,Tp,{value:[]})[Tp];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var hi=globalThis;function Ye(n){for(let e in n)if(n[e]===Ye)return e;throw Error("Could not find renamed property on target object.")}function v$(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function zn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(zn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function r0(n,e){return n?e?`${n} ${e}`:n:e||""}var _$=Ye({__forward_ref__:Ye});function vi(n){return n.__forward_ref__=vi,n.toString=function(){return zn(this())},n}function An(n){return qM(n)?n():n}function qM(n){return typeof n=="function"&&n.hasOwnProperty(_$)&&n.__forward_ref__===vi}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function on(n){return{providers:n.providers||[],imports:n.imports||[]}}function ug(n){return XA(n,KM)||XA(n,YM)}function GM(n){return ug(n)!==null}function XA(n,e){return n.hasOwnProperty(e)?n[e]:null}function b$(n){let e=n&&(n[KM]||n[YM]);return e||null}function ZA(n){return n&&(n.hasOwnProperty(JA)||n.hasOwnProperty(w$))?n[JA]:null}var KM=Ye({\u0275prov:Ye}),JA=Ye({\u0275inj:Ye}),YM=Ye({ngInjectableDef:Ye}),w$=Ye({ngInjectorDef:Ye}),Y=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function QM(n){return n&&!!n.\u0275providers}var E$=Ye({\u0275cmp:Ye}),I$=Ye({\u0275dir:Ye}),D$=Ye({\u0275pipe:Ye}),C$=Ye({\u0275mod:Ye}),Lp=Ye({\u0275fac:Ye}),$u=Ye({__NG_ELEMENT_ID__:Ye}),eM=Ye({__NG_ENV_ID__:Ye});function Mc(n){return typeof n=="string"?n:n==null?"":String(n)}function T$(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Mc(n)}function XM(n,e){throw new G(-200,n)}function hw(n,e){throw new G(-201,!1)}var Ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ee||{}),i0;function ZM(){return i0}function $n(n){let e=i0;return i0=n,e}function JM(n,e,t){let r=ug(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ee.Optional)return null;if(e!==void 0)return e;hw(n,"Injector")}var S$={},ta=S$,s0="__NG_DI_FLAG__",Vp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Jf:ta,r)}},jp="ngTempTokenPath",x$="ngTokenPath",A$=/\n/gm,M$="\u0275",tM="__source";function R$(n,e=Ee.Default){if(ku()===void 0)throw new G(-203,!1);if(ku()===null)return JM(n,void 0,e);{let t=ku(),r;return t instanceof Vp?r=t.injector:r=t,r.get(n,e&Ee.Optional?null:void 0,e)}}function Z(n,e=Ee.Default){return(ZM()||R$)(An(n),e)}function F(n,e=Ee.Default){return Z(n,dg(e))}function dg(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function o0(n){let e=[];for(let t=0;t<n.length;t++){let r=An(n[t]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,s=Ee.Default;for(let o=0;o<r.length;o++){let a=r[o],c=P$(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function eR(n,e){return n[s0]=e,n.prototype[s0]=e,n}function P$(n){return n[s0]}function k$(n,e,t,r){let i=n[jp];throw e[tM]&&i.unshift(e[tM]),n.message=N$(`
`+n.message,i,t,r),n[x$]=i,n[jp]=null,n}function N$(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==M$?n.slice(2):n;let i=zn(e);if(Array.isArray(e))i=e.map(zn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):zn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(A$,`
  `)}`}var Rn=eR(WM("Optional"),8);var tR=eR(WM("SkipSelf"),4);function ra(n,e){let t=n.hasOwnProperty(Lp);return t?n[Lp]:null}function O$(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function F$(n){return n.flat(Number.POSITIVE_INFINITY)}function fw(n,e){n.forEach(t=>Array.isArray(t)?fw(t,e):e(t))}function nR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Bp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function L$(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function V$(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function pw(n,e,t){let r=Xu(n,e);return r>=0?n[r|1]=t:(r=~r,V$(n,r,e,t)),r}function $b(n,e){let t=Xu(n,e);if(t>=0)return n[t|1]}function Xu(n,e){return j$(n,e,1)}function j$(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var ia={},Hn=[],Rc=new Y(""),rR=new Y("",-1),iR=new Y(""),Up=class{get(e,t=ta){if(t===ta){let r=new Error(`NullInjectorError: No provider for ${zn(e)}!`);throw r.name="NullInjectorError",r}return t}};function sR(n,e){let t=n[C$]||null;if(!t&&e===!0)throw new Error(`Type ${zn(n)} does not have '\u0275mod' property.`);return t}function sa(n){return n[E$]||null}function B$(n){return n[I$]||null}function U$(n){return n[D$]||null}function vr(n){return{\u0275providers:n}}function $$(...n){return{\u0275providers:oR(!0,n),\u0275fromNgModule:!0}}function oR(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return fw(e,o=>{let a=o;a0(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&aR(i,s),t}function aR(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];gw(i,s=>{e(s,r)})}}function a0(n,e,t,r){if(n=An(n),!n)return!1;let i=null,s=ZA(n),o=!s&&sa(n);if(!s&&!o){let c=n.ngModule;if(s=ZA(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)a0(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{fw(s.imports,u=>{a0(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&aR(l,e)}if(!a){let l=ra(i)||(()=>new i);e({provide:i,useFactory:l,deps:Hn},i),e({provide:iR,useValue:i,multi:!0},i),e({provide:Rc,useValue:()=>Z(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=n;gw(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function gw(n,e){for(let t of n)QM(t)&&(t=t.\u0275providers),Array.isArray(t)?gw(t,e):e(t)}var H$=Ye({provide:String,useValue:Ye});function cR(n){return n!==null&&typeof n=="object"&&H$ in n}function z$(n){return!!(n&&n.useExisting)}function W$(n){return!!(n&&n.useFactory)}function Pc(n){return typeof n=="function"}function q$(n){return!!n.useClass}var hg=new Y(""),Rp={},nM={},Hb;function mw(){return Hb===void 0&&(Hb=new Up),Hb}var sn=class{},Hu=class extends sn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,l0(e,o=>this.processProvider(o)),this.records.set(rR,Dc(void 0,this)),i.has("environment")&&this.records.set(sn,Dc(void 0,this));let s=this.records.get(hg);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(iR,Hn,Ee.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Jf:ta,r)}destroy(){Bu(this),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return Bu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Bu(this);let t=es(this),r=$n(void 0),i;try{return e()}finally{es(t),$n(r)}}get(e,t=ta,r=Ee.Default){if(Bu(this),e.hasOwnProperty(eM))return e[eM](this);r=dg(r);let i,s=es(this),o=$n(void 0);try{if(!(r&Ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=X$(e)&&ug(e);l&&this.injectableDefInScope(l)?c=Dc(c0(e),Rp):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ee.Self?mw():this.parent;return t=r&Ee.Optional&&t===ta?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[jp]=a[jp]||[]).unshift(zn(e)),s)throw a;return k$(a,e,"R3InjectorError",this.source)}else throw a}finally{$n(o),es(s)}}resolveInjectorInitializers(){let e=ve(null),t=es(this),r=$n(void 0),i;try{let s=this.get(Rc,Hn,Ee.Self);for(let o of s)o()}finally{es(t),$n(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(zn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=An(e);let t=Pc(e)?e:An(e&&e.provide),r=K$(e);if(!Pc(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Dc(void 0,Rp,!0),i.factory=()=>o0(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ve(null);try{return t.value===nM?XM(zn(e)):t.value===Rp&&(t.value=nM,t.value=t.factory()),typeof t.value=="object"&&t.value&&Q$(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=An(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function c0(n){let e=ug(n),t=e!==null?e.factory:ra(n);if(t!==null)return t;if(n instanceof Y)throw new G(204,!1);if(n instanceof Function)return G$(n);throw new G(204,!1)}function G$(n){if(n.length>0)throw new G(204,!1);let t=b$(n);return t!==null?()=>t.factory(n):()=>new n}function K$(n){if(cR(n))return Dc(void 0,n.useValue);{let e=lR(n);return Dc(e,Rp)}}function lR(n,e,t){let r;if(Pc(n)){let i=An(n);return ra(i)||c0(i)}else if(cR(n))r=()=>An(n.useValue);else if(W$(n))r=()=>n.useFactory(...o0(n.deps||[]));else if(z$(n))r=()=>Z(An(n.useExisting));else{let i=An(n&&(n.useClass||n.provide));if(Y$(n))r=()=>new i(...o0(n.deps));else return ra(i)||c0(i)}return r}function Bu(n){if(n.destroyed)throw new G(205,!1)}function Dc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Y$(n){return!!n.deps}function Q$(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function X$(n){return typeof n=="function"||typeof n=="object"&&n instanceof Y}function l0(n,e){for(let t of n)Array.isArray(t)?l0(t,e):t&&QM(t)?l0(t.\u0275providers,e):e(t)}function an(n,e){let t;n instanceof Hu?(Bu(n),t=n):t=new Vp(n);let r,i=es(t),s=$n(void 0);try{return e()}finally{es(i),$n(s)}}function uR(){return ZM()!==void 0||ku()!=null}function yw(n){if(!uR())throw new G(-203,!1)}function Z$(n){return typeof n=="function"}var os=0,he=1,ce=2,bn=3,$r=4,Wn=5,kc=6,$p=7,Ut=8,Nc=9,ns=10,Tt=11,zu=12,rM=13,Hc=14,rr=15,oa=16,Cc=17,rs=18,fg=19,dR=20,Xs=21,zb=22,Hp=23,yr=24,xc=25,qt=26,hR=1;var aa=7,zp=8,Oc=9,_n=10;function Zs(n){return Array.isArray(n)&&typeof n[hR]=="object"}function as(n){return Array.isArray(n)&&n[hR]===!0}function fR(n){return(n.flags&4)!==0}function zc(n){return n.componentOffset>-1}function vw(n){return(n.flags&1)===1}function pi(n){return!!n.template}function Wp(n){return(n[ce]&512)!==0}function Zu(n){return(n[ce]&256)===256}var u0=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function pR(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Gt=(()=>{let n=()=>gR;return n.ngInherit=!0,n})();function gR(n){return n.type.prototype.ngOnChanges&&(n.setInput=eH),J$}function J$(){let n=yR(this),e=n?.current;if(e){let t=n.previous;if(t===ia)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function eH(n,e,t,r,i){let s=this.declaredInputs[r],o=yR(n)||tH(n,{previous:ia,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new u0(l&&l.currentValue,t,c===ia),pR(n,e,i,t)}var mR="__ngSimpleChanges__";function yR(n){return n[mR]||null}function tH(n,e){return n[mR]=e}var iM=null;var He=function(n,e=null,t){iM?.(n,e,t)},nH="svg",rH="math";function gi(n){for(;Array.isArray(n);)n=n[os];return n}function vR(n,e){return gi(e[n])}function _i(n,e){return gi(e[n.index])}function _w(n,e){return n.data[e]}function bw(n,e){return n[e]}function mi(n,e){let t=e[n];return Zs(t)?t:t[os]}function iH(n){return(n[ce]&4)===4}function ww(n){return(n[ce]&128)===128}function sH(n){return as(n[bn])}function Fc(n,e){return e==null?null:n[e]}function _R(n){n[Cc]=0}function bR(n){n[ce]&1024||(n[ce]|=1024,ww(n)&&Ju(n))}function oH(n,e){for(;n>0;)e=e[Hc],n--;return e}function pg(n){return!!(n[ce]&9216||n[yr]?.dirty)}function d0(n){n[ns].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),pg(n)&&Ju(n)}function Ju(n){n[ns].changeDetectionScheduler?.notify(0);let e=ca(n);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!ww(e)));)e=ca(e)}function wR(n,e){if(Zu(n))throw new G(911,!1);n[Xs]===null&&(n[Xs]=[]),n[Xs].push(e)}function aH(n,e){if(n[Xs]===null)return;let t=n[Xs].indexOf(e);t!==-1&&n[Xs].splice(t,1)}function ca(n){let e=n[bn];return as(e)?e[bn]:e}function Ew(n){return n[$p]??=[]}function Iw(n){return n.cleanup??=[]}function cH(n,e,t,r){let i=Ew(e);i.push(t),n.firstCreatePass&&Iw(n).push(r,i.length-1)}var _e={lFrame:RR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var h0=!1;function lH(){return _e.lFrame.elementDepthCount}function uH(){_e.lFrame.elementDepthCount++}function dH(){_e.lFrame.elementDepthCount--}function ER(){return _e.bindingsEnabled}function IR(){return _e.skipHydrationRootTNode!==null}function hH(n){return _e.skipHydrationRootTNode===n}function fH(){_e.skipHydrationRootTNode=null}function ye(){return _e.lFrame.lView}function Mt(){return _e.lFrame.tView}function Ue(n){return _e.lFrame.contextLView=n,n[Ut]}function $e(n){return _e.lFrame.contextLView=null,n}function Pn(){let n=DR();for(;n!==null&&n.type===64;)n=n.parent;return n}function DR(){return _e.lFrame.currentTNode}function pH(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ed(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function CR(){return _e.lFrame.isParent}function TR(){_e.lFrame.isParent=!1}function gH(){return _e.lFrame.contextLView}function SR(){return h0}function sM(n){let e=h0;return h0=n,e}function Dw(){let n=_e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mH(){return _e.lFrame.bindingIndex}function yH(n){return _e.lFrame.bindingIndex=n}function Wc(){return _e.lFrame.bindingIndex++}function Cw(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function vH(){return _e.lFrame.inI18n}function _H(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,f0(e)}function bH(){return _e.lFrame.currentDirectiveIndex}function f0(n){_e.lFrame.currentDirectiveIndex=n}function wH(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function xR(){return _e.lFrame.currentQueryIndex}function Tw(n){_e.lFrame.currentQueryIndex=n}function EH(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[Wn]:null}function AR(n,e,t){if(t&Ee.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&Ee.Host);)if(i=EH(s),i===null||(s=s[Hc],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=_e.lFrame=MR();return r.currentTNode=e,r.lView=n,!0}function Sw(n){let e=MR(),t=n[he];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function MR(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?RR(n):e}function RR(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function PR(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var kR=PR;function xw(){let n=PR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IH(n){return(_e.lFrame.contextLView=oH(n,_e.lFrame.contextLView))[Ut]}function cs(){return _e.lFrame.selectedIndex}function la(n){_e.lFrame.selectedIndex=n}function Aw(){let n=_e.lFrame;return _w(n.tView,n.selectedIndex)}function DH(){return _e.lFrame.currentNamespace}var NR=!0;function Mw(){return NR}function Rw(n){NR=n}function CH(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=gR(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function OR(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Pp(n,e,t){FR(n,e,3,t)}function kp(n,e,t,r){(n[ce]&3)===t&&FR(n,e,t,r)}function Wb(n,e){let t=n[ce];(t&3)===e&&(t&=16383,t+=1,n[ce]=t)}function FR(n,e,t,r){let i=r!==void 0?n[Cc]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Cc]+=65536),(a<s||s==-1)&&(TH(n,t,e,c),n[Cc]=(n[Cc]&4294901760)+c+2),c++}function oM(n,e){He(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),He(5,n,e)}}function TH(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[ce]>>14<n[Cc]>>16&&(n[ce]&3)===e&&(n[ce]+=16384,oM(a,s)):oM(a,s)}var Ac=-1,ua=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function SH(n){return(n.flags&8)!==0}function xH(n){return(n.flags&16)!==0}function AH(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];MH(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function LR(n){return n===3||n===4||n===6}function MH(n){return n.charCodeAt(0)===64}function Wu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?aM(n,t,i,null,e[++r]):aM(n,t,i,null,null))}}return n}function aM(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function VR(n){return n!==Ac}function qp(n){return n&32767}function RH(n){return n>>16}function Gp(n,e){let t=RH(n),r=e;for(;t>0;)r=r[Hc],t--;return r}var p0=!0;function Kp(n){let e=p0;return p0=n,e}var PH=256,jR=PH-1,BR=5,kH=0,fi={};function NH(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty($u)&&(r=t[$u]),r==null&&(r=t[$u]=kH++);let i=r&jR,s=1<<i;e.data[n+(i>>BR)]|=s}function Yp(n,e){let t=UR(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,qb(r.data,n),qb(e,null),qb(r.blueprint,null));let i=Pw(n,e),s=n.injectorIndex;if(VR(i)){let o=qp(i),a=Gp(i,e),c=a[he].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function qb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function UR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Pw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=qR(i),r===null)return Ac;if(t++,i=i[Hc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ac}function g0(n,e,t){NH(n,e,t)}function OH(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(LR(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function $R(n,e,t){if(t&Ee.Optional||n!==void 0)return n;hw(e,"NodeInjector")}function HR(n,e,t,r){if(t&Ee.Optional&&r===void 0&&(r=null),(t&(Ee.Self|Ee.Host))===0){let i=n[Nc],s=$n(void 0);try{return i?i.get(e,r,t&Ee.Optional):JM(e,r,t&Ee.Optional)}finally{$n(s)}}return $R(r,e,t)}function zR(n,e,t,r=Ee.Default,i){if(n!==null){if(e[ce]&2048&&!(r&Ee.Self)){let o=jH(n,e,t,r,fi);if(o!==fi)return o}let s=WR(n,e,t,r,fi);if(s!==fi)return s}return HR(e,t,r,i)}function WR(n,e,t,r,i){let s=LH(t);if(typeof s=="function"){if(!AR(e,n,r))return r&Ee.Host?$R(i,t,r):HR(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&Ee.Optional))hw(t);else return o}finally{kR()}}else if(typeof s=="number"){let o=null,a=UR(n,e),c=Ac,l=r&Ee.Host?e[rr][Wn]:null;for((a===-1||r&Ee.SkipSelf)&&(c=a===-1?Pw(n,e):e[a+8],c===Ac||!lM(r,!1)?a=-1:(o=e[he],a=qp(c),e=Gp(c,e)));a!==-1;){let u=e[he];if(cM(s,a,u.data)){let h=FH(a,e,t,o,r,l);if(h!==fi)return h}c=e[a+8],c!==Ac&&lM(r,e[he].data[a+8]===l)&&cM(s,a,e)?(o=u,a=qp(c),e=Gp(c,e)):a=-1}}return i}function FH(n,e,t,r,i,s){let o=e[he],a=o.data[n+8],c=r==null?zc(a)&&p0:r!=o&&(a.type&3)!==0,l=i&Ee.Host&&s===a,u=Np(a,o,t,c,l);return u!==null?qu(e,o,u,a):fi}function Np(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,l=n.directiveEnd,u=s>>20,h=r?a:a+u,f=i?a+u:l;for(let p=h;p<f;p++){let m=o[p];if(p<c&&t===m||p>=c&&m.type===t)return p}if(i){let p=o[c];if(p&&pi(p)&&p.type===t)return c}return null}function qu(n,e,t,r){let i=n[t],s=e.data;if(i instanceof ua){let o=i;o.resolving&&XM(T$(s[t]));let a=Kp(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?$n(o.injectImpl):null,u=AR(n,r,Ee.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&CH(t,s[t],e)}finally{l!==null&&$n(l),Kp(a),o.resolving=!1,kR()}}return i}function LH(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty($u)?n[$u]:void 0;return typeof e=="number"?e>=0?e&jR:VH:e}function cM(n,e,t){let r=1<<n;return!!(t[e+(n>>BR)]&r)}function lM(n,e){return!(n&Ee.Self)&&!(n&Ee.Host&&e)}var na=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return zR(this._tNode,this._lView,e,dg(r),t)}};function VH(){return new na(Pn(),ye())}function ls(n){return Qu(()=>{let e=n.prototype.constructor,t=e[Lp]||m0(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Lp]||m0(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function m0(n){return qM(n)?()=>{let e=m0(An(n));return e&&e()}:ra(n)}function jH(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[ce]&2048&&!Wp(o);){let a=WR(s,o,t,r|Ee.Self,fi);if(a!==fi)return a;let c=s.parent;if(!c){let l=o[dR];if(l){let u=l.get(t,fi,r);if(u!==fi)return u}c=qR(o),o=o[Hc]}s=c}return i}function qR(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[Wn]:null}function gg(n){return OH(Pn(),n)}function uM(n,e=null,t=null,r){let i=GR(n,e,t,r);return i.resolveInjectorInitializers(),i}function GR(n,e=null,t=null,r,i=new Set){let s=[t||Hn,$$(n)];return r=r||(typeof n=="object"?void 0:zn(n)),new Hu(s,e||mw(),r||null,i)}var wt=class n{static THROW_IF_NOT_FOUND=ta;static NULL=new Up;static create(e,t){if(Array.isArray(e))return uM({name:""},t,e,"");{let r=e.name??"";return uM({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>Z(rR)});static __NG_ELEMENT_ID__=-1};var Qp=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>gg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},BH=new Y("");BH.__NG_ELEMENT_ID__=n=>{let e=Pn();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(n&Ee.Optional)return null;throw new G(204,!1)};var KR=!1,qc=(()=>{class n{static __NG_ELEMENT_ID__=UH;static __NG_ENV_ID__=t=>t}return n})(),y0=class extends qc{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return wR(this._lView,e),()=>aH(this._lView,e)}};function UH(){return new y0(ye())}var da=class{},mg=new Y("",{providedIn:"root",factory:()=>!1});var YR=new Y(""),QR=new Y(""),to=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Bt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),yg=(()=>{class n{internalPendingTasks=F(to);scheduler=F(da);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return E(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),v0=class extends ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,uR()&&(this.destroyRef=F(qc,{optional:!0})??void 0,this.pendingTasks=F(to,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof lt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},ut=v0;function Xp(...n){}function XR(n){let e,t;function r(){n=Xp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function dM(n){return queueMicrotask(()=>n()),()=>{n=Xp}}var kw="isAngularZone",Zp=kw+"_ID",$H=0,xe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ut(!1);onMicrotaskEmpty=new ut(!1);onStable=new ut(!1);onError=new ut(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=KR}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,WH(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(kw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new G(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,HH,Xp,Xp);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},HH={};function Nw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zH(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){XR(()=>{n.callbackScheduled=!1,_0(n),n.isCheckStableRunning=!0,Nw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),_0(n)}function WH(n){let e=()=>{zH(n)},t=$H++;n._inner=n._inner.fork({name:"angular",properties:{[kw]:!0,[Zp]:t,[Zp+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(qH(c))return r.invokeTask(s,o,a,c);try{return hM(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),fM(n)}},onInvoke:(r,i,s,o,a,c,l)=>{try{return hM(n),r.invoke(s,o,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!GH(c)&&e(),fM(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,_0(n),Nw(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function _0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fM(n){n._nesting--,Nw(n)}var b0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ut;onMicrotaskEmpty=new ut;onStable=new ut;onError=new ut;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function qH(n){return ZR(n,"__ignore_ng_zone__")}function GH(n){return ZR(n,"__scheduler_tick__")}function ZR(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Mn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},KH=new Y("",{providedIn:"root",factory:()=>{let n=F(xe),e=F(Mn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function pM(n,e){return zM(n,e)}function YH(n){return zM(HM,n)}var JR=(pM.required=YH,pM);function QH(){return Gc(Pn(),ye())}function Gc(n,e){return new cn(_i(n,e))}var cn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=QH}return n})();function XH(n){return n instanceof cn?n.nativeElement:n}function ZH(n){return typeof n=="function"&&n[mr]!==void 0}function Kc(n,e){let t=wb(n,e?.equal),r=t[mr];return t.set=i=>Pu(r,i),t.update=i=>Eb(r,i),t.asReadonly=JH.bind(t),t}function JH(){let n=this[mr];if(n.readonlyFn===void 0){let e=()=>this();e[mr]=n,n.readonlyFn=e}return n.readonlyFn}function eP(n){return ZH(n)&&typeof n.set=="function"}function ez(){return this._results[Symbol.iterator]()}var w0=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ot}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=F$(e);(this._changesDetected=!O$(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ez};function tP(n){return(n.flags&128)===128}var nP=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nP||{}),rP=new Map,tz=0;function nz(){return tz++}function rz(n){rP.set(n[fg],n)}function E0(n){rP.delete(n[fg])}var gM="__ngContext__";function td(n,e){Zs(e)?(n[gM]=e[fg],rz(e)):n[gM]=e}function iP(n){return oP(n[zu])}function sP(n){return oP(n[$r])}function oP(n){for(;n!==null&&!as(n);)n=n[$r];return n}var I0;function aP(n){I0=n}function iz(){if(I0!==void 0)return I0;if(typeof document<"u")return document;throw new G(210,!1)}var Ow=new Y("",{providedIn:"root",factory:()=>sz}),sz="ng",Fw=new Y(""),zr=new Y("",{providedIn:"platform",factory:()=>"unknown"});var nd=new Y("",{providedIn:"root",factory:()=>iz().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oz="h",az="b";var cP=!1,cz=new Y("",{providedIn:"root",factory:()=>cP});var Lw=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Lw||{}),Yc=new Y(""),mM=new Set;function no(n){mM.has(n)||(mM.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var lP=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=lz}return n})();function lz(){return new lP(ye(),Pn())}var Tc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Tc||{}),uP=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),uz=[Tc.EarlyRead,Tc.Write,Tc.MixedReadWrite,Tc.Read],dz=(()=>{class n{ngZone=F(xe);scheduler=F(da);errorHandler=F(Mn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(Yc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&He(16),this.executing=!0;for(let r of uz)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&He(17)}register(t){let{view:r}=t;r!==void 0?((r[xc]??=[]).push(t),Ju(r),r[ce]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Lw.AFTER_NEXT_RENDER,t):t()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),D0=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[xc];e&&(this.view[xc]=e.filter(t=>t!==this))}};function vg(n,e){!e?.injector&&yw(vg);let t=e?.injector??F(wt);return no("NgAfterNextRender"),fz(n,t,e,!0)}function hz(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function fz(n,e,t,r){let i=e.get(uP);i.impl??=e.get(dz);let s=e.get(Yc,null,{optional:!0}),o=t?.phase??Tc.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(qc):null,c=e.get(lP,null,{optional:!0}),l=new D0(i.impl,hz(n,o),c?.view,r,a,s?.snapshot(null));return i.impl.register(l),l}var pz=()=>null;function dP(n,e,t=!1){return pz(n,e,t)}function hP(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Tw(s),a.contentQueries(2,e[o],o)}}}finally{ve(r)}}}function C0(n,e,t){Tw(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function fP(n,e,t){if(fR(e)){let r=ve(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{ve(r)}}}var yi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(yi||{}),Sp;function gz(){if(Sp===void 0&&(Sp=null,hi.trustedTypes))try{Sp=hi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sp}function _g(n){return gz()?.createHTML(n)||n}var xp;function mz(){if(xp===void 0&&(xp=null,hi.trustedTypes))try{xp=hi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xp}function yM(n){return mz()?.createScriptURL(n)||n}var is=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$M})`}},T0=class extends is{getTypeName(){return"HTML"}},S0=class extends is{getTypeName(){return"Style"}},x0=class extends is{getTypeName(){return"Script"}},A0=class extends is{getTypeName(){return"URL"}},M0=class extends is{getTypeName(){return"ResourceURL"}};function Wr(n){return n instanceof is?n.changingThisBreaksApplicationSecurity:n}function ro(n,e){let t=yz(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${$M})`)}return t===e}function yz(n){return n instanceof is&&n.getTypeName()||null}function pP(n){return new T0(n)}function gP(n){return new S0(n)}function mP(n){return new x0(n)}function yP(n){return new A0(n)}function vP(n){return new M0(n)}function vz(n){let e=new P0(n);return _z()?new R0(e):e}var R0=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(_g(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},P0=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=_g(e),t}};function _z(){try{return!!new window.DOMParser().parseFromString(_g(""),"text/html")}catch{return!1}}var bz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bg(n){return n=String(n),n.match(bz)?n:"unsafe:"+n}function us(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function rd(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var _P=us("area,br,col,hr,img,wbr"),bP=us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wP=us("rp,rt"),wz=rd(wP,bP),Ez=rd(bP,us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Iz=rd(wP,us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vM=rd(_P,Ez,Iz,wz),EP=us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dz=us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cz=us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Tz=rd(EP,Dz,Cz),Sz=us("script,style,template"),k0=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=Mz(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Az(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=_M(e).toLowerCase();if(!vM.hasOwnProperty(t))return this.sanitizedSomething=!0,!Sz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!Tz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;EP[a]&&(c=bg(c)),this.buf.push(" ",o,'="',bM(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=_M(e).toLowerCase();vM.hasOwnProperty(t)&&!_P.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(bM(e))}};function xz(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Az(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw IP(e);return e}function Mz(n){let e=n.firstChild;if(e&&xz(n,e))throw IP(e);return e}function _M(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function IP(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Rz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pz=/([^\#-~ |!])/g;function bM(n){return n.replace(/&/g,"&amp;").replace(Rz,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(Pz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ap;function DP(n,e){let t=null;try{Ap=Ap||vz(n);let r=e?String(e):"";t=Ap.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Ap.getInertBodyElement(r)}while(r!==s);let a=new k0().sanitizeChildren(wM(t)||t);return _g(a)}finally{if(t){let r=wM(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function wM(n){return"content"in n&&kz(n)?n.content:null}function kz(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var wn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(wn||{});function Nz(n){let e=TP();return e?e.sanitize(wn.URL,n)||"":ro(n,"URL")?Wr(n):bg(Mc(n))}function Oz(n){let e=TP();if(e)return yM(e.sanitize(wn.RESOURCE_URL,n)||"");if(ro(n,"ResourceURL"))return yM(Wr(n));throw new G(904,!1)}function Fz(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Oz:Nz}function CP(n,e,t){return Fz(e,t)(n)}function TP(){let n=ye();return n&&n[ns].sanitizer}function SP(n){return n.ownerDocument.defaultView}function xP(n){return n instanceof Function?n():n}function Lz(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var AP="ng-template";function Vz(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Lz(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Vw(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Vw(n){return n.type===4&&n.value!==AP}function jz(n,e,t){let r=n.type===4&&!t?AP:n.value;return e===r}function Bz(n,e,t){let r=4,i=n.attrs,s=i!==null?Hz(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Br(r)&&!Br(c))return!1;if(o&&Br(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!jz(n,c,t)||c===""&&e.length===1){if(Br(r))return!1;o=!0}}else if(r&8){if(i===null||!Vz(n,i,c,t)){if(Br(r))return!1;o=!0}}else{let l=e[++a],u=Uz(c,i,Vw(n),t);if(u===-1){if(Br(r))return!1;o=!0;continue}if(l!==""){let h;if(u>s?h="":h=i[u+1].toLowerCase(),r&2&&l!==h){if(Br(r))return!1;o=!0}}}}return Br(r)||o}function Br(n){return(n&1)===0}function Uz(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return zz(e,n)}function MP(n,e,t=!1){for(let r=0;r<e.length;r++)if(Bz(n,e[r],t))return!0;return!1}function $z(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Hz(n){for(let e=0;e<n.length;e++){let t=n[e];if(LR(t))return e}return n.length}function zz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Wz(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function EM(n,e){return n?":not("+e.trim()+")":e}function qz(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Br(o)&&(e+=EM(s,i),i=""),r=o,s=s||!Br(r);t++}return i!==""&&(e+=EM(s,i)),e}function Gz(n){return n.map(qz).join(",")}function Kz(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Br(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var ir={};function Yz(n,e){return n.createText(e)}function Qz(n,e,t){n.setValue(e,t)}function RP(n,e,t){return n.createElement(e,t)}function Jp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function PP(n,e,t){n.appendChild(e,t)}function IM(n,e,t,r,i){r!==null?Jp(n,e,t,r,i):PP(n,e,t)}function Xz(n,e,t){n.removeChild(null,e,t)}function Zz(n,e,t){n.setAttribute(e,"style",t)}function Jz(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kP(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&AH(n,e,r),i!==null&&Jz(n,e,i),s!==null&&Zz(n,e,s)}function jw(n,e,t,r,i,s,o,a,c,l,u){let h=qt+r,f=h+i,p=e4(h,f),m=typeof l=="function"?l():l;return p[he]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function e4(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ir);return t}function t4(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=jw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Bw(n,e,t,r,i,s,o,a,c,l,u){let h=e.blueprint.slice();return h[os]=i,h[ce]=r|4|128|8|64|1024,(l!==null||n&&n[ce]&2048)&&(h[ce]|=2048),_R(h),h[bn]=h[Hc]=n,h[Ut]=t,h[ns]=o||n&&n[ns],h[Tt]=a||n&&n[Tt],h[Nc]=c||n&&n[Nc]||null,h[Wn]=s,h[fg]=nz(),h[kc]=u,h[dR]=l,h[rr]=e.type==2?n[rr]:h,h}function n4(n,e,t){let r=_i(e,n),i=t4(t),s=n[ns].rendererFactory,o=Uw(n,Bw(n,i,null,NP(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function NP(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function OP(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Uw(n,e){return n[zu]?n[rM][$r]=e:n[zu]=e,n[rM]=e,e}function $(n=1){FP(Mt(),ye(),cs()+n,!1)}function FP(n,e,t,r){if(!r)if((e[ce]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Pp(e,s,t)}else{let s=n.preOrderHooks;s!==null&&kp(e,s,0,t)}la(t)}var wg=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(wg||{});function N0(n,e,t,r){let i=ve(null);try{let[s,o,a]=n.inputs[t],c=null;(o&wg.SignalBased)!==0&&(c=e[s][mr]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):pR(e,c,s,r)}finally{ve(i)}}function LP(n,e,t,r,i){let s=cs(),o=r&2;try{la(-1),o&&e.length>qt&&FP(n,e,qt,!1),He(o?2:0,i),t(r,i)}finally{la(s),He(o?3:1,i)}}function $w(n,e,t){c4(n,e,t),(t.flags&64)===64&&l4(n,e,t)}function VP(n,e,t=_i){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function r4(n,e,t,r){let s=r.get(cz,cP)||t===yi.ShadowDom,o=n.selectRootElement(e,s);return i4(o),o}function i4(n){s4(n)}var s4=()=>null;function o4(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function jP(n,e,t,r,i,s,o,a){if(!a&&Hw(e,n,t,r,i)){zc(e)&&a4(t,e.index);return}if(e.type&3){let c=_i(e,t);r=o4(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)}else e.type&12}function a4(n,e){let t=mi(e,n);t[ce]&16||(t[ce]|=64)}function c4(n,e,t){let r=t.directiveStart,i=t.directiveEnd;zc(t)&&n4(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Yp(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=qu(e,n,o,t);if(td(c,e),s!==null&&f4(e,o-r,c,a,t,s),pi(a)){let l=mi(t.index,e);l[Ut]=qu(e,n,o,t)}}}function l4(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=bH();try{la(s);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];f0(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&u4(c,l)}}finally{la(-1),f0(o)}}function u4(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function BP(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];MP(e,s.selectors,!1)&&(r??=[],pi(s)?r.unshift(s):r.push(s))}return r}function d4(n,e,t,r,i,s){let o=_i(n,e);h4(e[Tt],o,s,n.value,t,r,i)}function h4(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?Mc(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function f4(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],l=o[a+1];N0(r,t,c,l)}}function p4(n,e){let t=n[Nc],r=t?t.get(Mn,null):null;r&&r.handleError(e)}function Hw(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let l=o[c],u=o[c+1],h=e.data[l];N0(h,t[l],u,i),a=!0}if(s)for(let c of s){let l=t[c],u=e.data[c];N0(u,l,r,i),a=!0}return a}function g4(n,e){let t=mi(e,n),r=t[he];m4(r,t);let i=t[os];i!==null&&t[kc]===null&&(t[kc]=dP(i,t[Nc])),He(18),zw(r,t,t[Ut]),He(19,t[Ut])}function m4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function zw(n,e,t){Sw(e);try{let r=n.viewQuery;r!==null&&C0(1,r,t);let i=n.template;i!==null&&LP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[rs]?.finishViewCreation(n),n.staticContentQueries&&hP(n,e),n.staticViewQueries&&C0(2,n.viewQuery,t);let s=n.components;s!==null&&y4(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,xw()}}function y4(n,e){for(let t=0;t<e.length;t++)g4(n,e[t])}function id(n,e,t,r){let i=ve(null);try{let s=e.tView,a=n[ce]&4096?4096:16,c=Bw(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[oa]=l;let u=n[rs];return u!==null&&(c[rs]=u.createEmbeddedView(s)),zw(s,c,t),c}finally{ve(i)}}function Lc(n,e){return!e||e.firstChild===null||tP(n)}var v4;function Ww(n,e){return v4(n,e)}var ss=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ss||{});function qw(n){return(n.flags&32)===32}function Sc(n,e,t,r,i){if(r!=null){let s,o=!1;as(r)?s=r:Zs(r)&&(o=!0,r=r[os]);let a=gi(r);n===0&&t!==null?i==null?PP(e,t,a):Jp(e,t,a,i||null,!0):n===1&&t!==null?Jp(e,t,a,i||null,!0):n===2?Xz(e,a,o):n===3&&e.destroyNode(a),s!=null&&x4(e,n,s,t,i)}}function _4(n,e){UP(n,e),e[os]=null,e[Wn]=null}function b4(n,e,t,r,i,s){r[os]=i,r[Wn]=e,Ig(n,r,t,1,i,s)}function UP(n,e){e[ns].changeDetectionScheduler?.notify(9),Ig(n,e,e[Tt],2,null,null)}function w4(n){let e=n[zu];if(!e)return Gb(n[he],n);for(;e;){let t=null;if(Zs(e))t=e[zu];else{let r=e[_n];r&&(t=r)}if(!t){for(;e&&!e[$r]&&e!==n;)Zs(e)&&Gb(e[he],e),e=e[bn];e===null&&(e=n),Zs(e)&&Gb(e[he],e),t=e&&e[$r]}e=t}}function Gw(n,e){let t=n[Oc],r=t.indexOf(e);t.splice(r,1)}function Eg(n,e){if(Zu(e))return;let t=e[Tt];t.destroyNode&&Ig(n,e,t,3,null,null),w4(e)}function Gb(n,e){if(Zu(e))return;let t=ve(null);try{e[ce]&=-129,e[ce]|=256,e[yr]&&vb(e[yr]),I4(n,e),E4(n,e),e[he].type===1&&e[Tt].destroy();let r=e[oa];if(r!==null&&as(e[bn])){r!==e[bn]&&Gw(r,e);let i=e[rs];i!==null&&i.detachView(n)}E0(e)}finally{ve(t)}}function E4(n,e){let t=n.cleanup,r=e[$p];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[$p]=null);let i=e[Xs];if(i!==null){e[Xs]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Hp];if(s!==null){e[Hp]=null;for(let o of s)o.destroy()}}function I4(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ua)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];He(4,a,c);try{c.call(a)}finally{He(5,a,c)}}else{He(4,i,s);try{s.call(i)}finally{He(5,i,s)}}}}}function $P(n,e,t){return D4(n,e.parent,t)}function D4(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[os];if(zc(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===yi.None||i===yi.Emulated)return null}return _i(r,t)}function HP(n,e,t){return T4(n,e,t)}function C4(n,e,t){return n.type&40?_i(n,t):null}var T4=C4,DM;function Kw(n,e,t,r){let i=$P(n,r,e),s=e[Tt],o=r.parent||e[Wn],a=HP(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)IM(s,i,t[c],a,!1);else IM(s,i,t,a,!1);DM!==void 0&&DM(s,r,e,t,i)}function Uu(n,e){if(e!==null){let t=e.type;if(t&3)return _i(e,n);if(t&4)return O0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Uu(n,r);{let i=n[e.index];return as(i)?O0(-1,i):gi(i)}}else{if(t&128)return Uu(n,e.next);if(t&32)return Ww(e,n)()||gi(n[e.index]);{let r=zP(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ca(n[rr]);return Uu(i,r)}else return Uu(n,e.next)}}}return null}function zP(n,e){if(e!==null){let r=n[rr][Wn],i=e.projection;return r.projection[i]}return null}function O0(n,e){let t=_n+n+1;if(t<e.length){let r=e[t],i=r[he].firstChild;if(i!==null)return Uu(r,i)}return e[aa]}function Yw(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(o&&e===0&&(a&&td(gi(a),r),t.flags|=2),!qw(t))if(c&8)Yw(n,e,t.child,r,i,s,!1),Sc(e,n,i,a,s);else if(c&32){let l=Ww(t,r),u;for(;u=l();)Sc(e,n,i,u,s);Sc(e,n,i,a,s)}else c&16?WP(n,e,r,t,i,s):Sc(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Ig(n,e,t,r,i,s){Yw(t,r,n.firstChild,e,i,s,!1)}function S4(n,e,t){let r=e[Tt],i=$P(n,t,e),s=t.parent||e[Wn],o=HP(s,t,e);WP(r,0,e,t,i,o)}function WP(n,e,t,r,i,s){let o=t[rr],c=o[Wn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Sc(e,n,i,u,s)}else{let l=c,u=o[bn];tP(r)&&(l.flags|=128),Yw(n,e,l,u,i,s,!0)}}function x4(n,e,t,r,i){let s=t[aa],o=gi(t);s!==o&&Sc(e,n,r,s,i);for(let a=_n;a<t.length;a++){let c=t[a];Ig(c[he],c,n,e,r,s)}}function A4(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:ss.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ss.Important),n.setStyle(t,r,i,s))}}function eg(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(gi(s)),as(s)&&M4(s,r);let o=t.type;if(o&8)eg(n,e,t.child,r);else if(o&32){let a=Ww(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=zP(e,t);if(Array.isArray(a))r.push(...a);else{let c=ca(e[rr]);eg(c[he],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function M4(n,e){for(let t=_n;t<n.length;t++){let r=n[t],i=r[he].firstChild;i!==null&&eg(r[he],r,i,e)}n[aa]!==n[os]&&e.push(n[aa])}function qP(n){if(n[xc]!==null){for(let e of n[xc])e.impl.addSequence(e);n[xc].length=0}}var GP=[];function R4(n){return n[yr]??P4(n)}function P4(n){let e=GP.pop()??Object.create(N4);return e.lView=n,e}function k4(n){n.lView[yr]!==n&&(n.lView=null,GP.push(n))}var N4=fe(z({},Mu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ju(n.lView)},consumerOnSignalRead(){this.lView[yr]=this}});function O4(n){let e=n[yr]??Object.create(F4);return e.lView=n,e}var F4=fe(z({},Mu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ca(n.lView);for(;e&&!KP(e[he]);)e=ca(e);e&&bR(e)},consumerOnSignalRead(){this.lView[yr]=this}});function KP(n){return n.type!==2}function YP(n){if(n[Hp]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Hp])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ce]&8192)}}var L4=100;function QP(n,e=!0,t=0){let i=n[ns].rendererFactory,s=!1;s||i.begin?.();try{V4(n,t)}catch(o){throw e&&p4(n,o),o}finally{s||i.end?.()}}function V4(n,e){let t=SR();try{sM(!0),F0(n,e);let r=0;for(;pg(n);){if(r===L4)throw new G(103,!1);r++,F0(n,1)}}finally{sM(t)}}function j4(n,e,t,r){if(Zu(e))return;let i=e[ce],s=!1,o=!1;Sw(e);let a=!0,c=null,l=null;s||(KP(n)?(l=R4(e),c=Yf(l)):hb()===null?(a=!1,l=O4(e),c=Yf(l)):e[yr]&&(vb(e[yr]),e[yr]=null));try{_R(e),yH(n.bindingStartIndex),t!==null&&LP(n,e,t,2,r);let u=(i&3)===3;if(!s)if(u){let p=n.preOrderCheckHooks;p!==null&&Pp(e,p,null)}else{let p=n.preOrderHooks;p!==null&&kp(e,p,0,null),Wb(e,0)}if(o||B4(e),YP(e),XP(e,0),n.contentQueries!==null&&hP(n,e),!s)if(u){let p=n.contentCheckHooks;p!==null&&Pp(e,p)}else{let p=n.contentHooks;p!==null&&kp(e,p,1),Wb(e,1)}$4(n,e);let h=n.components;h!==null&&JP(e,h,0);let f=n.viewQuery;if(f!==null&&C0(2,f,r),!s)if(u){let p=n.viewCheckHooks;p!==null&&Pp(e,p)}else{let p=n.viewHooks;p!==null&&kp(e,p,2),Wb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[zb]){for(let p of e[zb])p();e[zb]=null}s||(qP(e),e[ce]&=-73)}catch(u){throw s||Ju(e),u}finally{l!==null&&(mb(l,c),a&&k4(l)),xw()}}function XP(n,e){for(let t=iP(n);t!==null;t=sP(t))for(let r=_n;r<t.length;r++){let i=t[r];ZP(i,e)}}function B4(n){for(let e=iP(n);e!==null;e=sP(e)){if(!(e[ce]&2))continue;let t=e[Oc];for(let r=0;r<t.length;r++){let i=t[r];bR(i)}}}function U4(n,e,t){He(18);let r=mi(e,n);ZP(r,t),He(19,r[Ut])}function ZP(n,e){ww(n)&&F0(n,e)}function F0(n,e){let r=n[he],i=n[ce],s=n[yr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&yb(s)),o||=!1,s&&(s.dirty=!1),n[ce]&=-9217,o)j4(r,n,r.template,n[Ut]);else if(i&8192){YP(n),XP(n,1);let a=r.components;a!==null&&JP(n,a,1),qP(n)}}function JP(n,e,t){for(let r=0;r<e.length;r++)U4(n,e[r],t)}function $4(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)la(~i);else{let s=i,o=t[++r],a=t[++r];_H(o,s);let c=e[s];He(24,c),a(2,c),He(25,c)}}}finally{la(-1)}}function Qw(n,e){let t=SR()?64:1088;for(n[ns].changeDetectionScheduler?.notify(e);n;){n[ce]|=t;let r=ca(n);if(Wp(n)&&!r)return n;n=r}return null}function ek(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function tk(n,e){let t=_n+e;if(t<n.length)return n[t]}function sd(n,e,t,r=!0){let i=e[he];if(H4(i,e,n,t),r){let o=O0(t,n),a=e[Tt],c=a.parentNode(n[aa]);c!==null&&b4(i,n[Wn],a,e,c,o)}let s=e[kc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function nk(n,e){let t=Gu(n,e);return t!==void 0&&Eg(t[he],t),t}function Gu(n,e){if(n.length<=_n)return;let t=_n+e,r=n[t];if(r){let i=r[oa];i!==null&&i!==n&&Gw(i,r),e>0&&(n[t-1][$r]=r[$r]);let s=Bp(n,_n+e);_4(r[he],r);let o=s[rs];o!==null&&o.detachView(s[he]),r[bn]=null,r[$r]=null,r[ce]&=-129}return r}function H4(n,e,t,r){let i=_n+r,s=t.length;r>0&&(t[i-1][$r]=e),r<s-_n?(e[$r]=t[i],nR(t,_n+r,e)):(t.push(e),e[$r]=null),e[bn]=t;let o=e[oa];o!==null&&t!==o&&rk(o,e);let a=e[rs];a!==null&&a.insertView(n),d0(e),e[ce]|=128}function rk(n,e){let t=n[Oc],r=e[bn];if(Zs(r))n[ce]|=2;else{let i=r[bn][rr];e[rr]!==i&&(n[ce]|=2)}t===null?n[Oc]=[e]:t.push(e)}var Ku=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[he];return eg(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Ut]}set context(e){this._lView[Ut]=e}get destroyed(){return Zu(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bn];if(as(e)){let t=e[zp],r=t?t.indexOf(this):-1;r>-1&&(Gu(e,r),Bp(t,r))}this._attachedToViewContainer=!1}Eg(this._lView[he],this._lView)}onDestroy(e){wR(this._lView,e)}markForCheck(){Qw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){d0(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,QP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wp(this._lView),t=this._lView[oa];t!==null&&!e&&Gw(t,this._lView),UP(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let t=Wp(this._lView),r=this._lView[oa];r!==null&&!t&&rk(r,this._lView),d0(this._lView)}};var ha=(()=>{class n{static __NG_ELEMENT_ID__=q4}return n})(),z4=ha,W4=class extends z4{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=id(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ku(i)}};function q4(){return Xw(Pn(),ye())}function Xw(n,e){return n.type&4?new W4(e,n,Gc(n,e)):null}function Dg(n,e,t,r,i){let s=n.data[e];if(s===null)s=G4(n,e,t,r,i),vH()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=pH();s.injectorIndex=o===null?-1:o.injectorIndex}return ed(s,!0),s}function G4(n,e,t,r,i){let s=DR(),o=CR(),a=o?s:s&&s.parent,c=n.data[e]=Y4(n,a,t,e,r,i);return K4(n,c,s,o),c}function K4(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Y4(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return IR()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Fle=new RegExp(`^(\\d+)*(${az}|${oz})*(.*)`);var Q4=()=>null;function Vc(n,e){return Q4(n,e)}var X4=class{},ik=class{},L0=class{resolveComponentFactory(e){throw Error(`No component factory found for ${zn(e)}.`)}},Cg=class{static NULL=new L0},jc=class{},bi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Z4()}return n})();function Z4(){let n=ye(),e=Pn(),t=mi(e.index,n);return(Zs(t)?t:n)[Tt]}var J4=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var Kb={},V0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=dg(r);let i=this.injector.get(e,Kb,r);return i!==Kb||t===Kb?i:this.parentInjector.get(e,t,r)}};function CM(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=r0(i,a);else if(s==2){let c=a,l=e[++o];r=r0(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Q(n,e=Ee.Default){let t=ye();if(t===null)return Z(n,e);let r=Pn();return zR(r,t,An(n),e)}function sk(){let n="invalid";throw new Error(n)}function ok(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a,c=null,l=null,u=tW(o);u===null?a=o:[a,c,l]=u,iW(n,e,t,a,s,c,l)}s!==null&&r!==null&&eW(t,r,s)}function eW(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new G(-301,!1);r.push(e[i],s)}}function tW(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&pi(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,nW(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function nW(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function rW(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function iW(n,e,t,r,i,s,o){let a=r.length,c=!1;for(let f=0;f<a;f++){let p=r[f];!c&&pi(p)&&(c=!0,rW(n,t,f)),g0(Yp(t,e),n,p.type)}uW(t,n.data.length,a);for(let f=0;f<a;f++){let p=r[f];p.providersResolver&&p.providersResolver(p)}let l=!1,u=!1,h=OP(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let p=r[f];if(t.mergedAttrs=Wu(t.mergedAttrs,p.hostAttrs),oW(n,t,e,h,p),lW(h,p,i),o!==null&&o.has(p)){let[v,_]=o.get(p);t.directiveToIndex.set(p.type,[h,v+t.directiveStart,_+t.directiveStart])}else(s===null||!s.has(p))&&t.directiveToIndex.set(p.type,h);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let m=p.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}sW(n,t,s)}function sW(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))TM(0,e,i,r),TM(1,e,i,r),xM(e,r,!1);else{let s=t.get(i);SM(0,e,s,r),SM(1,e,s,r),xM(e,r,!0)}}}function TM(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),ak(e,s)}}function SM(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),ak(e,o)}}function ak(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function xM(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||Vw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let l=s[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){o??=[],o.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function oW(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=ra(i.type,!0)),o=new ua(s,pi(i),Q);n.blueprint[r]=o,t[r]=o,aW(n,e,r,OP(n,t,i.hostVars,ir),i)}function aW(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;cW(o)!=a&&o.push(a),o.push(t,r,s)}}function cW(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function lW(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;pi(e)&&(t[""]=n)}}function uW(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ck(n,e,t,r,i,s,o,a){let c=e.consts,l=Fc(c,o),u=Dg(e,n,2,r,l);return s&&ok(e,t,u,Fc(c,a),i),u.mergedAttrs=Wu(u.mergedAttrs,u.attrs),u.attrs!==null&&CM(u,u.attrs,!1),u.mergedAttrs!==null&&CM(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function lk(n,e){OR(n,e),fR(e)&&n.queries.elementEnd(e)}var tg=class extends Cg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=sa(e);return new Bc(t,this.ngModule)}};function dW(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&wg.SignalBased)!==0};return i&&(s.transform=i),s})}function hW(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function fW(n,e,t){let r=e instanceof sn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new V0(t,r):t}function pW(n){let e=n.get(jc,null);if(e===null)throw new G(407,!1);let t=n.get(J4,null),r=n.get(da,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function gW(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return RP(e,t,t==="svg"?nH:t==="math"?rH:null)}var Bc=class extends ik{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=dW(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=hW(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Gz(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){He(22);let s=ve(null);try{let o=this.componentDef,a=r?["ng-version","19.2.6"]:Kz(this.componentDef.selectors[0]),c=jw(0,null,null,1,0,null,null,null,null,[a],null),l=fW(o,i||this.ngModule,e),u=pW(l),h=u.rendererFactory.createRenderer(null,o),f=r?r4(h,r,o.encapsulation,l):gW(o,h),p=Bw(null,c,null,512|NP(o),null,null,u,h,l,null,dP(f,l,!0));p[qt]=f,Sw(p);let m=null;try{let v=ck(qt,c,p,"#host",()=>[this.componentDef],!0,0);f&&(kP(h,f,v),td(f,p)),$w(c,p,v),fP(c,v,p),lk(c,v),t!==void 0&&mW(v,this.ngContentSelectors,t),m=mi(v.index,p),p[Ut]=m[Ut],zw(c,p,null)}catch(v){throw m!==null&&E0(m),E0(p),v}finally{He(23),xw()}return new j0(this.componentType,p)}finally{ve(s)}}},j0=class extends X4{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=_w(t[he],qt),this.location=Gc(this._tNode,t),this.instance=mi(this._tNode.index,t)[Ut],this.hostView=this.changeDetectorRef=new Ku(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=Hw(r,i[he],i,e,t);this.previousInputValues.set(e,t);let o=mi(r.index,i);Qw(o,1)}get injector(){return new na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mW(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var io=(()=>{class n{static __NG_ELEMENT_ID__=yW}return n})();function yW(){let n=Pn();return dk(n,ye())}var vW=io,uk=class extends vW{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Gc(this._hostTNode,this._hostLView)}get injector(){return new na(this._hostTNode,this._hostLView)}get parentInjector(){let e=Pw(this._hostTNode,this._hostLView);if(VR(e)){let t=Gp(e,this._hostLView),r=qp(e),i=t[he].data[r+8];return new na(i,t)}else return new na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=AM(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Vc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Lc(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!Z$(e),a;if(o)a=t;else{let m=t||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new Bc(sa(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?l:this.parentInjector).get(sn,null);v&&(s=v)}let u=sa(c.componentType??{}),h=Vc(this._lContainer,u?.id??null),f=h?.firstChild??null,p=c.create(l,i,f,s);return this.insertImpl(p.hostView,a,Lc(this._hostTNode,h)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(sH(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[bn],l=new uk(c,c[Wn],c[bn]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return sd(o,i,s,r),e.attachToViewContainerRef(),nR(Yb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=AM(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Gu(this._lContainer,t);r&&(Bp(Yb(this._lContainer),t),Eg(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=Gu(this._lContainer,t);return r&&Bp(Yb(this._lContainer),t)!=null?new Ku(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function AM(n){return n[zp]}function Yb(n){return n[zp]||(n[zp]=[])}function dk(n,e){let t,r=e[n.index];return as(r)?t=r:(t=ek(r,e,null,n),e[n.index]=t,Uw(e,t)),bW(t,e,n,r),new uk(t,n,e)}function _W(n,e){let t=n[Tt],r=t.createComment(""),i=_i(e,n),s=t.parentNode(i);return Jp(t,s,r,t.nextSibling(i),!1),r}var bW=IW,wW=()=>!1;function EW(n,e,t){return wW(n,e,t)}function IW(n,e,t,r){if(n[aa])return;let i;t.type&8?i=gi(r):i=_W(e,t),n[aa]=i}var B0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},U0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Zw(e,t).matches!==null&&this.queries[t].setDirty()}},ng=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=RW(e):this.predicate=e}},$0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},H0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,DW(t,s)),this.matchTNodeWithReadOption(e,t,Np(t,e,s,!1,!1))}else r===ha?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Np(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===cn||i===io||i===ha&&t.type&4)this.addMatch(t.index,-2);else{let s=Np(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function DW(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function CW(n,e){return n.type&11?Gc(n,e):n.type&4?Xw(n,e):null}function TW(n,e,t,r){return t===-1?CW(e,n):t===-2?SW(n,e,r):qu(n,n[he],t,e)}function SW(n,e,t){if(t===cn)return Gc(e,n);if(t===ha)return Xw(e,n);if(t===io)return dk(e,n)}function hk(n,e,t,r){let i=e[rs].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(TW(e,u,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function z0(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=hk(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let h=_n;h<u.length;h++){let f=u[h];f[oa]===f[bn]&&z0(f[he],f,l,r)}if(u[Oc]!==null){let h=u[Oc];for(let f=0;f<h.length;f++){let p=h[f];z0(p[he],p,l,r)}}}}}return r}function xW(n,e){return n[rs].queries[e].queryList}function fk(n,e,t){let r=new w0((t&4)===4);return cH(n,e,r,r.destroy),(e[rs]??=new U0).queries.push(new B0(r))-1}function AW(n,e,t){let r=Mt();return r.firstCreatePass&&(pk(r,new ng(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),fk(r,ye(),e)}function MW(n,e,t,r){let i=Mt();if(i.firstCreatePass){let s=Pn();pk(i,new ng(e,t,r),s.index),PW(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return fk(i,ye(),t)}function RW(n){return n.split(",").map(e=>e.trim())}function pk(n,e,t){n.queries===null&&(n.queries=new $0),n.queries.track(new H0(e,t))}function PW(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Zw(n,e){return n.queries.getByIndex(e)}function kW(n,e){let t=n[he],r=Zw(t,e);return r.crossesNgTemplate?z0(t,n,e,[]):hk(t,n,r,e)}var Uc=class{},Jw=class{};var W0=class extends Uc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new tg(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=sR(e);this._bootstrapComponents=xP(s.bootstrap),this._r3Injector=GR(e,t,[{provide:Uc,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver},...r],zn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},q0=class extends Jw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new W0(this.moduleType,e,[])}};var rg=class extends Uc{injector;componentFactoryResolver=new tg(this);instance=null;constructor(e){super();let t=new Hu([...e.providers,{provide:Uc,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver}],e.parent||mw(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function od(n,e,t=null){return new rg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var NW=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=oR(!1,t.type),i=r.length>0?od([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(Z(sn))})}return n})();function be(n){return Qu(()=>{let e=gk(n),t=fe(z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(NW).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yi.Emulated,styles:n.styles||Hn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&no("NgStandalone"),mk(t);let r=n.dependencies;return t.directiveDefs=MM(r,!1),t.pipeDefs=MM(r,!0),t.id=jW(t),t})}function OW(n){return sa(n)||B$(n)}function FW(n){return n!==null}function ln(n){return Qu(()=>({type:n.type,bootstrap:n.bootstrap||Hn,declarations:n.declarations||Hn,imports:n.imports||Hn,exports:n.exports||Hn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function LW(n,e){if(n==null)return ia;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=wg.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function VW(n){if(n==null)return ia;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function rt(n){return Qu(()=>{let e=gk(n);return mk(e),e})}function Qc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function gk(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ia,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Hn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LW(n.inputs,e),outputs:VW(n.outputs),debugInfo:null}}function mk(n){n.features?.forEach(e=>e(n))}function MM(n,e){if(!n)return null;let t=e?U$:OW;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(FW)}function jW(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function BW(n){return Object.getPrototypeOf(n.prototype).constructor}function _r(n){let e=BW(n.type),t=!0,r=[n];for(;e;){let i;if(pi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Qb(n.inputs),o.declaredInputs=Qb(n.declaredInputs),o.outputs=Qb(n.outputs);let a=i.hostBindings;a&&WW(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&HW(n,c),l&&zW(n,l),UW(n,i),v$(n.outputs,i.outputs),pi(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===_r&&(t=!1)}}e=Object.getPrototypeOf(e)}$W(r)}function UW(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function $W(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wu(i.hostAttrs,t=Wu(t,i.hostAttrs))}}function Qb(n){return n===ia?{}:n===Hn?[]:n}function HW(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function zW(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function WW(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function yk(n){return GW(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function qW(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function GW(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function eE(n,e,t){return n[e]=t}function KW(n,e){return n[e]}function Hr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function vk(n,e,t,r){let i=Hr(n,e,t);return Hr(n,e+1,r)||i}function YW(n,e,t,r,i,s,o,a,c){let l=e.consts,u=Dg(e,n,4,o||null,a||null);ER()&&ok(e,t,u,Fc(l,c),BP),u.mergedAttrs=Wu(u.mergedAttrs,u.attrs),OR(e,u);let h=u.tView=jw(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function ig(n,e,t,r,i,s,o,a,c,l){let u=t+qt,h=e.firstCreatePass?YW(u,e,n,r,i,s,o,a,c):e.data[u];ed(h,!1);let f=QW(e,n,h,t);Mw()&&Kw(e,n,f,h),td(f,n);let p=ek(f,n,f,h);return n[u]=p,Uw(n,p),EW(p,h,n),vw(h)&&$w(e,n,h),c!=null&&VP(n,h,l),h}function Pe(n,e,t,r,i,s,o,a){let c=ye(),l=Mt(),u=Fc(l.consts,s);return ig(c,l,n,e,t,r,i,u,o,a),Pe}var QW=XW;function XW(n,e,t,r){return Rw(!0),e[Tt].createComment("")}var tE=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var _k=new Y("");var ZW=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new G0})}return n})(),G0=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function pa(n){return!!n&&typeof n.then=="function"}function bk(n){return!!n&&typeof n.subscribe=="function"}var wk=new Y("");function nE(n){return vr([{provide:wk,multi:!0,useValue:n}])}var Ek=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(wk,{optional:!0})??[];injector=F(wt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=an(this.injector,i);if(pa(s))t.push(s);else if(bk(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tg=new Y("");function JW(){bb(()=>{throw new G(600,!1)})}function e3(n){return n.isBoundToModule}var t3=10;var Js=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(KH);afterRenderManager=F(uP);zonelessEnabled=F(mg);rootEffectScheduler=F(ZW);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ot;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=F(to).hasPendingTasks.pipe(ne(t=>!t));constructor(){F(Yc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(sn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=wt.NULL){He(10);let s=t instanceof ik;if(!this._injector.get(Ek).done){let p="";throw new G(405,p)}let a;s?a=t:a=this._injector.get(Cg).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=e3(a)?void 0:this._injector.get(Uc),l=r||a.selector,u=a.create(i,[],l,c),h=u.location.nativeElement,f=u.injector.get(_k,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Op(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),He(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){He(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Lw.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new G(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(t),this.afterTick.next(),He(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(jc,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<t3;)He(14),this.synchronizeOnce(),He(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)n3(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>pg(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Op(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Tg,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Op(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new G(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Op(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function n3(n,e,t,r){if(!t&&!pg(n))return;QP(n,e,t&&!r?0:1)}function so(n,e,t,r){let i=ye(),s=Wc();if(Hr(i,s,e)){let o=Mt(),a=Aw();d4(a,i,n,e,t,r)}return so}function r3(n,e,t,r){return Hr(n,Wc(),t)?e+Mc(t)+r:ir}function i3(n,e,t,r,i,s){let o=mH(),a=vk(n,o,t,i);return Cw(2),a?e+Mc(t)+r+Mc(i)+s:ir}function Mp(n,e){return n<<17|e<<2}function fa(n){return n>>17&32767}function s3(n){return(n&2)==2}function o3(n,e){return n&131071|e<<17}function K0(n){return n|2}function $c(n){return(n&131068)>>2}function Xb(n,e){return n&-131069|e<<2}function a3(n){return(n&1)===1}function Y0(n){return n|1}function c3(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fa(o),c=$c(o);n[r]=t;let l=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Xu(h,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let f=fa(n[a+1]);n[r+1]=Mp(f,a),f!==0&&(n[f+1]=Xb(n[f+1],r)),n[a+1]=o3(n[a+1],r)}else n[r+1]=Mp(a,0),a!==0&&(n[a+1]=Xb(n[a+1],r)),a=r;else n[r+1]=Mp(c,0),a===0?a=r:n[c+1]=Xb(n[c+1],r),c=r;l&&(n[r+1]=K0(n[r+1])),RM(n,u,r,!0),RM(n,u,r,!1),l3(e,u,n,r,s),o=Mp(a,c),s?e.classBindings=o:e.styleBindings=o}function l3(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Xu(s,e)>=0&&(t[r+1]=Y0(t[r+1]))}function RM(n,e,t,r){let i=n[t+1],s=e===null,o=r?fa(i):$c(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],l=n[o+1];u3(c,e)&&(a=!0,n[o+1]=r?Y0(l):K0(l)),o=r?fa(l):$c(l)}a&&(n[t+1]=r?K0(i):Y0(i))}function u3(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xu(n,e)>=0:!1}var Ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function d3(n){return n.substring(Ur.key,Ur.keyEnd)}function h3(n){return f3(n),Ik(n,Dk(n,0,Ur.textEnd))}function Ik(n,e){let t=Ur.textEnd;return t===e?-1:(e=Ur.keyEnd=p3(n,Ur.key=e,t),Dk(n,e,t))}function f3(n){Ur.key=0,Ur.keyEnd=0,Ur.value=0,Ur.valueEnd=0,Ur.textEnd=n.length}function Dk(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function p3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Me(n,e,t){let r=ye(),i=Wc();if(Hr(r,i,e)){let s=Mt(),o=Aw();jP(s,o,r,n,e,r[Tt],t,!1)}return Me}function Q0(n,e,t,r,i){Hw(e,n,t,i?"class":"style",r)}function rE(n,e,t){return Tk(n,e,t,!1),rE}function un(n,e){return Tk(n,e,null,!0),un}function Ck(n){m3(E3,g3,n,!0)}function g3(n,e){for(let t=h3(e);t>=0;t=Ik(e,t))pw(n,d3(e),!0)}function Tk(n,e,t,r){let i=ye(),s=Mt(),o=Cw(2);if(s.firstUpdatePass&&xk(s,n,o,r),e!==ir&&Hr(i,o,e)){let a=s.data[cs()];Ak(s,a,i,i[Tt],n,i[o+1]=D3(e,t),r,o)}}function m3(n,e,t,r){let i=Mt(),s=Cw(2);i.firstUpdatePass&&xk(i,null,s,r);let o=ye();if(t!==ir&&Hr(o,s,t)){let a=i.data[cs()];if(Mk(a,r)&&!Sk(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=r0(c,t||"")),Q0(i,a,o,t,r)}else I3(i,a,o,o[Tt],o[s+1],o[s+1]=w3(n,e,t),r,s)}}function Sk(n,e){return e>=n.expandoStartIndex}function xk(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[cs()],o=Sk(n,t);Mk(s,r)&&e===null&&!o&&(e=!1),e=y3(i,s,e,r),c3(i,s,e,t,o,r)}}function y3(n,e,t,r){let i=wH(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Zb(null,n,e,t,r),t=Yu(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Zb(i,n,e,t,r),s===null){let c=v3(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Zb(null,n,e,c[1],r),c=Yu(c,e.attrs,r),_3(n,e,r,c))}else s=b3(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function v3(n,e,t){let r=t?e.classBindings:e.styleBindings;if($c(r)!==0)return n[fa(r)]}function _3(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[fa(i)]=r}function b3(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Yu(r,o,t)}return Yu(r,e.attrs,t)}function Zb(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Yu(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Yu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),pw(n,o,t?!0:e[++s]))}return n===void 0?null:n}function w3(n,e,t){if(t==null||t==="")return Hn;let r=[],i=Wr(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function E3(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&pw(n,r,t)}function I3(n,e,t,r,i,s,o,a){i===ir&&(i=Hn);let c=0,l=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;u!==null||h!==null;){let f=c<i.length?i[c+1]:void 0,p=l<s.length?s[l+1]:void 0,m=null,v;u===h?(c+=2,l+=2,f!==p&&(m=h,v=p)):h===null||u!==null&&u<h?(c+=2,m=u):(l+=2,m=h,v=p),m!==null&&Ak(n,e,t,r,m,v,o,a),u=c<i.length?i[c]:null,h=l<s.length?s[l]:null}}function Ak(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=a3(l)?PM(c,e,t,i,$c(l),o):void 0;if(!sg(u)){sg(s)||s3(l)&&(s=PM(c,null,t,i,a,o));let h=vR(cs(),t);A4(r,o,h,i,s)}}function PM(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,h=u===null,f=t[i+1];f===ir&&(f=h?Hn:void 0);let p=h?$b(f,r):u===r?f:void 0;if(l&&!sg(p)&&(p=$b(c,r)),sg(p)&&(a=p,o))return a;let m=n[i+1];i=o?fa(m):$c(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=$b(c,r))}return a}function sg(n){return n!==void 0}function D3(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=zn(Wr(n)))),n}function Mk(n,e){return(n.flags&(e?8:16))!==0}var X0=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function Jb(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function C3(n,e,t){let r,i,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let l=n.at(s),u=e[s],h=Jb(s,l,s,u,t);if(h!==0){h<0&&n.updateValue(s,u),s++;continue}let f=n.at(o),p=e[c],m=Jb(o,f,c,p,t);if(m!==0){m<0&&n.updateValue(o,p),o--,c--;continue}let v=t(s,l),_=t(o,f),C=t(s,u);if(Object.is(C,_)){let x=t(c,p);Object.is(x,v)?(n.swap(s,o),n.updateValue(o,p),c--,o--):n.move(o,s),n.updateValue(s,u),s++;continue}if(r??=new og,i??=NM(n,s,o,t),Z0(n,r,s,C))n.updateValue(s,u),s++,o++;else if(i.has(C))r.set(v,n.detach(s)),o--;else{let x=n.create(s,e[s]);n.attach(s,x),s++,o++}}for(;s<=c;)kM(n,r,t,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&s<=o;){let u=n.at(s),h=l.value,f=Jb(s,u,s,h,t);if(f!==0)f<0&&n.updateValue(s,h),s++,l=c.next();else{r??=new og,i??=NM(n,s,o,t);let p=t(s,h);if(Z0(n,r,s,p))n.updateValue(s,h),s++,o++,l=c.next();else if(!i.has(p))n.attach(s,n.create(s,h)),s++,o++,l=c.next();else{let m=t(s,u);r.set(m,n.detach(s)),o--}}}for(;!l.done;)kM(n,r,t,n.length,l.value),l=c.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(c=>{n.destroy(c)})}function Z0(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function kM(n,e,t,r,i){if(Z0(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function NM(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var og=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function dt(n,e){no("NgControlFlow");let t=ye(),r=Wc(),i=t[r]!==ir?t[r]:-1,s=i!==-1?ag(t,qt+i):void 0,o=0;if(Hr(t,r,n)){let a=ve(null);try{if(s!==void 0&&nk(s,o),n!==-1){let c=qt+n,l=ag(t,c),u=nw(t[he],c),h=Vc(l,u.tView.ssrId),f=id(t,u,e,{dehydratedView:h});sd(l,f,o,Lc(u,h))}}finally{ve(a)}}else if(s!==void 0){let a=tk(s,o);a!==void 0&&(a[Ut]=e)}}var J0=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-_n}};function Sg(n){return n}function ad(n,e){return e}var ew=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function kn(n,e,t,r,i,s,o,a,c,l,u,h,f){no("NgControlFlow");let p=ye(),m=Mt(),v=c!==void 0,_=ye(),C=a?o.bind(_[rr][Ut]):o,x=new ew(v,C);_[qt+n]=x,ig(p,m,n+1,e,t,r,i,Fc(m.consts,s)),v&&ig(p,m,n+2,c,l,u,h,Fc(m.consts,f))}var tw=class extends X0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-_n}at(e){return this.getLView(e)[Ut].$implicit}attach(e,t){let r=t[kc];this.needsIndexUpdate||=e!==this.length,sd(this.lContainer,t,e,Lc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,T3(this.lContainer,e)}create(e,t){let r=Vc(this.lContainer,this.templateTNode.tView.ssrId),i=id(this.hostLView,this.templateTNode,new J0(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Eg(e[he],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ut].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ut].$index=e}getLView(e){return S3(this.lContainer,e)}};function Nn(n){let e=ve(null),t=cs();try{let r=ye(),i=r[he],s=r[t],o=t+1,a=ag(r,o);if(s.liveCollection===void 0){let l=nw(i,o);s.liveCollection=new tw(a,r,l)}else s.liveCollection.reset();let c=s.liveCollection;if(C3(c,n,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let l=Wc(),u=c.length===0;if(Hr(r,l,u)){let h=t+2,f=ag(r,h);if(u){let p=nw(i,h),m=Vc(f,p.tView.ssrId),v=id(r,p,void 0,{dehydratedView:m});sd(f,v,0,Lc(p,m))}else nk(f,0)}}}finally{ve(e)}}function ag(n,e){return n[e]}function T3(n,e){return Gu(n,e)}function S3(n,e){return tk(n,e)}function nw(n,e){return _w(n,e)}function R(n,e,t,r){let i=ye(),s=Mt(),o=qt+n,a=i[Tt],c=s.firstCreatePass?ck(o,s,i,e,BP,ER(),t,r):s.data[o],l=x3(s,i,c,a,e,n);i[o]=l;let u=vw(c);return ed(c,!0),kP(a,l,c),!qw(c)&&Mw()&&Kw(s,i,l,c),(lH()===0||u)&&td(l,i),uH(),u&&($w(s,i,c),fP(s,c,i)),r!==null&&VP(i,c),R}function M(){let n=Pn();CR()?TR():(n=n.parent,ed(n,!1));let e=n;hH(e)&&fH(),dH();let t=Mt();return t.firstCreatePass&&lk(t,e),e.classesWithoutHost!=null&&SH(e)&&Q0(t,e,ye(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xH(e)&&Q0(t,e,ye(),e.stylesWithoutHost,!1),M}function Te(n,e,t,r){return R(n,e,t,r),M(),Te}var x3=(n,e,t,r,i,s)=>(Rw(!0),RP(r,i,DH()));function Rt(){return ye()}var ea=void 0;function A3(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var M3=["en",[["a","p"],["AM","PM"],ea],[["AM","PM"],ea,ea],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ea,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ea,"{1} 'at' {0}",ea],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",A3],e0={};function br(n){let e=R3(n),t=OM(e);if(t)return t;let r=e.split("-")[0];if(t=OM(r),t)return t;if(r==="en")return M3;throw new G(701,!1)}function OM(n){return n in e0||(e0[n]=hi.ng&&hi.ng.common&&hi.ng.common.locales&&hi.ng.common.locales[n]),e0[n]}var St=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(St||{});function R3(n){return n.toLowerCase().replace(/_/g,"-")}var cg="en-US";var P3=cg;function k3(n){typeof n=="string"&&(P3=n.toLowerCase().replace(/_/g,"-"))}function FM(n,e,t){return function r(i){if(i===Function)return t;let s=zc(n)?mi(n.index,e):e;Qw(s,5);let o=e[Ut],a=LM(e,o,t,i),c=r.__ngNextListenerFn__;for(;c;)a=LM(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function LM(n,e,t,r){let i=ve(null);try{return He(6,e,t),t(r)!==!1}catch(s){return N3(n,s),!1}finally{He(7,e,t),ve(i)}}function N3(n,e){let t=n[Nc],r=t?t.get(Mn,null):null;r&&r.handleError(e)}function VM(n,e,t,r,i,s){let o=e[t],a=e[he],l=a.data[t].outputs[r],u=o[l],h=a.firstCreatePass?Iw(a):null,f=Ew(e),p=u.subscribe(s),m=f.length;f.push(s,p),h&&h.push(i,n.index,m,-(m+1))}var O3=(n,e,t)=>{};function le(n,e,t,r){let i=ye(),s=Mt(),o=Pn();return Rk(s,i,i[Tt],o,n,e,r),le}function F3(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[$p],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function Rk(n,e,t,r,i,s,o){let a=vw(r),l=n.firstCreatePass?Iw(n):null,u=Ew(e),h=!0;if(r.type&3||o){let f=_i(r,e),p=o?o(f):f,m=u.length,v=o?C=>o(gi(C[r.index])):r.index,_=null;if(!o&&a&&(_=F3(n,e,i,r.index)),_!==null){let C=_.__ngLastListenerFn__||_;C.__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1}else{s=FM(r,e,s),O3(p,i,s);let C=t.listen(p,i,s);u.push(s,C),l&&l.push(i,v,m,m+1)}}else s=FM(r,e,s);if(h){let f=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let m=0;m<p.length;m+=2){let v=p[m],_=p[m+1];VM(r,e,v,_,i,s)}if(f&&f.length)for(let m of f)VM(r,e,m,i,i,s)}}function pe(n=1){return IH(n)}function L3(n,e){let t=null,r=$z(n);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){t=i;continue}if(r===null?MP(n,s,!0):Wz(r,s))return i}return t}function Pk(n){let e=ye()[rr][Wn];if(!e.projection){let t=n?n.length:1,r=e.projection=L$(t,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?L3(s,n):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function kk(n,e=0,t,r,i,s){let o=ye(),a=Mt(),c=r?n+1:null;c!==null&&ig(o,a,c,r,i,s,null,t);let l=Dg(a,qt+n,16,null,t||null);l.projection===null&&(l.projection=e),TR();let h=!o[kc]||IR();o[rr][Wn].projection[l.projection]===null&&c!==null?V3(o,a,c):h&&!qw(l)&&S4(a,o,l)}function V3(n,e,t){let r=qt+t,i=e.data[r],s=n[r],o=Vc(s,i.tView.ssrId),a=id(n,i,void 0,{dehydratedView:o});sd(s,a,0,Lc(i,o))}function Nk(n,e,t,r){MW(n,e,t,r)}function wi(n,e,t){AW(n,e,t)}function wr(n){let e=ye(),t=Mt(),r=xR();Tw(r+1);let i=Zw(t,r);if(n.dirty&&iH(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=kW(e,r);n.reset(s,XH),n.notifyOnChanges()}return!0}return!1}function Er(){return xW(ye(),xR())}function j3(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Xc(n){let e=gH();return bw(e,qt+n)}function k(n,e=""){let t=ye(),r=Mt(),i=n+qt,s=r.firstCreatePass?Dg(r,i,1,e,null):r.data[i],o=B3(r,t,s,e,n);t[i]=o,Mw()&&Kw(r,t,o,s),ed(s,!1)}var B3=(n,e,t,r,i)=>(Rw(!0),Yz(e[Tt],r));function Qe(n){return $t("",n,""),Qe}function $t(n,e,t){let r=ye(),i=r3(r,n,e,t);return i!==ir&&Ok(r,cs(),i),$t}function iE(n,e,t,r,i){let s=ye(),o=i3(s,n,e,t,r,i);return o!==ir&&Ok(s,cs(),o),iE}function Ok(n,e,t){let r=vR(e,n);Qz(n[Tt],r,t)}function Kt(n,e,t){eP(e)&&(e=e());let r=ye(),i=Wc();if(Hr(r,i,e)){let s=Mt(),o=Aw();jP(s,o,r,n,e,r[Tt],t,!1)}return Kt}function dn(n,e){let t=eP(n);return t&&n.set(e),t}function Yt(n,e){let t=ye(),r=Mt(),i=Pn();return Rk(r,t,t[Tt],i,n,e),Yt}function U3(n,e,t){let r=Mt();if(r.firstCreatePass){let i=pi(n);rw(t,r.data,r.blueprint,i,!0),rw(e,r.data,r.blueprint,i,!1)}}function rw(n,e,t,r,i){if(n=An(n),Array.isArray(n))for(let s=0;s<n.length;s++)rw(n[s],e,t,r,i);else{let s=Mt(),o=ye(),a=Pn(),c=Pc(n)?n:An(n.provide),l=lR(n),u=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(Pc(n)||!n.multi){let p=new ua(l,i,Q),m=n0(c,e,i?u:u+f,h);m===-1?(g0(Yp(a,o),s,c),t0(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[m]=p,o[m]=p)}else{let p=n0(c,e,u+f,h),m=n0(c,e,u,u+f),v=p>=0&&t[p],_=m>=0&&t[m];if(i&&!_||!i&&!v){g0(Yp(a,o),s,c);let C=z3(i?H3:$3,t.length,i,r,l);!i&&_&&(t[m].providerFactory=C),t0(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),o.push(C)}else{let C=Fk(t[i?m:p],l,!i&&r);t0(s,n,p>-1?p:m,C)}!i&&r&&_&&t[m].componentProviders++}}}function t0(n,e,t,r){let i=Pc(e),s=q$(e);if(i||s){let c=(s?An(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function Fk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function n0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function $3(n,e,t,r){return iw(this.multi,[])}function H3(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=qu(t,t[he],this.providerFactory.index,r);s=a.slice(0,o),iw(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],iw(i,s);return s}function iw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function z3(n,e,t,r,i){let s=new ua(n,t,Q);return s.multi=[],s.index=e,s.componentProviders=0,Fk(s,i,r&&!t),s}function ds(n,e=[]){return t=>{t.providersResolver=(r,i)=>U3(r,i?i(n):n,e)}}function Zc(n,e,t){let r=Dw()+n,i=ye();return i[r]===ir?eE(i,r,t?e.call(t):e()):KW(i,r)}function Lk(n,e){let t=n[e];return t===ir?void 0:t}function W3(n,e,t,r,i,s){let o=e+t;return Hr(n,o,i)?eE(n,o+1,s?r.call(s,i):r(i)):Lk(n,o+1)}function q3(n,e,t,r,i,s,o){let a=e+t;return vk(n,a,i,s)?eE(n,a+2,o?r.call(o,i,s):r(i,s)):Lk(n,a+2)}function Pt(n,e){let t=Mt(),r,i=n+qt;t.firstCreatePass?(r=G3(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=ra(r.type,!0)),o,a=$n(Q);try{let c=Kp(!1),l=s();return Kp(c),j3(t,ye(),i,l),l}finally{$n(a)}}function G3(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Vk(n,e,t){let r=n+qt,i=ye(),s=bw(i,r);return jk(i,r)?W3(i,Dw(),e,s.transform,t,s):s.transform(t)}function Qt(n,e,t,r){let i=n+qt,s=ye(),o=bw(s,i);return jk(s,i)?q3(s,Dw(),e,o.transform,t,r,o):o.transform(t,r)}function jk(n,e){return n[he].data[e].pure}var eo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Bk=new eo("19.2.6"),sw=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},xg=(()=>{class n{compileModuleSync(t){return new q0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=sR(t),s=xP(i.declarations).reduce((o,a)=>{let c=sa(a);return c&&o.push(new Bc(c)),o},[]);return new sw(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K3=(()=>{class n{zone=F(xe);changeDetectionScheduler=F(da);applicationRef=F(Js);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y3=new Y("",{factory:()=>!1});function Uk({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xe(fe(z({},Hk()),{scheduleInRootZone:t})),[{provide:xe,useFactory:n},{provide:Rc,multi:!0,useFactory:()=>{let r=F(K3,{optional:!0});return()=>r.initialize()}},{provide:Rc,multi:!0,useFactory:()=>{let r=F(Q3);return()=>{r.initialize()}}},e===!0?{provide:YR,useValue:!0}:[],{provide:QR,useValue:t??KR}]}function $k(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Uk({ngZoneFactory:()=>{let i=Hk(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&no("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return vr([{provide:Y3,useValue:!0},{provide:mg,useValue:!1},r])}function Hk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Q3=(()=>{class n{subscription=new lt;initialized=!1;zone=F(xe);pendingTasks=F(to);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var X3=(()=>{class n{appRef=F(Js);taskService=F(to);ngZone=F(xe);zonelessEnabled=F(mg);tracing=F(Yc,{optional:!0});disableScheduling=F(YR,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new lt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zp):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(QR,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof b0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?dM:XR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Z3(){return typeof $localize<"u"&&$localize.locale||cg}var Ag=new Y("",{providedIn:"root",factory:()=>F(Ag,Ee.Optional|Ee.SkipSelf)||Z3()});var ow=new Y(""),J3=new Y("");function ju(n){return!n.moduleRef}function e5(n){let e=ju(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xe);return t.run(()=>{ju(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Mn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),ju(n)){let s=()=>e.destroy(),o=n.platformInjector.get(ow);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(ow);o.add(s),n.moduleRef.onDestroy(()=>{Op(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return n5(r,t,()=>{let s=e.get(Ek);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ag,cg);if(k3(o||cg),!e.get(J3,!0))return ju(n)?e.get(Js):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ju(n)){let c=e.get(Js);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return t5(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function t5(n,e){let t=n.injector.get(Js);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new G(-403,!1);e.push(n)}function n5(n,e,t){try{let r=t();return pa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Fp=null;function r5(n=[],e){return wt.create({name:e,providers:[{provide:hg,useValue:"platform"},{provide:ow,useValue:new Set([()=>Fp=null])},...n]})}function i5(n=[]){if(Fp)return Fp;let e=r5(n);return Fp=e,JW(),s5(e),e}function s5(n){let e=n.get(Fw,null);an(n,()=>{e?.forEach(t=>t())})}function sE(){return!1}var Ei=(()=>{class n{static __NG_ELEMENT_ID__=o5}return n})();function o5(n){return a5(Pn(),ye(),(n&16)===16)}function a5(n,e,t){if(zc(n)&&!t){let r=mi(n.index,e);return new Ku(r,r)}else if(n.type&175){let r=e[rr];return new Ku(r,e)}return null}var aw=class{constructor(){}supports(e){return yk(e)}create(e){return new cw(e)}},c5=(n,e)=>e,cw=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||c5}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<jM(r,i,s)?t:r,a=jM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let p=f<s.length?s[f]:s[f]=0,m=p+f;u<=m&&m<l&&(s[f]=p+1)}let h=o.previousIndex;s[h]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!yk(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,qW(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new lw(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new lg),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new lg),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},lw=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},uw=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},lg=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new uw,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function jM(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function BM(){return new oE([new aw])}var oE=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:BM});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||BM()),deps:[[n,new tR,new Rn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new G(901,!1)}}return n})();function zk(n){He(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=i5(r),s=[Uk({}),{provide:da,useExisting:X3},...t||[]],o=new rg({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return e5({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{He(9)}}function qr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ii(n){return Ib(n)}function Jc(n,e){return _b(n,e?.equal)}var UM=class{[mr];constructor(e){this[mr]=e}destroy(){this[mr].destroy()}};function Wk(n){let e=sa(n);if(!e)return null;let t=new Bc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var at=new Y("");var Kk=null;function Ir(){return Kk}function aE(n){Kk??=n}var cd=class{},ld=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(Yk),providedIn:"platform"})}return n})(),cE=new Y(""),Yk=(()=>{class n extends ld{_location;_history;_doc=F(at);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ir().getBaseHref(this._doc)}onPopState(t){let r=Ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Mg(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function qk(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Gr(n){return n&&n[0]!=="?"?`?${n}`:n}var Kr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(Pg),providedIn:"root"})}return n})(),Rg=new Y(""),Pg=(()=>{class n extends Kr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Mg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Gr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Z(ld),Z(Rg,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oo=(()=>{class n{_subject=new ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=d5(qk(Gk(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Gr(r))}normalize(t){return n.stripTrailingSlash(u5(this._basePath,Gk(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Gr;static joinWithSlash=Mg;static stripTrailingSlash=qk;static \u0275fac=function(r){return new(r||n)(Z(Kr))};static \u0275prov=q({token:n,factory:()=>l5(),providedIn:"root"})}return n})();function l5(){return new oo(Z(Kr))}function u5(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Gk(n){return n.replace(/\/index.html$/,"")}function d5(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var hE=(()=>{class n extends Kr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Mg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Z(ld),Z(Rg,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var En=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(En||{}),ze=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ze||{}),qn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(qn||{}),fs={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Jk(n){return br(n)[St.LocaleId]}function eN(n,e,t){let r=br(n),i=[r[St.DayPeriodsFormat],r[St.DayPeriodsStandalone]],s=Dr(i,e);return Dr(s,t)}function tN(n,e,t){let r=br(n),i=[r[St.DaysFormat],r[St.DaysStandalone]],s=Dr(i,e);return Dr(s,t)}function nN(n,e,t){let r=br(n),i=[r[St.MonthsFormat],r[St.MonthsStandalone]],s=Dr(i,e);return Dr(s,t)}function rN(n,e){let r=br(n)[St.Eras];return Dr(r,e)}function ud(n,e){let t=br(n);return Dr(t[St.DateFormat],e)}function dd(n,e){let t=br(n);return Dr(t[St.TimeFormat],e)}function hd(n,e){let r=br(n)[St.DateTimeFormat];return Dr(r,e)}function fd(n,e){let t=br(n),r=t[St.NumberSymbols][e];if(typeof r>"u"){if(e===fs.CurrencyDecimal)return t[St.NumberSymbols][fs.Decimal];if(e===fs.CurrencyGroup)return t[St.NumberSymbols][fs.Group]}return r}function iN(n){if(!n[St.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[St.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sN(n){let e=br(n);return iN(e),(e[St.ExtraData][2]||[]).map(r=>typeof r=="string"?lE(r):[lE(r[0]),lE(r[1])])}function oN(n,e,t){let r=br(n);iN(r);let i=[r[St.ExtraData][0],r[St.ExtraData][1]],s=Dr(i,e)||[];return Dr(s,t)||[]}function Dr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function lE(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var h5=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kg={},f5=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function aN(n,e,t,r){let i=E5(n);e=hs(t,e)||e;let o=[],a;for(;e;)if(a=f5.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=lN(r,c),i=w5(i,r));let l="";return o.forEach(u=>{let h=_5(u);l+=h?h(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Vg(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function hs(n,e){let t=Jk(n);if(kg[t]??={},kg[t][e])return kg[t][e];let r="";switch(e){case"shortDate":r=ud(n,qn.Short);break;case"mediumDate":r=ud(n,qn.Medium);break;case"longDate":r=ud(n,qn.Long);break;case"fullDate":r=ud(n,qn.Full);break;case"shortTime":r=dd(n,qn.Short);break;case"mediumTime":r=dd(n,qn.Medium);break;case"longTime":r=dd(n,qn.Long);break;case"fullTime":r=dd(n,qn.Full);break;case"short":let i=hs(n,"shortTime"),s=hs(n,"shortDate");r=Ng(hd(n,qn.Short),[i,s]);break;case"medium":let o=hs(n,"mediumTime"),a=hs(n,"mediumDate");r=Ng(hd(n,qn.Medium),[o,a]);break;case"long":let c=hs(n,"longTime"),l=hs(n,"longDate");r=Ng(hd(n,qn.Long),[c,l]);break;case"full":let u=hs(n,"fullTime"),h=hs(n,"fullDate");r=Ng(hd(n,qn.Full),[u,h]);break}return r&&(kg[t][e]=r),r}function Ng(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Yr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function p5(n,e){return Yr(n,3).substring(0,e)}function kt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=g5(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return p5(a,e);let c=fd(o,fs.MinusSign);return Yr(a,e,c,r,i)}}function g5(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function it(n,e,t=En.Format,r=!1){return function(i,s){return m5(i,s,n,e,t,r)}}function m5(n,e,t,r,i,s){switch(t){case 2:return nN(e,i,r)[n.getMonth()];case 1:return tN(e,i,r)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let l=sN(e),u=oN(e,i,r),h=l.findIndex(f=>{if(Array.isArray(f)){let[p,m]=f,v=o>=p.hours&&a>=p.minutes,_=o<m.hours||o===m.hours&&a<m.minutes;if(p.hours<m.hours){if(v&&_)return!0}else if(v||_)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return eN(e,i,r)[o<12?0:1];case 3:return rN(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Og(n){return function(e,t,r){let i=-1*r,s=fd(t,fs.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Yr(o,2,s)+Yr(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+Yr(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+Yr(o,2,s)+":"+Yr(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+Yr(o,2,s)+":"+Yr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var y5=0,Lg=4;function v5(n){let e=Vg(n,y5,1).getDay();return Vg(n,0,1+(e<=Lg?Lg:Lg+7)-e)}function cN(n){let e=n.getDay(),t=e===0?-3:Lg-e;return Vg(n.getFullYear(),n.getMonth(),n.getDate()+t)}function uE(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=cN(t),o=v5(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Yr(i,n,fd(r,fs.MinusSign))}}function Fg(n,e=!1){return function(t,r){let s=cN(t).getFullYear();return Yr(s,n,fd(r,fs.MinusSign),e)}}var dE={};function _5(n){if(dE[n])return dE[n];let e;switch(n){case"G":case"GG":case"GGG":e=it(3,ze.Abbreviated);break;case"GGGG":e=it(3,ze.Wide);break;case"GGGGG":e=it(3,ze.Narrow);break;case"y":e=kt(0,1,0,!1,!0);break;case"yy":e=kt(0,2,0,!0,!0);break;case"yyy":e=kt(0,3,0,!1,!0);break;case"yyyy":e=kt(0,4,0,!1,!0);break;case"Y":e=Fg(1);break;case"YY":e=Fg(2,!0);break;case"YYY":e=Fg(3);break;case"YYYY":e=Fg(4);break;case"M":case"L":e=kt(1,1,1);break;case"MM":case"LL":e=kt(1,2,1);break;case"MMM":e=it(2,ze.Abbreviated);break;case"MMMM":e=it(2,ze.Wide);break;case"MMMMM":e=it(2,ze.Narrow);break;case"LLL":e=it(2,ze.Abbreviated,En.Standalone);break;case"LLLL":e=it(2,ze.Wide,En.Standalone);break;case"LLLLL":e=it(2,ze.Narrow,En.Standalone);break;case"w":e=uE(1);break;case"ww":e=uE(2);break;case"W":e=uE(1,!0);break;case"d":e=kt(2,1);break;case"dd":e=kt(2,2);break;case"c":case"cc":e=kt(7,1);break;case"ccc":e=it(1,ze.Abbreviated,En.Standalone);break;case"cccc":e=it(1,ze.Wide,En.Standalone);break;case"ccccc":e=it(1,ze.Narrow,En.Standalone);break;case"cccccc":e=it(1,ze.Short,En.Standalone);break;case"E":case"EE":case"EEE":e=it(1,ze.Abbreviated);break;case"EEEE":e=it(1,ze.Wide);break;case"EEEEE":e=it(1,ze.Narrow);break;case"EEEEEE":e=it(1,ze.Short);break;case"a":case"aa":case"aaa":e=it(0,ze.Abbreviated);break;case"aaaa":e=it(0,ze.Wide);break;case"aaaaa":e=it(0,ze.Narrow);break;case"b":case"bb":case"bbb":e=it(0,ze.Abbreviated,En.Standalone,!0);break;case"bbbb":e=it(0,ze.Wide,En.Standalone,!0);break;case"bbbbb":e=it(0,ze.Narrow,En.Standalone,!0);break;case"B":case"BB":case"BBB":e=it(0,ze.Abbreviated,En.Format,!0);break;case"BBBB":e=it(0,ze.Wide,En.Format,!0);break;case"BBBBB":e=it(0,ze.Narrow,En.Format,!0);break;case"h":e=kt(3,1,-12);break;case"hh":e=kt(3,2,-12);break;case"H":e=kt(3,1);break;case"HH":e=kt(3,2);break;case"m":e=kt(4,1);break;case"mm":e=kt(4,2);break;case"s":e=kt(5,1);break;case"ss":e=kt(5,2);break;case"S":e=kt(6,1);break;case"SS":e=kt(6,2);break;case"SSS":e=kt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Og(0);break;case"ZZZZZ":e=Og(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Og(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Og(2);break;default:return null}return dE[n]=e,e}function lN(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function b5(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function w5(n,e,t){let i=n.getTimezoneOffset(),s=lN(e,i);return b5(n,-1*(s-i))}function E5(n){if(Qk(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return Vg(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(h5))return I5(r)}let e=new Date(n);if(!Qk(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function I5(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,c,l),e}function Qk(n){return n instanceof Date&&!isNaN(n.valueOf())}var jg=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},el=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new jg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),Xk(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Xk(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Q(io),Q(ha),Q(oE))};static \u0275dir=rt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Xk(n,e){n.context.$implicit=e.item}var ga=(()=>{class n{_viewContainer;_context=new Bg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zk(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zk(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Q(io),Q(ha))};static \u0275dir=rt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Bg=class{$implicit=null;ngIf=null};function Zk(n,e){if(n&&!n.createEmbeddedView)throw new G(2020,!1)}function D5(n,e){return new G(2100,!1)}var C5="mediumDate",uN=new Y(""),dN=new Y(""),pd=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??C5,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return aN(t,o,s||this.locale,a)}catch(o){throw D5(n,o.message)}}static \u0275fac=function(r){return new(r||n)(Q(Ag,16),Q(uN,24),Q(dN,24))};static \u0275pipe=Qc({name:"date",type:n,pure:!0})}return n})();var tl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=on({})}return n})();function fE(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ug="browser",hN="server";function pE(n){return n===Ug}function $g(n){return n===hN}var gd=class{};var fN=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new gE(F(at),window)})}return n})(),gE=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=T5(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function T5(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Wg=new Y(""),bE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new G(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Z(Wg),Z(xe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),md=class{_doc;constructor(e){this._doc=e}manager},Hg="ng-app-id";function pN(n){for(let e of n)e.remove()}function gN(n,e){let t=e.createElement("style");return t.textContent=n,t}function S5(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Hg}="${e}"],link[${Hg}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Hg),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function vE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var wE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=$g(s),S5(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,gN);r?.forEach(i=>this.addUsage(i,this.external,vE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(pN(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])pN(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,gN(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,vE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Hg,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Z(at),Z(Ow),Z(nd,8),Z(zr))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),yE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},EE=/%COMP%/g;var yN="%COMP%",x5=`_nghost-${yN}`,A5=`_ngcontent-${yN}`,M5=!0,R5=new Y("",{providedIn:"root",factory:()=>M5});function P5(n){return A5.replace(EE,n)}function k5(n){return x5.replace(EE,n)}function vN(n,e){return e.map(t=>t.replace(EE,n))}var IE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=$g(a),this.defaultRenderer=new yd(t,o,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yi.ShadowDom&&(r=fe(z({},r),{encapsulation:yi.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof zg?i.applyToHost(t):i instanceof vd&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case yi.Emulated:s=new zg(c,l,r,this.appId,u,o,a,h,f);break;case yi.ShadowDom:return new _E(c,l,t,r,o,a,this.nonce,h,f);default:s=new vd(c,l,r,u,o,a,h,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Z(bE),Z(wE),Z(Ow),Z(R5),Z(at),Z(zr),Z(xe),Z(nd),Z(Yc,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),yd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(yE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=yE[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=yE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ss.DashCase|ss.Important)?e.style.setProperty(t,r,i&ss.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ss.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Ir().getGlobalEventTarget(this.doc,e),!e))throw new G(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function mN(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var _E=class extends yd{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,c,l){super(e,s,o,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=vN(i.id,u);for(let f of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}let h=i.getExternalStyles?.();if(h)for(let f of h){let p=vE(f,s);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vd=class extends yd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c,l){super(e,s,o,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?vN(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},zg=class extends vd{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c,l){let u=i+"-"+r.id;super(e,t,r,s,o,a,c,l,u),this.contentAttr=P5(u),this.hostAttr=k5(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var qg=class n extends cd{supportsDOMEvents=!0;static makeCurrent(){aE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=N5();return t==null?null:O5(t)}resetBaseElement(){_d=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fE(document.cookie,e)}},_d=null;function N5(){return _d=_d||document.querySelector("base"),_d?_d.getAttribute("href"):null}function O5(n){return new URL(n,document.baseURI).pathname}var F5=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),bN=(()=>{class n extends md{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(Z(at))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),_N=["alt","control","meta","shift"],L5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},V5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},wN=(()=>{class n extends md{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ir().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),_N.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=L5[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_N.forEach(o=>{if(o!==i){let a=V5[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Z(at))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function DE(n,e){return zk(z({rootComponent:n},j5(e)))}function j5(n){return{appProviders:[...z5,...n?.providers??[]],platformProviders:H5}}function B5(){qg.makeCurrent()}function U5(){return new Mn}function $5(){return aP(document),document}var H5=[{provide:zr,useValue:Ug},{provide:Fw,useValue:B5,multi:!0},{provide:at,useFactory:$5}];var z5=[{provide:hg,useValue:"root"},{provide:Mn,useFactory:U5},{provide:Wg,useClass:bN,multi:!0,deps:[at]},{provide:Wg,useClass:wN,multi:!0,deps:[at]},IE,wE,bE,{provide:jc,useExisting:IE},{provide:gd,useClass:F5},[]];var TE=class{};var ma=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var SE=class{encodeKey(e){return EN(e)}encodeValue(e){return EN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function W5(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}var q5=/%(\d[a-f0-9])/gi,G5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function EN(n){return encodeURIComponent(n).replace(q5,(e,t)=>G5[t]??e)}function Gg(n){return`${n}`}var ps=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new SE,e.fromString){if(e.fromObject)throw new G(2805,!1);this.map=W5(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Gg):[Gg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Gg(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Gg(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var xE=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function K5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function IN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function DN(n){return typeof Blob<"u"&&n instanceof Blob}function CN(n){return typeof FormData<"u"&&n instanceof FormData}function Y5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Q5="X-Request-URL",TN="text/plain",SN="application/json",Qde=`${SN}, ${TN}, */*`,nl=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(K5(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ma,this.context??=new xE,!this.params)this.params=new ps,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||IN(this.body)||DN(this.body)||CN(this.body)||Y5(this.body)?this.body:this.body instanceof ps?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||CN(this.body)?null:DN(this.body)?this.body.type||null:IN(this.body)?null:typeof this.body=="string"?TN:this.body instanceof ps?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?SN:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),u)),new n(t,r,o,{params:u,headers:l,context:h,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},ME=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ME||{}),AE=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new ma,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Kg=class n extends AE{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ME.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function CE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var RE=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof nl)s=t;else{let c;i.headers instanceof ma?c=i.headers:c=new ma(i.headers);let l;i.params&&(i.params instanceof ps?l=i.params:l=new ps({fromObject:i.params})),s=new nl(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=J(s).pipe(di(c=>this.handler.handle(c)));if(t instanceof nl||i.observe==="events")return o;let a=o.pipe(Wt(c=>c instanceof Kg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ne(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new G(2806,!1);return c.body}));case"blob":return a.pipe(ne(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new G(2807,!1);return c.body}));case"text":return a.pipe(ne(c=>{if(c.body!==null&&typeof c.body!="string")throw new G(2808,!1);return c.body}));case"json":default:return a.pipe(ne(c=>c.body))}case"response":return a;default:throw new G(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ps().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,CE(i,r))}post(t,r,i={}){return this.request("POST",t,CE(i,r))}put(t,r,i={}){return this.request("PUT",t,CE(i,r))}static \u0275fac=function(r){return new(r||n)(Z(TE))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var Xde=RegExp(`^${Q5}:`,"m");var xN=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Z(at))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var PE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Z(Z5),i},providedIn:"root"})}return n})(),Z5=(()=>{class n extends PE{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case wn.NONE:return r;case wn.HTML:return ro(r,"HTML")?Wr(r):DP(this._doc,String(r)).toString();case wn.STYLE:return ro(r,"Style")?Wr(r):r;case wn.SCRIPT:if(ro(r,"Script"))return Wr(r);throw new G(5200,!1);case wn.URL:return ro(r,"URL")?Wr(r):bg(String(r));case wn.RESOURCE_URL:if(ro(r,"ResourceURL"))return Wr(r);throw new G(5201,!1);default:throw new G(5202,!1)}}bypassSecurityTrustHtml(t){return pP(t)}bypassSecurityTrustStyle(t){return gP(t)}bypassSecurityTrustScript(t){return mP(t)}bypassSecurityTrustUrl(t){return yP(t)}bypassSecurityTrustResourceUrl(t){return vP(t)}static \u0275fac=function(r){return new(r||n)(Z(at))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var me="primary",Pd=Symbol("RouteTitle"),LE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function _a(n){return new LE(n)}function LN(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function J5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Di(n[t],e[t]))return!1;return!0}function Di(n,e){let t=n?VE(n):void 0,r=e?VE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!VN(n[i],e[i]))return!1;return!0}function VE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function VN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function jN(n){return n.length>0?n[n.length-1]:null}function ho(n){return Fb(n)?n:pa(n)?je(Promise.resolve(n)):J(n)}var eq={exact:UN,subset:$N},BN={exact:tq,subset:nq,ignored:()=>!0};function MN(n,e,t){return eq[t.paths](n.root,e.root,t.matrixParams)&&BN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function tq(n,e){return Di(n,e)}function UN(n,e,t){if(!ya(n.segments,e.segments)||!Xg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!UN(n.children[r],e.children[r],t))return!1;return!0}function nq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>VN(n[t],e[t]))}function $N(n,e,t){return HN(n,e,e.segments,t)}function HN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ya(i,t)||e.hasChildren()||!Xg(i,t,r))}else if(n.segments.length===t.length){if(!ya(n.segments,t)||!Xg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!$N(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!ya(n.segments,i)||!Xg(n.segments,i,r)||!n.children[me]?!1:HN(n.children[me],e,s,r)}}function Xg(n,e,t){return e.every((r,i)=>BN[t](n[i].parameters,r.parameters))}var Ti=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Le([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_a(this.queryParams),this._queryParamMap}toString(){return sq.serialize(this)}},Le=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zg(this)}},ao=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=_a(this.parameters),this._parameterMap}toString(){return WN(this)}};function rq(n,e){return ya(n,e)&&n.every((t,r)=>Di(t.parameters,e[r].parameters))}function ya(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function iq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===me&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==me&&(t=t.concat(e(i,r)))}),t}var ba=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new co,providedIn:"root"})}return n})(),co=class{parse(e){let t=new BE(e);return new Ti(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${bd(e.root,!0)}`,r=cq(e.queryParams),i=typeof e.fragment=="string"?`#${oq(e.fragment)}`:"";return`${t}${r}${i}`}},sq=new co;function Zg(n){return n.segments.map(e=>WN(e)).join("/")}function bd(n,e){if(!n.hasChildren())return Zg(n);if(e){let t=n.children[me]?bd(n.children[me],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==me&&r.push(`${i}:${bd(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=iq(n,(r,i)=>i===me?[bd(n.children[me],!1)]:[`${i}:${bd(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[me]!=null?`${Zg(n)}/${t[0]}`:`${Zg(n)}/(${t.join("//")})`}}function zN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yg(n){return zN(n).replace(/%3B/gi,";")}function oq(n){return encodeURI(n)}function jE(n){return zN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jg(n){return decodeURIComponent(n)}function RN(n){return Jg(n.replace(/\+/g,"%20"))}function WN(n){return`${jE(n.path)}${aq(n.parameters)}`}function aq(n){return Object.entries(n).map(([e,t])=>`;${jE(e)}=${jE(t)}`).join("")}function cq(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yg(t)}=${Yg(i)}`).join("&"):`${Yg(t)}=${Yg(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var lq=/^[^\/()?;#]+/;function kE(n){let e=n.match(lq);return e?e[0]:""}var uq=/^[^\/()?;=#]+/;function dq(n){let e=n.match(uq);return e?e[0]:""}var hq=/^[^=?&#]+/;function fq(n){let e=n.match(hq);return e?e[0]:""}var pq=/^[^&#]+/;function gq(n){let e=n.match(pq);return e?e[0]:""}var BE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new Le(e,t)),r}parseSegment(){let e=kE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new ao(Jg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=dq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=kE(this.remaining);i&&(r=i,this.capture(r))}e[Jg(t)]=Jg(r)}parseQueryParam(e){let t=fq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=gq(this.remaining);o&&(r=o,this.capture(r))}let i=RN(t),s=RN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=kE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[me]:new Le([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function qN(n){return n.segments.length>0?new Le([],{[me]:n}):n}function GN(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=GN(i);if(r===me&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Le(n.segments,e);return mq(t)}function mq(n){if(n.numberOfChildren===1&&n.children[me]){let e=n.children[me];return new Le(n.segments.concat(e.segments),e.children)}return n}function lo(n){return n instanceof Ti}function KN(n,e,t=null,r=null){let i=YN(n);return QN(i,e,t,r)}function YN(n){let e;function t(s){let o={};for(let c of s.children){let l=t(c);o[c.outlet]=l}let a=new Le(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=qN(r);return e??i}function QN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return NE(i,i,i,t,r);let s=yq(e);if(s.toRoot())return NE(i,i,new Le([],{}),t,r);let o=vq(s,i,n),a=o.processChildren?Ed(o.segmentGroup,o.index,s.commands):ZN(o.segmentGroup,o.index,s.commands);return NE(i,o.segmentGroup,a,t,r)}function tm(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Dd(n){return typeof n=="object"&&n!=null&&n.outlets}function NE(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;n===e?o=t:o=XN(n,e,t);let a=qN(GN(o));return new Ti(a,s,i)}function XN(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=XN(s,e,t)}),new Le(n.segments,r)}var nm=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&tm(r[0]))throw new G(4003,!1);let i=r.find(Dd);if(i&&i!==jN(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nm(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new nm(t,e,r)}var sl=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function vq(n,e,t){if(n.isAbsolute)return new sl(e,!0,0);if(!t)return new sl(e,!1,NaN);if(t.parent===null)return new sl(t,!0,0);let r=tm(n.commands[0])?0:1,i=t.segments.length-1+r;return _q(t,i,n.numberOfDoubleDots)}function _q(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new sl(r,!1,i-s)}function bq(n){return Dd(n[0])?n[0].outlets:{[me]:n}}function ZN(n,e,t){if(n??=new Le([],{}),n.segments.length===0&&n.hasChildren())return Ed(n,e,t);let r=wq(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Le(n.segments.slice(0,r.pathIndex),{});return s.children[me]=new Le(n.segments.slice(r.pathIndex),n.children),Ed(s,0,i)}else return r.match&&i.length===0?new Le(n.segments,{}):r.match&&!n.hasChildren()?UE(n,e,t):r.match?Ed(n,0,i):UE(n,e,t)}function Ed(n,e,t){if(t.length===0)return new Le(n.segments,{});{let r=bq(t),i={};if(Object.keys(r).some(s=>s!==me)&&n.children[me]&&n.numberOfChildren===1&&n.children[me].segments.length===0){let s=Ed(n.children[me],e,t);return new Le(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=ZN(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Le(n.segments,i)}}function wq(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Dd(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!kN(c,l,o))return s;r+=2}else{if(!kN(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function UE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Dd(s)){let c=Eq(s.outlets);return new Le(r,c)}if(i===0&&tm(t[0])){let c=n.segments[e];r.push(new ao(c.path,PN(t[0]))),i++;continue}let o=Dd(s)?s.outlets[me]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&tm(a)?(r.push(new ao(o,PN(a))),i+=2):(r.push(new ao(o,{})),i++)}return new Le(r,{})}function Eq(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=UE(new Le([],{}),0,r))}),e}function PN(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function kN(n,e,t){return n==t.path&&Di(e,t.parameters)}var em="imperative",Ht=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ht||{}),or=class{id;url;constructor(e,t){this.id=e,this.url=t}},uo=class extends or{type=Ht.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ar=class extends or{urlAfterRedirects;type=Ht.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Gn||{}),al=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(al||{}),Ci=class extends or{reason;code;type=Ht.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Si=class extends or{reason;code;type=Ht.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},cl=class extends or{error;target;type=Ht.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cd=class extends or{urlAfterRedirects;state;type=Ht.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rm=class extends or{urlAfterRedirects;state;type=Ht.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},im=class extends or{urlAfterRedirects;state;shouldActivate;type=Ht.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sm=class extends or{urlAfterRedirects;state;type=Ht.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},om=class extends or{urlAfterRedirects;state;type=Ht.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},am=class{route;type=Ht.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cm=class{route;type=Ht.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lm=class{snapshot;type=Ht.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},um=class{snapshot;type=Ht.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dm=class{snapshot;type=Ht.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hm=class{snapshot;type=Ht.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ll=class{routerEvent;position;anchor;type=Ht.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Td=class{},ul=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Iq(n,e){return n.providers&&!n._injector&&(n._injector=od(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Qr(n){return n.outlet||me}function Dq(n,e){let t=n.filter(r=>Qr(r)===e);return t.push(...n.filter(r=>Qr(r)!==e)),t}function kd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var fm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return kd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new wa(this.rootInjector)}},wa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fm(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Z(sn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pm=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=$E(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=$E(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=HE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return HE(e,this._root).map(t=>t.value)}};function $E(n,e){if(n===e.value)return e;for(let t of e.children){let r=$E(n,t);if(r)return r}return null}function HE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=HE(n,t);if(r.length)return r.unshift(e),r}return[]}var sr=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function il(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Sd=class extends pm{snapshot;constructor(e,t){super(e),this.snapshot=t,XE(this,e)}toString(){return this.snapshot.toString()}};function JN(n){let e=Cq(n),t=new Bt([new ao("",{})]),r=new Bt({}),i=new Bt({}),s=new Bt({}),o=new Bt(""),a=new xi(t,r,s,o,i,me,n,e.root);return a.snapshot=e.root,new Sd(new sr(a,[]),e)}function Cq(n){let e={},t={},r={},i="",s=new va([],e,r,i,t,me,n,null,{});return new xd("",new sr(s,[]))}var xi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ne(l=>l[Pd]))??J(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>_a(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>_a(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gm(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),n.params),data:z(z({},e.data),n.data),resolve:z(z(z(z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:z({},n.params),data:z({},n.data),resolve:z(z({},n.data),n._resolvedData??{})},i&&tO(i)&&(r.resolve[Pd]=i.title),r}var va=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Pd]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_a(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_a(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},xd=class extends pm{url;constructor(e,t){super(t),this.url=e,XE(this,t)}toString(){return eO(this._root)}};function XE(n,e){e.value._routerState=n,e.children.forEach(t=>XE(n,t))}function eO(n){let e=n.children.length>0?` { ${n.children.map(eO).join(", ")} } `:"";return`${n.value}${e}`}function OE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Di(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Di(e.params,t.params)||n.paramsSubject.next(t.params),J5(e.url,t.url)||n.urlSubject.next(t.url),Di(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function zE(n,e){let t=Di(n.params,e.params)&&rq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||zE(n.parent,e.parent))}function tO(n){return typeof n.title=="string"||n.title===null}var nO=new Y(""),Ea=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new ut;deactivateEvents=new ut;attachEvents=new ut;detachEvents=new ut;routerOutletData=JR(void 0);parentContexts=F(wa);location=F(io);changeDetector=F(Ei);inputBinder=F(Nd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new WE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Gt]})}return n})(),WE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===xi?this.route:e===wa?this.childContexts:e===nO?this.outletData:this.parent.get(e,t)}},Nd=new Y(""),ZE=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Jo([r.queryParams,r.params,r.data]).pipe(vn(([s,o,a],c)=>(a=z(z(z({},s),o),a),c===0?J(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=Wk(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function Tq(n,e,t){let r=Ad(n,e._root,t?t._root:void 0);return new Sd(r,e)}function Ad(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Sq(n,e,t);return new sr(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ad(n,a)),o}}let r=xq(e.value),i=e.children.map(s=>Ad(n,s));return new sr(r,i)}}function Sq(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ad(n,r,i);return Ad(n,r)})}function xq(n){return new xi(new Bt(n.url),new Bt(n.params),new Bt(n.queryParams),new Bt(n.fragment),new Bt(n.data),n.outlet,n.component,n)}var dl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},rO="ngNavigationCancelingError";function mm(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=lo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iO(!1,Gn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function iO(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[rO]=!0,t.cancellationCode=e,t}function Aq(n){return sO(n)&&lo(n.url)}function sO(n){return!!n&&n[rO]}var Mq=(n,e,t,r)=>ne(i=>(new qE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),qE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),OE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=il(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=il(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=il(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=il(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new hm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new um(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(OE(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),OE(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},ym=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ol=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Rq(n,e,t){let r=n._root,i=e?e._root:null;return wd(r,i,t,[r.value])}function Pq(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function fl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!GM(n)?n:e.get(n):r}function wd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=il(e);return n.children.forEach(o=>{kq(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Id(a,t.getContext(o),i)),i}function kq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Nq(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ym(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?wd(n,e,a?a.children:null,r,i):wd(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ol(a.outlet.component,o))}else o&&Id(e,a,i),i.canActivateChecks.push(new ym(r)),s.component?wd(n,null,a?a.children:null,r,i):wd(n,null,t,r,i);return i}function Nq(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ya(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ya(n.url,e.url)||!Di(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zE(n,e)||!Di(n.queryParams,e.queryParams);case"paramsChange":default:return!zE(n,e)}}function Id(n,e,t){let r=il(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Id(o,e.children.getContext(s),t):Id(o,null,t):Id(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ol(e.outlet.component,i)):t.canDeactivateChecks.push(new ol(null,i)):t.canDeactivateChecks.push(new ol(null,i))}function Od(n){return typeof n=="function"}function Oq(n){return typeof n=="boolean"}function Fq(n){return n&&Od(n.canLoad)}function Lq(n){return n&&Od(n.canActivate)}function Vq(n){return n&&Od(n.canActivateChild)}function jq(n){return n&&Od(n.canDeactivate)}function Bq(n){return n&&Od(n.canMatch)}function oO(n){return n instanceof Vr||n?.name==="EmptyError"}var Qg=Symbol("INITIAL_VALUE");function hl(){return vn(n=>Jo(n.map(e=>e.pipe(nr(1),Ic(Qg)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===Qg)return Qg;if(t===!1||Uq(t))return t}return!0}),Wt(e=>e!==Qg),nr(1)))}function Uq(n){return lo(n)||n instanceof dl}function $q(n,e){return Dt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?J(fe(z({},t),{guardsResult:!0})):Hq(o,r,i,n).pipe(Dt(a=>a&&Oq(a)?zq(r,s,n,e):J(a)),ne(a=>fe(z({},t),{guardsResult:a})))})}function Hq(n,e,t,r){return je(n).pipe(Dt(i=>Yq(i.component,i.route,t,e,r)),ts(i=>i!==!0,!0))}function zq(n,e,t,r){return je(e).pipe(di(i=>Ks(qq(i.route.parent,r),Wq(i.route,r),Kq(n,i.path,t),Gq(n,i.route,t))),ts(i=>i!==!0,!0))}function Wq(n,e){return n!==null&&e&&e(new dm(n)),J(!0)}function qq(n,e){return n!==null&&e&&e(new lm(n)),J(!0)}function Gq(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(s=>Ip(()=>{let o=kd(e)??t,a=fl(s,o),c=Lq(a)?a.canActivate(e,n):an(o,()=>a(e,n));return ho(c).pipe(ts())}));return J(i).pipe(hl())}function Kq(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Pq(o)).filter(o=>o!==null).map(o=>Ip(()=>{let a=o.guards.map(c=>{let l=kd(o.node)??t,u=fl(c,l),h=Vq(u)?u.canActivateChild(r,n):an(l,()=>u(r,n));return ho(h).pipe(ts())});return J(a).pipe(hl())}));return J(s).pipe(hl())}function Yq(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);let o=s.map(a=>{let c=kd(e)??i,l=fl(a,c),u=jq(l)?l.canDeactivate(n,e,t,r):an(c,()=>l(n,e,t,r));return ho(u).pipe(ts())});return J(o).pipe(hl())}function Qq(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let s=i.map(o=>{let a=fl(o,n),c=Fq(a)?a.canLoad(e,t):an(n,()=>a(e,t));return ho(c)});return J(s).pipe(hl(),aO(r))}function aO(n){return ip(Ct(e=>{if(typeof e!="boolean")throw mm(n,e)}),ne(e=>e===!0))}function Xq(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let s=i.map(o=>{let a=fl(o,n),c=Bq(a)?a.canMatch(e,t):an(n,()=>a(e,t));return ho(c)});return J(s).pipe(hl(),aO(r))}var Md=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Rd=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function rl(n){return qs(new Md(n))}function Zq(n){return qs(new G(4e3,!1))}function Jq(n){return qs(iO(!1,Gn.GuardRejected))}var GE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[me])return Zq(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:h,outlet:f,params:p,data:m,title:v}=i,_=an(s,()=>a({params:p,data:m,queryParams:c,fragment:l,routeConfig:u,url:h,outlet:f,title:v}));if(_ instanceof Ti)throw new Rd(_);t=_}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Rd(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Ti(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Le(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},KE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eG(n,e,t,r,i){let s=cO(n,e,t);return s.matched?(r=Iq(e,r),Xq(r,e,t,i).pipe(ne(o=>o===!0?s:z({},KE)))):J(s)}function cO(n,e,t){if(e.path==="**")return tG(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?z({},KE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||LN)(t,n,e);if(!i)return z({},KE);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?z(z({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function tG(n){return{matched:!0,parameters:n.length>0?jN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function NN(n,e,t,r){return t.length>0&&iG(n,t,r)?{segmentGroup:new Le(e,rG(r,new Le(t,n.children))),slicedSegments:[]}:t.length===0&&sG(n,t,r)?{segmentGroup:new Le(n.segments,nG(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Le(n.segments,n.children),slicedSegments:t}}function nG(n,e,t,r){let i={};for(let s of t)if(_m(n,e,s)&&!r[Qr(s)]){let o=new Le([],{});i[Qr(s)]=o}return z(z({},r),i)}function rG(n,e){let t={};t[me]=e;for(let r of n)if(r.path===""&&Qr(r)!==me){let i=new Le([],{});t[Qr(r)]=i}return t}function iG(n,e,t){return t.some(r=>_m(n,e,r)&&Qr(r)!==me)}function sG(n,e,t){return t.some(r=>_m(n,e,r))}function _m(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function oG(n,e,t){return e.length===0&&!n.children[t]}var YE=class{};function aG(n,e,t,r,i,s,o="emptyOnly"){return new QE(n,e,t,r,i,o,s).recognize()}var cG=31,QE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new GE(this.urlSerializer,this.urlTree)}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=NN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:r})=>{let i=new sr(r,t),s=new xd("",i),o=KN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new va([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,t).pipe(ne(r=>({children:r,rootSnapshot:t})),jr(r=>{if(r instanceof Rd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Md?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ne(o=>o instanceof sr?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return je(s).pipe(di(o=>{let a=r.children[o],c=Dq(t,o);return this.processSegmentGroup(e,c,a,o,i)}),Cp((o,a)=>(o.push(...a),o)),Ys(null),Vb(),Dt(o=>{if(o===null)return rl(r);let a=lO(o);return lG(a),J(a)}))}processSegment(e,t,r,i,s,o,a){return je(t).pipe(di(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(jr(l=>{if(l instanceof Md)return J(null);throw l}))),ts(c=>!!c),jr(c=>{if(oO(c))return oG(r,i,s)?J(new YE):rl(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return Qr(r)!==o&&(o===me||!_m(i,s,r))?rl(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):rl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:h,remainingSegments:f}=cO(t,i,s);if(!c)return rl(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cG&&(this.allowRedirects=!1));let p=new va(s,l,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,ON(i),Qr(i),i.component??i._loadedComponent??null,i,FN(i)),m=gm(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h,p,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Dt(_=>this.processSegment(e,r,t,_.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=eG(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(vn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vn(({routes:l})=>{let u=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:p}=c,m=new va(f,h,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,ON(r),Qr(r),r.component??r._loadedComponent??null,r,FN(r)),v=gm(m,o,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:C}=NN(t,f,p,l);if(C.length===0&&_.hasChildren())return this.processChildren(u,l,_,m).pipe(ne(N=>new sr(m,N)));if(l.length===0&&C.length===0)return J(new sr(m,[]));let x=Qr(r)===s;return this.processSegment(u,l,_,C,x?me:s,!0,m).pipe(ne(N=>new sr(m,N instanceof sr?[N]:[])))}))):rl(t)))}getChildConfig(e,t,r){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):Qq(e,t,r,this.urlSerializer).pipe(Dt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ct(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Jq(t))):J({routes:[],injector:e})}};function lG(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}function uG(n){let e=n.value.routeConfig;return e&&e.path===""}function lO(n){let e=[],t=new Set;for(let r of n){if(!uG(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=lO(r.children);e.push(new sr(r.value,i))}return e.filter(r=>!t.has(r))}function ON(n){return n.data||{}}function FN(n){return n.resolve||{}}function dG(n,e,t,r,i,s){return Dt(o=>aG(n,e,t,r,o.extractedUrl,i,s).pipe(ne(({state:a,tree:c})=>fe(z({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function hG(n,e){return Dt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return J(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of uO(c))o.add(l);let a=0;return je(o).pipe(di(c=>s.has(c)?fG(c,r,n,e):(c.data=gm(c,c.parent,n).resolve,J(void 0))),Ct(()=>a++),Ec(1),Dt(c=>a===o.size?J(t):Bn))})}function uO(n){let e=n.children.map(t=>uO(t)).flat();return[n,...e]}function fG(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!tO(i)&&(s[Pd]=i.title),pG(s,n,e,r).pipe(ne(o=>(n._resolvedData=o,n.data=gm(n,n.parent,t).resolve,null)))}function pG(n,e,t,r){let i=VE(n);if(i.length===0)return J({});let s={};return je(i).pipe(Dt(o=>gG(n[o],e,t,r).pipe(ts(),Ct(a=>{if(a instanceof dl)throw mm(new co,a);s[o]=a}))),Ec(1),ne(()=>s),jr(o=>oO(o)?Bn:qs(o)))}function gG(n,e,t,r){let i=kd(e)??r,s=fl(n,i),o=s.resolve?s.resolve(e,t):an(i,()=>s(e,t));return ho(o)}function FE(n){return vn(e=>{let t=n(e);return t?je(t).pipe(ne(()=>e)):J(e)})}var JE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===me);return r}getResolvedTitleForRoute(t){return t.data[Pd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(dO),providedIn:"root"})}return n})(),dO=(()=>{class n extends JE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Z(xN))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ia=new Y("",{providedIn:"root",factory:()=>({})}),eI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Te(0,"router-outlet")},dependencies:[Ea],encapsulation:2})}return n})();function tI(n){let e=n.children&&n.children.map(tI),t=e?fe(z({},n),{children:e}):z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=eI),t}var Da=new Y(""),bm=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(xg);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ho(t.loadComponent()).pipe(ne(fO),Ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Qs(()=>{this.componentLoaders.delete(t)})),i=new vc(r,()=>new ot).pipe(yc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=hO(r,this.compiler,t,this.onLoadEndListener).pipe(Qs(()=>{this.childrenLoaders.delete(r)})),o=new vc(s,()=>new ot).pipe(yc());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hO(n,e,t,r){return ho(n.loadChildren()).pipe(ne(fO),Dt(i=>i instanceof Jw||Array.isArray(i)?J(i):je(e.compileModuleAsync(i))),ne(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Da,[],{optional:!0,self:!0}).flat()),{routes:o.map(tI),injector:s}}))}function mG(n){return n&&typeof n=="object"&&"default"in n}function fO(n){return mG(n)?n.default:n}var wm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(yG),providedIn:"root"})}return n})(),yG=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nI=new Y(""),rI=new Y("");function pO(n,e,t){let r=n.get(rI),i=n.get(at);return n.get(xe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),vG(n))),{onViewTransitionCreated:c}=r;return c&&an(n,()=>c({transition:a,from:e,to:t})),o})}function vG(n){return new Promise(e=>{vg({read:()=>setTimeout(e)},{injector:n})})}var iI=new Y(""),Em=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ot;transitionAbortSubject=new ot;configLoader=F(bm);environmentInjector=F(sn);destroyRef=F(qc);urlSerializer=F(ba);rootContexts=F(wa);location=F(oo);inputBindingEnabled=F(Nd,{optional:!0})!==null;titleStrategy=F(JE);options=F(Ia,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(wm);createViewTransition=F(nI,{optional:!0});navigationErrorHandler=F(iI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>J(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new am(i)),r=i=>this.events.next(new cm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(fe(z({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Bt(null),this.transitions.pipe(Wt(r=>r!==null),vn(r=>{let i=!1,s=!1;return J(r).pipe(vn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Gn.SupersededByNewNavigation),Bn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?fe(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Si(o.id,this.urlSerializer.serialize(o.rawUrl),l,al.IgnoredSameUrlNavigation)),o.resolve(!1),Bn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return J(o).pipe(vn(l=>(this.events.next(new uo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Bn:Promise.resolve(l))),dG(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ct(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=fe(z({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Cd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:f,extras:p}=o,m=new uo(l,this.urlSerializer.serialize(u),h,f);this.events.next(m);let v=JN(this.rootComponentType).snapshot;return this.currentTransition=r=fe(z({},o),{targetSnapshot:v,urlAfterRedirects:u,extras:fe(z({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,J(r)}else{let l="";return this.events.next(new Si(o.id,this.urlSerializer.serialize(o.extractedUrl),l,al.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Bn}}),Ct(o=>{let a=new rm(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ne(o=>(this.currentTransition=r=fe(z({},o),{guards:Rq(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),$q(this.environmentInjector,o=>this.events.next(o)),Ct(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw mm(this.urlSerializer,o.guardsResult);let a=new im(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Wt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Gn.GuardRejected),!1)),FE(o=>{if(o.guards.canActivateChecks.length!==0)return J(o).pipe(Ct(a=>{let c=new sm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),vn(a=>{let c=!1;return J(a).pipe(hG(this.paramsInheritanceStrategy,this.environmentInjector),Ct({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Gn.NoDataFromResolver)}}))}),Ct(a=>{let c=new om(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),FE(o=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ct(u=>{c.component=u}),ne(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Jo(a(o.targetSnapshot.root)).pipe(Ys(null),nr(1))}),FE(()=>this.afterPreactivation()),vn(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?je(c).pipe(ne(()=>r)):J(r)}),ne(o=>{let a=Tq(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=fe(z({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ct(()=>{this.events.next(new Td)}),Mq(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),nr(1),Ct({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ar(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vu(this.transitionAbortSubject.pipe(Ct(o=>{throw o}))),Qs(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",Gn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),jr(o=>{if(this.destroyed)return r.resolve(!1),Bn;if(s=!0,sO(o))this.events.next(new Ci(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Aq(o)?this.events.next(new ul(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new cl(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=an(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof dl){let{message:l,cancellationCode:u}=mm(this.urlSerializer,c);this.events.next(new Ci(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new ul(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Bn}))}))}cancelNavigationTransition(t,r,i){let s=new Ci(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _G(n){return n!==em}var gO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(bG),providedIn:"root"})}return n})(),vm=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},bG=(()=>{class n extends vm{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mO=(()=>{class n{urlSerializer=F(ba);options=F(Ia,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(oo);urlHandlingStrategy=F(wm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ti;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof Ti?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=JN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(wG),providedIn:"root"})}return n})(),wG=(()=>{class n extends mO{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof uo?this.updateStateMemento():t instanceof Si?this.commitTransition(r):t instanceof Cd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Td?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ci&&(t.code===Gn.GuardRejected||t.code===Gn.NoDataFromResolver)?this.restoreHistory(r):t instanceof cl?this.restoreHistory(r,!0):t instanceof ar&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=z(z({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=z(z({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Im(n,e){n.events.pipe(Wt(t=>t instanceof ar||t instanceof Ci||t instanceof cl||t instanceof Si),ne(t=>t instanceof ar||t instanceof Si?0:(t instanceof Ci?t.code===Gn.Redirect||t.code===Gn.SupersededByNewNavigation:!1)?2:1),Wt(t=>t!==2),nr(1)).subscribe(()=>{e()})}var EG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(tE);stateManager=F(mO);options=F(Ia,{optional:!0})||{};pendingTasks=F(to);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(Em);urlSerializer=F(ba);location=F(oo);urlHandlingStrategy=F(wm);_events=new ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(gO);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(Da,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(Nd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new lt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Ci&&r.code!==Gn.Redirect&&r.code!==Gn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ar)this.navigated=!0;else if(r instanceof ul){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_G(i.source)},o);this.scheduleNavigation(a,em,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}CG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),em,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=z({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(tI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=z(z({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=i?i.snapshot:this.routerState.snapshot.root;h=YN(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return QN(h,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=lo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,em,null,r)}navigate(t,r={skipLocationChange:!1}){return DG(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=z({},EG):r===!1?i=z({},IG):i=r,lo(t))return MN(this.currentUrlTree,t,i);let s=this.parseUrl(t);return MN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((h,f)=>{a=h,c=f});let u=this.pendingTasks.add();return Im(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DG(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new G(4008,!1)}function CG(n){return!(n instanceof Td)&&!(n instanceof ul)}var Cr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ot;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(lo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:CP(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:lo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Q(Xe),Q(xi),gg("tabindex"),Q(bi),Q(cn),Q(Kr))};static \u0275dir=rt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&le("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&so("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qr],replaceUrl:[2,"replaceUrl","replaceUrl",qr],routerLink:"routerLink"},features:[Gt]})}return n})(),oI=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ut;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ar&&this.update()})}ngAfterContentInit(){J(this.links.changes,J(null)).pipe(Gs()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=je(t).pipe(Gs()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=TG(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Q(Xe),Q(cn),Q(bi),Q(Ei),Q(Cr,8))};static \u0275dir=rt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&Nk(s,Cr,5),r&2){let o;wr(o=Er())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Gt]})}return n})();function TG(n){return!!n.paths}var Fd=class{};var yO=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wt(t=>t instanceof ar),di(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=od(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return je(i).pipe(Gs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=J(null);let s=i.pipe(Dt(o=>o===null?J(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return je([s,o]).pipe(Gs())}else return s})}static \u0275fac=function(r){return new(r||n)(Z(Xe),Z(xg),Z(sn),Z(Fd),Z(bm))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vO=new Y(""),SG=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof uo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ar?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Si&&t.code===al.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ll&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ll(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){sk()};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function aI(n,...e){return vr([{provide:Da,multi:!0,useValue:n},[],{provide:xi,useFactory:_O,deps:[Xe]},{provide:Tg,multi:!0,useFactory:bO},e.map(t=>t.\u0275providers)])}function _O(n){return n.routerState.root}function Ld(n,e){return{\u0275kind:n,\u0275providers:e}}function bO(){let n=F(wt);return e=>{let t=n.get(Js);if(e!==t.components[0])return;let r=n.get(Xe),i=n.get(wO);n.get(cI)===1&&r.initialNavigation(),n.get(DO,null,Ee.Optional)?.setUpPreloading(),n.get(vO,null,Ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wO=new Y("",{factory:()=>new ot}),cI=new Y("",{providedIn:"root",factory:()=>1});function EO(){let n=[{provide:cI,useValue:0},nE(()=>{let e=F(wt);return e.get(cE,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Xe),s=e.get(wO);Im(i,()=>{r(!0)}),e.get(Em).afterPreactivation=()=>(r(!0),s.closed?J(void 0):s),i.initialNavigation()}))})];return Ld(2,n)}function IO(){let n=[nE(()=>{F(Xe).setUpLocationChangeListener()}),{provide:cI,useValue:2}];return Ld(3,n)}var DO=new Y("");function CO(n){return Ld(0,[{provide:DO,useExisting:yO},{provide:Fd,useExisting:n}])}function TO(){return Ld(8,[ZE,{provide:Nd,useExisting:ZE}])}function SO(n){no("NgRouterViewTransitions");let e=[{provide:nI,useValue:pO},{provide:rI,useValue:z({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ld(9,e)}var xO=[oo,{provide:ba,useClass:co},Xe,wa,{provide:xi,useFactory:_O,deps:[Xe]},bm,[]],Ca=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[xO,[],{provide:Da,multi:!0,useValue:t},[],r?.errorHandler?{provide:iI,useValue:r.errorHandler}:[],{provide:Ia,useValue:r||{}},r?.useHash?AG():MG(),xG(),r?.preloadingStrategy?CO(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?RG(r):[],r?.bindToComponentInputs?TO().\u0275providers:[],r?.enableViewTransitions?SO().\u0275providers:[],PG()]}}static forChild(t){return{ngModule:n,providers:[{provide:Da,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=on({})}return n})();function xG(){return{provide:vO,useFactory:()=>{let n=F(fN),e=F(xe),t=F(Ia),r=F(Em),i=F(ba);return t.scrollOffset&&n.setOffset(t.scrollOffset),new SG(i,r,n,e,t)}}}function AG(){return{provide:Kr,useClass:hE}}function MG(){return{provide:Kr,useClass:Pg}}function RG(n){return[n.initialNavigation==="disabled"?IO().\u0275providers:[],n.initialNavigation==="enabledBlocking"?EO().\u0275providers:[]]}var sI=new Y("");function PG(){return[{provide:sI,useFactory:bO},{provide:Tg,multi:!0,useExisting:sI}]}var VO=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Q(bi),Q(cn))};static \u0275dir=rt({type:n})}return n})(),Rm=(()=>{class n extends VO{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=rt({type:n,features:[_r]})}return n})(),zd=new Y("");var kG={provide:zd,useExisting:vi(()=>Tr),multi:!0};function NG(){let n=Ir()?Ir().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var OG=new Y(""),Tr=(()=>{class n extends VO{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!NG())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Q(bi),Q(cn),Q(OG,8))};static \u0275dir=rt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&le("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[ds([kG]),_r]})}return n})();function FG(n){return n==null||LG(n)===0}function LG(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var uI=new Y(""),jO=new Y("");function VG(n){return FG(n.value)?{required:!0}:null}function AO(n){return null}function BO(n){return n!=null}function UO(n){return pa(n)?je(n):n}function $O(n){let e={};return n.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function HO(n,e){return e.map(t=>t(n))}function jG(n){return!n.validate}function zO(n){return n.map(e=>jG(e)?e:t=>e.validate(t))}function BG(n){if(!n)return null;let e=n.filter(BO);return e.length==0?null:function(t){return $O(HO(t,e))}}function dI(n){return n!=null?BG(zO(n)):null}function UG(n){if(!n)return null;let e=n.filter(BO);return e.length==0?null:function(t){let r=HO(t,e).map(UO);return Lu(r).pipe(ne($O))}}function hI(n){return n!=null?UG(zO(n)):null}function MO(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $G(n){return n._rawValidators}function HG(n){return n._rawAsyncValidators}function lI(n){return n?Array.isArray(n)?n:[n]:[]}function Cm(n,e){return Array.isArray(n)?n.includes(e):n===e}function RO(n,e){let t=lI(e);return lI(n).forEach(i=>{Cm(t,i)||t.push(i)}),t}function PO(n,e){return lI(e).filter(t=>!Cm(n,t))}var Tm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},yl=class extends Tm{name;get formDirective(){return null}get path(){return null}},Hd=class extends Tm{_parent=null;name=null;valueAccessor=null},Sm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zG={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Dfe=fe(z({},zG),{"[class.ng-submitted]":"isSubmitted"}),Sr=(()=>{class n extends Sm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Q(Hd,2))};static \u0275dir=rt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&un("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_r]})}return n})(),Ai=(()=>{class n extends Sm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Q(yl,10))};static \u0275dir=rt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&un("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[_r]})}return n})();var Vd="VALID",Dm="INVALID",gl="PENDING",jd="DISABLED",vl=class{},xm=class extends vl{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ud=class extends vl{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},$d=class extends vl{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ml=class extends vl{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function WO(n){return(Pm(n)?n.validators:n)||null}function WG(n){return Array.isArray(n)?dI(n):n||null}function qO(n,e){return(Pm(e)?e.asyncValidators:n)||null}function qG(n){return Array.isArray(n)?hI(n):n||null}function Pm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function GG(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[t])throw new G(1001,"")}function KG(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new G(1002,"")})}var Am=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ii(this.statusReactive)}set status(e){Ii(()=>this.statusReactive.set(e))}_status=Jc(()=>this.statusReactive());statusReactive=Kc(void 0);get valid(){return this.status===Vd}get invalid(){return this.status===Dm}get pending(){return this.status==gl}get disabled(){return this.status===jd}get enabled(){return this.status!==jd}errors;get pristine(){return Ii(this.pristineReactive)}set pristine(e){Ii(()=>this.pristineReactive.set(e))}_pristine=Jc(()=>this.pristineReactive());pristineReactive=Kc(!0);get dirty(){return!this.pristine}get touched(){return Ii(this.touchedReactive)}set touched(e){Ii(()=>this.touchedReactive.set(e))}_touched=Jc(()=>this.touchedReactive());touchedReactive=Kc(!1);get untouched(){return!this.touched}_events=new ot;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PO(e,this._rawAsyncValidators))}hasValidator(e){return Cm(this._rawValidators,e)}hasAsyncValidator(e){return Cm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $d(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new $d(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ud(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ud(!0,r))}markAsPending(e={}){this.status=gl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=jd,this.errors=null,this._forEachChild(i=>{i.disable(fe(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xm(this.value,r)),this._events.next(new ml(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vd,this._forEachChild(r=>{r.enable(fe(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vd||this.status===gl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xm(this.value,t)),this._events.next(new ml(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jd:Vd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=gl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=UO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ml(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ut,this.statusChanges=new ut}_calculateStatus(){return this._allControlsDisabled()?jd:this.errors?Dm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gl)?gl:this._anyControlsHaveStatus(Dm)?Dm:Vd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ud(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new $d(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=WG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=qG(this._rawAsyncValidators)}},Mm=class extends Am{constructor(e,t,r){super(WO(t),qO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){KG(this,!0,e),Object.keys(e).forEach(r=>{GG(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fI=new Y("",{providedIn:"root",factory:()=>pI}),pI="always";function YG(n,e){return[...e.path,n]}function GO(n,e,t=pI){KO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),XG(n,e),JG(n,e),ZG(n,e),QG(n,e)}function kO(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QG(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function KO(n,e){let t=$G(n);e.validator!==null?n.setValidators(MO(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=HG(n);e.asyncValidator!==null?n.setAsyncValidators(MO(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();kO(e._rawValidators,i),kO(e._rawAsyncValidators,i)}function XG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&YO(n,e)})}function ZG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&YO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function YO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JG(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function e9(n,e){n==null,KO(n,e)}function t9(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function n9(n){return Object.getPrototypeOf(n.constructor)===Rm}function r9(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function i9(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Tr?t=s:n9(s)?r=s:i=s}),i||r||t||null}var s9={provide:yl,useExisting:vi(()=>Xr)},Bd=Promise.resolve(),Xr=(()=>{class n extends yl{callSetDisabledState;get submitted(){return Ii(this.submittedReactive)}_submitted=Jc(()=>this.submittedReactive());submittedReactive=Kc(!1);_directives=new Set;form;ngSubmit=new ut;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Mm({},dI(t),hI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),GO(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bd.then(()=>{let r=this._findContainer(t.path),i=new Mm({});e9(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Bd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),r9(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Q(uI,10),Q(jO,10),Q(fI,8))};static \u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&le("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ds([s9]),_r]})}return n})();function NO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function OO(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var o9=class extends Am{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(WO(t),qO(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(OO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){OO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var a9={provide:Hd,useExisting:vi(()=>cr)},FO=Promise.resolve(),cr=(()=>{class n extends Hd{_changeDetectorRef;callSetDisabledState;control=new o9;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ut;constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=i9(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),t9(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){GO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){FO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&qr(r);FO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?YG(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Q(yl,9),Q(uI,10),Q(jO,10),Q(zd,10),Q(Ei,8),Q(fI,8))};static \u0275dir=rt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ds([a9]),_r,Gt]})}return n})();var Mi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),c9={provide:zd,useExisting:vi(()=>Wd),multi:!0},Wd=(()=>{class n extends Rm{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=rt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&le("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ds([c9]),_r]})}return n})();var l9={provide:zd,useExisting:vi(()=>_l),multi:!0};function QO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function u9(n){return n.split(":")[0]}var _l=(()=>{class n extends Rm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=QO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=u9(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=rt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&le("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ds([l9]),_r]})}return n})(),fo=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(QO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Q(cn),Q(bi),Q(_l,9))};static \u0275dir=rt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),d9={provide:zd,useExisting:vi(()=>XO),multi:!0};function LO(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function h9(n){return n.split(":")[0]}var XO=(()=>{class n extends Rm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],l=this._getOptionValue(c.value);i.push(l)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=h9(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=rt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&le("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ds([d9]),_r]})}return n})(),po=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(LO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(LO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Q(cn),Q(bi),Q(XO,9))};static \u0275dir=rt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var f9=(()=>{class n{_validator=AO;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):AO,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,features:[Gt]})}return n})();var p9={provide:uI,useExisting:vi(()=>Zr),multi:!0};var Zr=(()=>{class n extends f9{required;inputName="required";normalizeInput=qr;createValidator=t=>VG;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=rt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&so("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ds([p9]),_r]})}return n})();var g9=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=on({})}return n})();var Xt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fI,useValue:t.callSetDisabledState??pI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=on({imports:[g9]})}return n})();var Ri=class n{transform(e,t){return typeof e!="number"?"":`${t?e:Math.round(e*.453592)} ${t?"lbs":"kg"}`}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Qc({name:"weightUnit",type:n,pure:!0})};function km(n){return n>=1&&n<=3?2:n>=4&&n<=6?1.5:n>=7&&n<=10?1.2:n>=11&&n<=15?1:.8}function gs(n,e){let t=new Date(n);return t.setDate(t.getDate()+e),t}var ms=(a=>(a[a.Unknown=0]="Unknown",a[a.Chest=1]="Chest",a[a.Back=2]="Back",a[a.Biceps=3]="Biceps",a[a.Triceps=4]="Triceps",a[a.GlutesQuads=5]="GlutesQuads",a[a.HamstringsCalves=6]="HamstringsCalves",a))(ms||{});var ZO=()=>{};var e1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},m9=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Nm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),r.push(t[u],t[h],t[f],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(e1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):m9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new mI;let f=s<<2|a>>4;if(r.push(f),l!==64){let p=a<<4&240|l>>2;if(r.push(p),h!==64){let m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},mI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},y9=function(n){let e=e1(n);return Nm.encodeByteArray(e,!0)},qd=function(n){return y9(n).replace(/\./g,"")},Om=function(n){try{return Nm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var v9=()=>vI().__FIREBASE_DEFAULTS__,_9=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},b9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Om(n[1]);return e&&JSON.parse(e)},Fm=()=>{try{return ZO()||v9()||_9()||b9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_I=n=>{var e,t;return(t=(e=Fm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},t1=n=>{let e=_I(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},bI=()=>{var n;return(n=Fm())===null||n===void 0?void 0:n.config},wI=n=>{var e;return(e=Fm())===null||e===void 0?void 0:e[`_${n}`]};var Ta=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function n1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qd(JSON.stringify(t)),qd(JSON.stringify(o)),""].join(".")}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function w9(){var n;let e=(n=Fm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function o1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a1(){let n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function c1(){return!w9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gd(){try{return typeof indexedDB=="object"}catch{return!1}}function l1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var E9="FirebaseError",lr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=E9,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jr.prototype.create)}},Jr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?I9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new lr(i,a,r)}};function I9(n,e){return n.replace(D9,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var D9=/\{\$([^}]+)}/g;function u1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(JO(s)&&JO(o)){if(!Pi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function JO(n){return n!==null&&typeof n=="object"}function Kd(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bl(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wl(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function d1(n,e){let t=new yI(n,e);return t.subscribe.bind(t)}var yI=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");C9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=gI),i.error===void 0&&(i.error=gI),i.complete===void 0&&(i.complete=gI);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function C9(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gI(){}var Pfe=4*60*60*1e3;function ht(n){return n&&n._delegate?n._delegate:n}var On=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Sa="[DEFAULT]";var EI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ta;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S9(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function T9(n){return n===Sa?void 0:n}function S9(n){return n.instantiationMode==="EAGER"}var Lm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new EI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var x9=[],Se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Se||{}),A9={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},M9=Se.INFO,R9={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},P9=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=R9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ki=class{constructor(e){this.name=e,this._logLevel=M9,this._logHandler=P9,this._userLogHandler=null,x9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var k9=(n,e)=>e.some(t=>n instanceof t),h1,f1;function N9(){return h1||(h1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O9(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var p1=new WeakMap,DI=new WeakMap,g1=new WeakMap,II=new WeakMap,TI=new WeakMap;function F9(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ni(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&p1.set(t,n)}).catch(()=>{}),TI.set(e,n),e}function L9(n){if(DI.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});DI.set(n,e)}var CI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return DI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||g1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function m1(n){CI=n(CI)}function V9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Vm(this),e,...t);return g1.set(r,e.sort?e.sort():[e]),Ni(r)}:O9().includes(n)?function(...e){return n.apply(Vm(this),e),Ni(p1.get(this))}:function(...e){return Ni(n.apply(Vm(this),e))}}function j9(n){return typeof n=="function"?V9(n):(n instanceof IDBTransaction&&L9(n),k9(n,N9())?new Proxy(n,CI):n)}function Ni(n){if(n instanceof IDBRequest)return F9(n);if(II.has(n))return II.get(n);let e=j9(n);return e!==n&&(II.set(n,e),TI.set(e,n)),e}var Vm=n=>TI.get(n);function v1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ni(o.result),c.oldVersion,c.newVersion,Ni(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var B9=["get","getKey","getAll","getAllKeys","count"],U9=["put","add","delete","clear"],SI=new Map;function y1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(SI.get(e))return SI.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=U9.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||B9.includes(t)))return;let s=function(o,...a){return E(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return SI.set(e,s),s}m1(n=>fe(z({},n),{get:(e,t,r)=>y1(e,t)||n.get(e,t,r),has:(e,t)=>!!y1(e,t)||n.has(e,t)}));var AI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($9(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function $9(n){let e=n.getComponent();return e?.type==="VERSION"}var MI="@firebase/app",_1="0.11.5";var ys=new ki("@firebase/app"),H9="@firebase/app-compat",z9="@firebase/analytics-compat",W9="@firebase/analytics",q9="@firebase/app-check-compat",G9="@firebase/app-check",K9="@firebase/auth",Y9="@firebase/auth-compat",Q9="@firebase/database",X9="@firebase/data-connect",Z9="@firebase/database-compat",J9="@firebase/functions",e6="@firebase/functions-compat",t6="@firebase/installations",n6="@firebase/installations-compat",r6="@firebase/messaging",i6="@firebase/messaging-compat",s6="@firebase/performance",o6="@firebase/performance-compat",a6="@firebase/remote-config",c6="@firebase/remote-config-compat",l6="@firebase/storage",u6="@firebase/storage-compat",d6="@firebase/firestore",h6="@firebase/vertexai",f6="@firebase/firestore-compat",p6="firebase",g6="11.6.1";var RI="[DEFAULT]",m6={[MI]:"fire-core",[H9]:"fire-core-compat",[W9]:"fire-analytics",[z9]:"fire-analytics-compat",[G9]:"fire-app-check",[q9]:"fire-app-check-compat",[K9]:"fire-auth",[Y9]:"fire-auth-compat",[Q9]:"fire-rtdb",[X9]:"fire-data-connect",[Z9]:"fire-rtdb-compat",[J9]:"fire-fn",[e6]:"fire-fn-compat",[t6]:"fire-iid",[n6]:"fire-iid-compat",[r6]:"fire-fcm",[i6]:"fire-fcm-compat",[s6]:"fire-perf",[o6]:"fire-perf-compat",[a6]:"fire-rc",[c6]:"fire-rc-compat",[l6]:"fire-gcs",[u6]:"fire-gcs-compat",[d6]:"fire-fst",[f6]:"fire-fst-compat",[h6]:"fire-vertex","fire-js":"fire-js",[p6]:"fire-js-all"};var Yd=new Map,y6=new Map,PI=new Map;function b1(n,e){try{n.container.addComponent(e)}catch(t){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ei(n){let e=n.name;if(PI.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;PI.set(e,n);for(let t of Yd.values())b1(t,n);for(let t of y6.values())b1(t,n);return!0}function El(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}var v6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mo=new Jr("app","Firebase",v6);var kI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}};var yo=g6;function FI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:RI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mo.create("bad-app-name",{appName:String(i)});if(t||(t=bI()),!t)throw mo.create("no-options");let s=Yd.get(i);if(s){if(Pi(t,s.options)&&Pi(r,s.config))return s;throw mo.create("duplicate-app",{appName:i})}let o=new Lm(i);for(let c of PI.values())o.addComponent(c);let a=new kI(t,r,o);return Yd.set(i,a),a}function xa(n=RI){let e=Yd.get(n);if(!e&&n===RI&&bI())return FI();if(!e)throw mo.create("no-app",{appName:n});return e}function jm(){return Array.from(Yd.values())}function Et(n,e,t){var r;let i=(r=m6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(a.join(" "));return}ei(new On(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _6="firebase-heartbeat-database",b6=1,Qd="firebase-heartbeat-store",xI=null;function D1(){return xI||(xI=v1(_6,b6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qd)}catch(t){console.warn(t)}}}}).catch(n=>{throw mo.create("idb-open",{originalErrorMessage:n.message})})),xI}function w6(n){return E(this,null,function*(){try{let t=(yield D1()).transaction(Qd),r=yield t.objectStore(Qd).get(C1(n));return yield t.done,r}catch(e){if(e instanceof lr)ys.warn(e.message);else{let t=mo.create("idb-get",{originalErrorMessage:e?.message});ys.warn(t.message)}}})}function w1(n,e){return E(this,null,function*(){try{let r=(yield D1()).transaction(Qd,"readwrite");yield r.objectStore(Qd).put(e,C1(n)),yield r.done}catch(t){if(t instanceof lr)ys.warn(t.message);else{let r=mo.create("idb-set",{originalErrorMessage:t?.message});ys.warn(r.message)}}})}function C1(n){return`${n.name}!${n.options.appId}`}var E6=1024,I6=30,NI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new OI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>I6){let o=C6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ys.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=E1(),{heartbeatsToSend:r,unsentEntries:i}=D6(this._heartbeatsCache.heartbeats),s=qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ys.warn(t),""}})}};function E1(){return new Date().toISOString().substring(0,10)}function D6(n,e=E6){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),I1(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),I1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var OI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Gd()?l1().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield w6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return w1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return w1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function I1(n){return qd(JSON.stringify({version:2,heartbeats:n})).length}function C6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function T6(n){ei(new On("platform-logger",e=>new AI(e),"PRIVATE")),ei(new On("heartbeat",e=>new NI(e),"PRIVATE")),Et(MI,_1,n),Et(MI,_1,"esm2017"),Et("fire-js","")}T6("");var S6="firebase",x6="11.6.1";Et(S6,x6,"app");function LI(n){n===void 0&&(yw(LI),n=F(wt));let e=n.get(yg);return t=>new de(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var vo=new eo("ANGULARFIRE2_VERSION");function Xd(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Dl=(n,e)=>{let t=e?[e]:jm(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Il=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Il||{}),T1=sE()&&typeof Zone<"u"?Il.WARN:Il.SILENT;var Bm=class{zone;delegate;constructor(e,t=Nb){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},_o=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(xe);this.outsideAngular=t.runOutsideAngular(()=>new Bm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Bm(typeof Zone>"u"?void 0:Zone.current,Fu))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S1=!1;function A6(n,e){!S1&&(T1>Il.SILENT||sE())&&(S1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),T1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function M6(n){let e=F(xe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Aa(n){let e=F(xe,{optional:!0});return e?e.run(()=>n()):n()}var R6=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),an(t,()=>Aa(()=>n.apply(void 0,r)))),zt=(n,e,t)=>(t||=e?Il.WARN:Il.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=F(_o),o=F(yg),a=F(sn)}catch{return A6(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Aa(()=>o.add())),i[l]=R6(i[l],r,a));let c=M6(()=>n.apply(this,i));return e?c instanceof de?c.pipe(Ws(s.outsideAngular),zs(s.insideAngular),LI(a)):c instanceof Promise?Aa(()=>new Promise((l,u)=>{o.run(()=>c).then(h=>an(a,()=>Aa(()=>l(h))),h=>an(a,()=>Aa(()=>u(h))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Aa(()=>c):c instanceof de?c.pipe(Ws(s.outsideAngular),zs(s.insideAngular)):Aa(()=>c)});var ti=class{constructor(e){return e}},Ma=class{constructor(){return jm()}};function P6(n){return n&&n.length===1?n[0]:new ti(xa())}var VI=new Y("angularfire2._apps"),k6={provide:ti,useFactory:P6,deps:[[new Rn,VI]]},N6={provide:Ma,deps:[[new Rn,VI]]};function O6(n){return(e,t)=>{let r=t.get(zr);Et("angularfire",vo.full,"core"),Et("angularfire",vo.full,"app"),Et("angular",Bk.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ti(i)}}function x1(n,...e){return vr([k6,N6,{provide:VI,useFactory:O6(n),multi:!0,deps:[xe,wt,_o,...e]}])}var A1=zt(FI,!0);var F6=new Map,L6={activated:!1,tokenObservers:[]},V6={initialized:!1,enabled:!1};function ni(n){return F6.get(n)||Object.assign({},L6)}function k1(){return V6}var j6="https://content-firebaseappcheck.googleapis.com/v1";var B6="exchangeDebugToken",M1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Lpe=24*60*60*1e3;var UI=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new Ta,this.pending.promise.catch(t=>{}),yield U6(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ta,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function U6(n){return new Promise(e=>{setTimeout(e,n)})}var $6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},bo=new Jr("appCheck","AppCheck",$6);function N1(n){if(!ni(n).activated)throw bo.create("use-before-activation",{appName:n.name})}function O1(r,i){return E(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let p=yield o.getHeartbeatsHeader();p&&(s["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(n,a)}catch(p){throw bo.create("fetch-network-error",{originalErrorMessage:p?.message})}if(c.status!==200)throw bo.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(p){throw bo.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw bo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let h=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+h,issuedAtTimeMillis:f}})}function F1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${j6}/projects/${t}/apps/${r}:${B6}?key=${i}`,body:{debug_token:e}}}var H6="firebase-app-check-database",z6=1,$I="firebase-app-check-store";var Um=null;function W6(){return Um||(Um=new Promise((n,e)=>{try{let t=indexedDB.open(H6,z6);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(bo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($I,{keyPath:"compositeKey"})}}}catch(t){e(bo.create("storage-open",{originalErrorMessage:t?.message}))}}),Um)}function q6(n,e){return G6(K6(n),e)}function G6(n,e){return E(this,null,function*(){let r=(yield W6()).transaction($I,"readwrite"),s=r.objectStore($I).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(bo.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function K6(n){return`${n.options.appId}-${n.name}`}var Zd=new ki("@firebase/app-check");function jI(n,e){return Gd()?q6(n,e).catch(t=>{Zd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function L1(){return k1().enabled}function V1(){return E(this,null,function*(){let n=k1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Y6={error:"UNKNOWN_ERROR"};function Q6(n){return Nm.encodeString(JSON.stringify(n),!1)}function HI(n,e=!1,t=!1){return E(this,null,function*(){let r=n.app;N1(r);let i=ni(r),s=i.token,o;if(s&&!Jd(s)&&(i.token=void 0,s=void 0),!s){let l=yield i.cachedTokenPromise;l&&(Jd(l)?s=l:yield jI(r,void 0))}if(!e&&s&&Jd(s))return{token:s.token};let a=!1;if(L1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=O1(F1(r,yield V1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield jI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Zd.warn(l.message):t&&Zd.error(l),BI(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield ni(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Zd.warn(l.message):t&&Zd.error(l),o=l}let c;return s?o?Jd(s)?c={token:s.token,internalError:o}:c=BI(o):(c={token:s.token},i.token=s,yield jI(r,s)):c=BI(o),a&&e8(r,c),c})}function X6(n){return E(this,null,function*(){let e=n.app;N1(e);let{provider:t}=ni(e);if(L1()){let r=yield V1(),{token:i}=yield O1(F1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Z6(n,e,t,r){let{app:i}=n,s=ni(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Jd(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),R1(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>R1(n))}function j1(n,e){let t=ni(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function R1(n){let{app:e}=n,t=ni(e),r=t.tokenRefresher;r||(r=J6(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function J6(n){let{app:e}=n;return new UI(()=>E(this,null,function*(){let t=ni(e),r;if(t.token?r=yield HI(n,!0):r=yield HI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=ni(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},M1.RETRIAL_MIN_WAIT,M1.RETRIAL_MAX_WAIT)}function e8(n,e){let t=ni(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Jd(n){return n.expireTimeMillis-Date.now()>0}function BI(n){return{token:Q6(Y6),error:n}}var zI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ni(this.app);for(let t of e)j1(this.app,t.next);return Promise.resolve()}};function t8(n,e){return new zI(n,e)}function n8(n){return{getToken:e=>HI(n,e),getLimitedUseToken:()=>X6(n),addTokenListener:e=>Z6(n,"INTERNAL",e),removeTokenListener:e=>j1(n.app,e)}}var r8="@firebase/app-check",i8="0.8.13";var s8="app-check",P1="app-check-internal";function o8(){ei(new On(s8,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return t8(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(P1).initialize()})),ei(new On(P1,n=>{let e=n.getProvider("app-check").getImmediate();return n8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Et(r8,i8)}o8();var a8="app-check";var Cl=class{constructor(){return Dl(a8)}};var c8=["localhost","0.0.0.0","127.0.0.1"],Qpe=typeof window<"u"&&c8.includes(window.location.hostname);function tF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var nF=tF,rF=new Jr("auth","Firebase",tF());var Gm=new ki("@firebase/auth");function l8(n,...e){Gm.logLevel<=Se.WARN&&Gm.warn(`Auth (${yo}): ${n}`,...e)}function Hm(n,...e){Gm.logLevel<=Se.ERROR&&Gm.error(`Auth (${yo}): ${n}`,...e)}function Fi(n,...e){throw gD(n,...e)}function Ra(n,...e){return gD(n,...e)}function iF(n,e,t){let r=Object.assign(Object.assign({},nF()),{[e]:t});return new Jr("auth","Firebase",r).create(e,{appName:n.name})}function bs(n){return iF(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gD(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return rF.create(n,...e)}function re(n,e,...t){if(!n)throw gD(e,...t)}function vs(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Hm(e),new Error(e)}function Io(n,e){n||vs(e)}function KI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function u8(){return B1()==="http:"||B1()==="https:"}function B1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function d8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u8()||s1()||"connection"in navigator)?navigator.onLine:!0}function h8(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Pa=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Io(t>e,"Short delay should be less than long delay!"),this.isMobile=r1()||o1()}get(){return d8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function mD(n,e){Io(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Km=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var f8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var p8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g8=new Pa(3e4,6e4);function Do(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Co(s,o,a,c){return E(this,arguments,function*(n,e,t,r,i={}){return sF(n,i,()=>E(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let h=Kd(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let p=Object.assign({method:e,headers:f},l);return i1()||(p.referrerPolicy="no-referrer"),Km.fetch()(yield oF(n,n.config.apiHost,t,h),p)}))})}function sF(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},f8),e);try{let i=new YI(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw $m(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $m(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw $m(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw $m(n,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw iF(n,u,l);Fi(n,u)}}catch(i){if(i instanceof lr)throw i;Fi(n,"network-request-failed",{message:String(i)})}})}function ch(s,o,a,c){return E(this,arguments,function*(n,e,t,r,i={}){let l=yield Co(n,e,t,r,i);return"mfaPendingCredential"in l&&Fi(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function oF(n,e,t,r){return E(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?mD(n.config,i):`${n.config.apiScheme}://${i}`;return p8.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function m8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var YI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ra(this.auth,"network-request-failed")),g8.get())})}};function $m(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ra(n,e,r);return i.customData._tokenResponse=t,i}function U1(n){return n!==void 0&&n.enterprise!==void 0}var QI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return m8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function y8(n,e){return E(this,null,function*(){return Co(n,"GET","/v2/recaptchaConfig",Do(n,e))})}function v8(n,e){return E(this,null,function*(){return Co(n,"POST","/v1/accounts:delete",e)})}function Ym(n,e){return E(this,null,function*(){return Co(n,"POST","/v1/accounts:lookup",e)})}function th(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yD(n,e=!1){return E(this,null,function*(){let t=ht(n),r=yield t.getIdToken(e),i=vD(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:th(WI(i.auth_time)),issuedAtTime:th(WI(i.iat)),expirationTime:th(WI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function WI(n){return Number(n)*1e3}function vD(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hm("JWT malformed, contained fewer than 3 sections"),null;try{let i=Om(t);return i?JSON.parse(i):(Hm("Failed to decode base64 JWT payload"),null)}catch(i){return Hm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $1(n){let e=vD(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function rh(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof lr&&_8(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function _8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var XI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ih=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qm(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield rh(n,Ym(t,{idToken:r}));re(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aF(s.providerUserInfo):[],a=b8(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,u=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ih(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function _D(n){return E(this,null,function*(){let e=ht(n);yield Qm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function b8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aF(n){return n.map(e=>{var{providerId:t}=e,r=Ob(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function w8(n,e){return E(this,null,function*(){let t=yield sF(n,{},()=>E(this,null,function*(){let r=Kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield oF(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Km.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function E8(n,e){return E(this,null,function*(){return Co(n,"POST","/v2/accounts:revokeToken",Do(n,e))})}var nh=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=$1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield w8(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return vs("not implemented")}};function wo(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Eo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ob(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ih(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield rh(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return yD(this,e)}reload(){return _D(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Qm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Kn(this.auth.app))return Promise.reject(bs(this.auth));let e=yield this.getIdToken();return yield rh(this,v8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;let h=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,C=(l=t.createdAt)!==null&&l!==void 0?l:void 0,x=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:N,emailVerified:j,isAnonymous:L,providerData:B,stsTokenManager:D}=t;re(N&&D,e,"internal-error");let w=nh.fromJSON(this.name,D);re(typeof N=="string",e,"internal-error"),wo(h,e.name),wo(f,e.name),re(typeof j=="boolean",e,"internal-error"),re(typeof L=="boolean",e,"internal-error"),wo(p,e.name),wo(m,e.name),wo(v,e.name),wo(_,e.name),wo(C,e.name),wo(x,e.name);let I=new n({uid:N,auth:e,email:f,emailVerified:j,displayName:h,isAnonymous:L,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:w,createdAt:C,lastLoginAt:x});return B&&Array.isArray(B)&&(I.providerData=B.map(S=>Object.assign({},S))),_&&(I._redirectEventId=_),I}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new nh;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qm(s),s})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?aF(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new nh;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ih(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var H1=new Map;function _s(n){Io(n instanceof Function,"Expected a class definition");let e=H1.get(n);return e?(Io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,H1.set(n,e),e)}var I8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),ZI=I8;function zm(n,e,t){return`firebase:${n}:${e}:${t}`}var Xm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=zm(this.userKey,i.apiKey,s),this.fullPersistenceKey=zm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ym(this.auth,{idToken:e}).catch(()=>{});return t?Eo._fromGetAccountInfoResponse(this.auth,t,e):null}return Eo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(_s(ZI),e,r);let i=(yield Promise.all(t.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||_s(ZI),o=zm(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(o);if(u){let h;if(typeof u=="string"){let f=yield Ym(e,{idToken:u}).catch(()=>{});if(!f)break;h=yield Eo._fromGetAccountInfoResponse(e,f,u)}else h=Eo._fromJSON(e,u);l!==s&&(a=h),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>E(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function z1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fF(e))return"Blackberry";if(pF(e))return"Webos";if(lF(e))return"Safari";if((e.includes("chrome/")||uF(e))&&!e.includes("edge/"))return"Chrome";if(hF(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function cF(n=Zt()){return/firefox\//i.test(n)}function lF(n=Zt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uF(n=Zt()){return/crios\//i.test(n)}function dF(n=Zt()){return/iemobile/i.test(n)}function hF(n=Zt()){return/android/i.test(n)}function fF(n=Zt()){return/blackberry/i.test(n)}function pF(n=Zt()){return/webos/i.test(n)}function bD(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function D8(n=Zt()){var e;return bD(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C8(){return a1()&&document.documentMode===10}function gF(n=Zt()){return bD(n)||hF(n)||pF(n)||fF(n)||/windows phone/i.test(n)||dF(n)}function mF(n,e=[]){let t;switch(n){case"Browser":t=z1(Zt());break;case"Worker":t=`${z1(Zt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yo}/${r}`}var JI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function T8(t){return E(this,arguments,function*(n,e={}){return Co(n,"GET","/v2/passwordPolicy",Do(n,e))})}var S8=6,eD=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:S8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var tD=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zm(this),this.idTokenSubscription=new Zm(this),this.beforeStateQueue=new JI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_s(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield Xm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield Ym(this,{idToken:e}),r=yield Eo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(Kn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Qm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=h8()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Kn(this.app))return Promise.reject(bs(this));let t=e?ht(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Kn(this.app)?Promise.reject(bs(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kn(this.app)?Promise.reject(bs(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(_s(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield T8(this),t=new eD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield E8(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&_s(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield Xm.create(this,[_s(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&l8(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Na(n){return ht(n)}var Zm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=d1(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sy={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x8(n){sy=n}function yF(n){return sy.loadJS(n)}function A8(){return sy.recaptchaEnterpriseScript}function M8(){return sy.gapiScript}function vF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var nD=class{constructor(){this.enterprise=new rD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},rD=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var R8="recaptcha-enterprise",_F="NO_RECAPTCHA",iD=class{constructor(e){this.type=R8,this.auth=Na(e)}verify(e="verify",t=!1){return E(this,null,function*(){function r(s){return E(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>E(this,null,function*(){y8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new QI(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;U1(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(_F)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nD().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&U1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=A8();c.length!==0&&(c+=a),yF(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function eh(n,e,t,r=!1,i=!1){return E(this,null,function*(){let s=new iD(n),o;if(i)o=_F;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function sD(n,e,t,r,i){return E(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield eh(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>E(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield eh(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield eh(n,e,t);return r(n,a).catch(c=>E(this,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let u=yield eh(n,e,t,!1,!0);return r(n,u)}return Promise.reject(c)}))}else{let a=yield eh(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function wD(n,e){let t=El(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Pi(s,e??{}))return i;Fi(i,"already-initialized")}return t.initialize({options:e})}function P8(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_s);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ED(n,e,t){let r=Na(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=bF(e),{host:o,port:a}=k8(e),c=a===null?"":`:${a}`,l={url:`${s}//${o}${c}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Pi(l,r.config.emulator)&&Pi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||N8()}function bF(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function k8(n){let e=bF(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:W1(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:W1(o)}}}function W1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function N8(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var sh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,t){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}};function O8(n,e){return E(this,null,function*(){return Co(n,"POST","/v1/accounts:signUp",e)})}function F8(n,e){return E(this,null,function*(){return ch(n,"POST","/v1/accounts:signInWithPassword",Do(n,e))})}function L8(n,e){return E(this,null,function*(){return ch(n,"POST","/v1/accounts:signInWithEmailLink",Do(n,e))})}function V8(n,e){return E(this,null,function*(){return ch(n,"POST","/v1/accounts:signInWithEmailLink",Do(n,e))})}var oh=class n extends sh{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sD(e,t,"signInWithPassword",F8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return L8(e,{email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sD(e,r,"signUpPassword",O8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return V8(e,{idToken:t,email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qI(n,e){return E(this,null,function*(){return ch(n,"POST","/v1/accounts:signInWithIdp",Do(n,e))})}function j8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B8(n){let e=bl(wl(n)).link,t=e?bl(wl(e)).deep_link_id:null,r=bl(wl(n)).deep_link_id;return(r?bl(wl(r)).link:null)||r||t||e||n}var Jm=class n{constructor(e){var t,r,i,s,o,a;let c=bl(wl(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=j8((i=c.mode)!==null&&i!==void 0?i:null);re(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=B8(e);try{return new n(t)}catch{return null}}};var wF=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return oh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Jm.parseLink(r);return re(i,"argument-error"),oh._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),ey=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var oD=class extends ey{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function U8(n,e){return E(this,null,function*(){return ch(n,"POST","/v1/accounts:signUp",Do(n,e))})}var Tl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let s=yield Eo._fromIdTokenResponse(e,r,i),o=q1(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=q1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function q1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var aD=class n extends lr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function EF(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?aD._fromErrorAndOperation(n,s,e,r):s})}function $8(n,e,t=!1){return E(this,null,function*(){let r=yield rh(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Tl._forOperation(n,"link",r)})}function H8(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(Kn(r.app))return Promise.reject(bs(r));let i="reauthenticate";try{let s=yield rh(n,EF(r,i,e,n),t);re(s.idToken,r,"internal-error");let o=vD(s.idToken);re(o,r,"internal-error");let{sub:a}=o;return re(n.uid===a,r,"user-mismatch"),Tl._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Fi(r,"user-mismatch"),s}})}function IF(n,e,t=!1){return E(this,null,function*(){if(Kn(n.app))return Promise.reject(bs(n));let r="signIn",i=yield EF(n,r,e),s=yield Tl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function ID(n,e){return E(this,null,function*(){return IF(Na(n),e)})}function DF(n){return E(this,null,function*(){let e=Na(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function oy(n,e,t){return E(this,null,function*(){if(Kn(n.app))return Promise.reject(bs(n));let r=Na(n),o=yield sD(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U8,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&DF(n),c}),a=yield Tl._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function ay(n,e,t){return Kn(n.app)?Promise.reject(bs(n)):ID(ht(n),wF.credential(e,t)).catch(r=>E(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&DF(n),r}))}function lh(n,e,t,r){return ht(n).onIdTokenChanged(e,t,r)}function DD(n,e,t){return ht(n).beforeAuthStateChanged(e,t)}function uh(n,e,t,r){return ht(n).onAuthStateChanged(e,t,r)}function cy(n){return ht(n).signOut()}var ty="__sak";var ny=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ty,"1"),this.storage.removeItem(ty),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var z8=1e3,W8=10,q8=(()=>{class n extends ny{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);C8()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,W8):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},z8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield $s(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield $s(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield $s(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),CF=q8;var G8=(()=>{class n extends ny{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),CD=G8;function K8(n){return Promise.all(n.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Y8=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>E(this,null,function*(){return u(r.origin,o)})),l=yield K8(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function TF(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var cD=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=TF("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Oi(){return window}function Q8(n){Oi().location.href=n}function SF(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}function X8(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Z8(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function J8(){return SF()?self:null}var xF="firebaseLocalStorageDb",e7=1,ry="firebaseLocalStorage",AF="fbase_key",ka=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ly(n,e){return n.transaction([ry],e?"readwrite":"readonly").objectStore(ry)}function t7(){let n=indexedDB.deleteDatabase(xF);return new ka(n).toPromise()}function lD(){let n=indexedDB.open(xF,e7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(ry,{keyPath:AF})}catch(i){t(i)}}),n.addEventListener("success",()=>E(this,null,function*(){let r=n.result;r.objectStoreNames.contains(ry)?e(r):(r.close(),yield t7(),e(yield lD()))}))})}function G1(n,e,t){return E(this,null,function*(){let r=ly(n,!0).put({[AF]:e,value:t});return new ka(r).toPromise()})}function n7(n,e){return E(this,null,function*(){let t=ly(n,!1).get(e),r=yield new ka(t).toPromise();return r===void 0?null:r.value})}function K1(n,e){let t=ly(n,!0).delete(e);return new ka(t).toPromise()}var r7=800,i7=3,s7=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield lD(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>i7)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return SF()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=Y8._getInstance(J8()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield X8(),!this.activeServiceWorker)return;this.sender=new cD(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Z8()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield lD();return yield G1(t,ty,"1"),yield K1(t,ty),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>G1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>n7(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>K1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(s=>{let o=ly(s,!1).getAll();return new ka(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),r7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),MF=s7;var ige=vF("rcb"),sge=new Pa(3e4,6e4);function o7(n,e){return e?_s(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ah=class extends sh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function a7(n){return IF(n.auth,new ah(n),n.bypassAuthState)}function c7(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),H8(t,new ah(n),n.bypassAuthState)}function l7(n){return E(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),$8(t,new ah(n),n.bypassAuthState)})}var uD=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a7;case"linkViaPopup":case"linkViaRedirect":return l7;case"reauthViaPopup":case"reauthViaRedirect":return c7;default:Fi(this.auth,"internal-error")}}resolve(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var oge=new Pa(2e3,1e4);var u7="pendingRedirect",Wm=new Map,dD=class n extends uD{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Wm.get(this.auth._key());if(!e){try{let r=(yield d7(this.resolver,this.auth))?yield $s(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Wm.set(this.auth._key(),e)}return this.bypassAuthState||Wm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return $s(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,$s(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function d7(n,e){return E(this,null,function*(){let t=p7(e),r=f7(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function h7(n,e){Wm.set(n._key(),e)}function f7(n){return _s(n._redirectPersistence)}function p7(n){return zm(u7,n.config.apiKey,n.name)}function g7(n,e,t=!1){return E(this,null,function*(){if(Kn(n.app))return Promise.reject(bs(n));let r=Na(n),i=o7(r,e),o=yield new dD(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var m7=10*60*1e3,hD=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!RF(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ra(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m7&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y1(e))}saveEventToCache(e){this.cachedEventUids.add(Y1(e)),this.lastProcessedEventTime=Date.now()}};function Y1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RF({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function y7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RF(n);default:return!1}}function v7(t){return E(this,arguments,function*(n,e={}){return Co(n,"GET","/v1/projects",e)})}var _7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b7=/^https?/;function w7(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield v7(n);for(let t of e)try{if(E7(t))return}catch{}Fi(n,"unauthorized-domain")})}function E7(n){let e=KI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!b7.test(t))return!1;if(_7.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var I7=new Pa(3e4,6e4);function Q1(){let n=Oi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function D7(n){return new Promise((e,t)=>{var r,i,s;function o(){Q1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q1(),t(Ra(n,"network-request-failed"))},timeout:I7.get()})}if(!((i=(r=Oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Oi().gapi)===null||s===void 0)&&s.load)o();else{let a=vF("iframefcb");return Oi()[a]=()=>{gapi.load?o():t(Ra(n,"network-request-failed"))},yF(`${M8()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw qm=null,e})}var qm=null;function C7(n){return qm=qm||D7(n),qm}var T7=new Pa(5e3,15e3),S7="__/auth/iframe",x7="emulator/auth/iframe",A7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R7(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?mD(e,x7):`https://${n.config.authDomain}/${S7}`,r={apiKey:e.apiKey,appName:n.name,v:yo},i=M7.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Kd(r).slice(1)}`}function P7(n){return E(this,null,function*(){let e=yield C7(n),t=Oi().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:R7(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A7,dontclear:!0},r=>new Promise((i,s)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ra(n,"network-request-failed"),a=Oi().setTimeout(()=>{s(o)},T7.get());function c(){Oi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var k7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N7=500,O7=600,F7="_blank",L7="http://localhost",iy=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function V7(n,e,t,r=N7,i=O7){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},k7),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Zt().toLowerCase();t&&(a=uF(l)?F7:t),cF(l)&&(e=e||L7,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(D8(l)&&a!=="_self")return j7(e||"",a),new iy(null);let h=window.open(e||"",a,u);re(h,n,"popup-blocked");try{h.focus()}catch{}return new iy(h)}function j7(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var B7="__/auth/handler",U7="emulator/auth/handler",$7=encodeURIComponent("fac");function X1(n,e,t,r,i,s){return E(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yo,eventId:i};if(e instanceof ey){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",u1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof oD){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield n._getAppCheckToken(),l=c?`#${$7}=${encodeURIComponent(c)}`:"";return`${H7(n)}?${Kd(a).slice(1)}${l}`})}function H7({config:n}){return n.emulator?mD(n,U7):`https://${n.authDomain}/${B7}`}var GI="webStorageSupport",fD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CD,this._completeRedirectFn=g7,this._overrideRedirectResult=h7}_openPopup(e,t,r,i){return E(this,null,function*(){var s;Io((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield X1(e,t,r,KI(),i);return V7(e,o,TF())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let s=yield X1(e,t,r,KI(),i);return Q8(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Io(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield P7(e),r=new hD(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(GI,{type:GI},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[GI];o!==void 0&&t(!!o),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=w7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gF()||lF()||bD()}},PF=fD;var Z1="@firebase/auth",J1="1.10.1";var pD=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function z7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W7(n){ei(new On("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mF(n)},l=new tD(r,i,s,c);return P8(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ei(new On("auth-internal",e=>{let t=Na(e.getProvider("auth").getImmediate());return(r=>new pD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Et(Z1,J1,z7(n)),Et(Z1,J1,"esm2017")}var q7=5*60,G7=wI("authIdTokenMaxAge")||q7,eF=null,K7=n=>e=>E(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>G7)return;let i=t?.token;eF!==i&&(eF=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function TD(n=xa()){let e=El(n,"auth");if(e.isInitialized())return e.getImmediate();let t=wD(n,{popupRedirectResolver:PF,persistence:[MF,CF,CD]}),r=wI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=K7(s.toString());DD(t,o,()=>o(t.currentUser)),lh(t,a=>o(a))}}let i=_I("auth");return i&&ED(t,`http://${i}`),t}function Y7(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}x8({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Ra("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Y7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W7("Browser");function NF(n){return new de(function(e){var t=lh(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var OF="auth",hn=class{constructor(e){return e}},dh=class{constructor(){return Dl(OF)}};var SD=new Y("angularfire2.auth-instances");function FK(n,e){let t=Xd(OF,n,e);return t&&new hn(t)}function LK(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new hn(r)}}var VK={provide:dh,deps:[[new Rn,SD]]},jK={provide:hn,useFactory:FK,deps:[[new Rn,SD],ti]};function FF(n,...e){return Et("angularfire",vo.full,"auth"),vr([jK,VK,{provide:SD,useFactory:LK(n),multi:!0,deps:[xe,wt,_o,Ma,[new Rn,Cl],...e]}])}var LF=zt(NF,!0);var VF=zt(TD,!0);var jF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BF={};var ws,xD;(function(){var n;function e(D,w){function I(){}I.prototype=w.prototype,D.D=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(S,A,P){for(var T=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)T[gt-2]=arguments[gt];return w.prototype[A].apply(S,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,w,I){I||(I=0);var S=Array(16);if(typeof w=="string")for(var A=0;16>A;++A)S[A]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(A=0;16>A;++A)S[A]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],A=D.g[2];var P=D.g[3],T=w+(P^I&(A^P))+S[0]+3614090360&4294967295;w=I+(T<<7&4294967295|T>>>25),T=P+(A^w&(I^A))+S[1]+3905402710&4294967295,P=w+(T<<12&4294967295|T>>>20),T=A+(I^P&(w^I))+S[2]+606105819&4294967295,A=P+(T<<17&4294967295|T>>>15),T=I+(w^A&(P^w))+S[3]+3250441966&4294967295,I=A+(T<<22&4294967295|T>>>10),T=w+(P^I&(A^P))+S[4]+4118548399&4294967295,w=I+(T<<7&4294967295|T>>>25),T=P+(A^w&(I^A))+S[5]+1200080426&4294967295,P=w+(T<<12&4294967295|T>>>20),T=A+(I^P&(w^I))+S[6]+2821735955&4294967295,A=P+(T<<17&4294967295|T>>>15),T=I+(w^A&(P^w))+S[7]+4249261313&4294967295,I=A+(T<<22&4294967295|T>>>10),T=w+(P^I&(A^P))+S[8]+1770035416&4294967295,w=I+(T<<7&4294967295|T>>>25),T=P+(A^w&(I^A))+S[9]+2336552879&4294967295,P=w+(T<<12&4294967295|T>>>20),T=A+(I^P&(w^I))+S[10]+4294925233&4294967295,A=P+(T<<17&4294967295|T>>>15),T=I+(w^A&(P^w))+S[11]+2304563134&4294967295,I=A+(T<<22&4294967295|T>>>10),T=w+(P^I&(A^P))+S[12]+1804603682&4294967295,w=I+(T<<7&4294967295|T>>>25),T=P+(A^w&(I^A))+S[13]+4254626195&4294967295,P=w+(T<<12&4294967295|T>>>20),T=A+(I^P&(w^I))+S[14]+2792965006&4294967295,A=P+(T<<17&4294967295|T>>>15),T=I+(w^A&(P^w))+S[15]+1236535329&4294967295,I=A+(T<<22&4294967295|T>>>10),T=w+(A^P&(I^A))+S[1]+4129170786&4294967295,w=I+(T<<5&4294967295|T>>>27),T=P+(I^A&(w^I))+S[6]+3225465664&4294967295,P=w+(T<<9&4294967295|T>>>23),T=A+(w^I&(P^w))+S[11]+643717713&4294967295,A=P+(T<<14&4294967295|T>>>18),T=I+(P^w&(A^P))+S[0]+3921069994&4294967295,I=A+(T<<20&4294967295|T>>>12),T=w+(A^P&(I^A))+S[5]+3593408605&4294967295,w=I+(T<<5&4294967295|T>>>27),T=P+(I^A&(w^I))+S[10]+38016083&4294967295,P=w+(T<<9&4294967295|T>>>23),T=A+(w^I&(P^w))+S[15]+3634488961&4294967295,A=P+(T<<14&4294967295|T>>>18),T=I+(P^w&(A^P))+S[4]+3889429448&4294967295,I=A+(T<<20&4294967295|T>>>12),T=w+(A^P&(I^A))+S[9]+568446438&4294967295,w=I+(T<<5&4294967295|T>>>27),T=P+(I^A&(w^I))+S[14]+3275163606&4294967295,P=w+(T<<9&4294967295|T>>>23),T=A+(w^I&(P^w))+S[3]+4107603335&4294967295,A=P+(T<<14&4294967295|T>>>18),T=I+(P^w&(A^P))+S[8]+1163531501&4294967295,I=A+(T<<20&4294967295|T>>>12),T=w+(A^P&(I^A))+S[13]+2850285829&4294967295,w=I+(T<<5&4294967295|T>>>27),T=P+(I^A&(w^I))+S[2]+4243563512&4294967295,P=w+(T<<9&4294967295|T>>>23),T=A+(w^I&(P^w))+S[7]+1735328473&4294967295,A=P+(T<<14&4294967295|T>>>18),T=I+(P^w&(A^P))+S[12]+2368359562&4294967295,I=A+(T<<20&4294967295|T>>>12),T=w+(I^A^P)+S[5]+4294588738&4294967295,w=I+(T<<4&4294967295|T>>>28),T=P+(w^I^A)+S[8]+2272392833&4294967295,P=w+(T<<11&4294967295|T>>>21),T=A+(P^w^I)+S[11]+1839030562&4294967295,A=P+(T<<16&4294967295|T>>>16),T=I+(A^P^w)+S[14]+4259657740&4294967295,I=A+(T<<23&4294967295|T>>>9),T=w+(I^A^P)+S[1]+2763975236&4294967295,w=I+(T<<4&4294967295|T>>>28),T=P+(w^I^A)+S[4]+1272893353&4294967295,P=w+(T<<11&4294967295|T>>>21),T=A+(P^w^I)+S[7]+4139469664&4294967295,A=P+(T<<16&4294967295|T>>>16),T=I+(A^P^w)+S[10]+3200236656&4294967295,I=A+(T<<23&4294967295|T>>>9),T=w+(I^A^P)+S[13]+681279174&4294967295,w=I+(T<<4&4294967295|T>>>28),T=P+(w^I^A)+S[0]+3936430074&4294967295,P=w+(T<<11&4294967295|T>>>21),T=A+(P^w^I)+S[3]+3572445317&4294967295,A=P+(T<<16&4294967295|T>>>16),T=I+(A^P^w)+S[6]+76029189&4294967295,I=A+(T<<23&4294967295|T>>>9),T=w+(I^A^P)+S[9]+3654602809&4294967295,w=I+(T<<4&4294967295|T>>>28),T=P+(w^I^A)+S[12]+3873151461&4294967295,P=w+(T<<11&4294967295|T>>>21),T=A+(P^w^I)+S[15]+530742520&4294967295,A=P+(T<<16&4294967295|T>>>16),T=I+(A^P^w)+S[2]+3299628645&4294967295,I=A+(T<<23&4294967295|T>>>9),T=w+(A^(I|~P))+S[0]+4096336452&4294967295,w=I+(T<<6&4294967295|T>>>26),T=P+(I^(w|~A))+S[7]+1126891415&4294967295,P=w+(T<<10&4294967295|T>>>22),T=A+(w^(P|~I))+S[14]+2878612391&4294967295,A=P+(T<<15&4294967295|T>>>17),T=I+(P^(A|~w))+S[5]+4237533241&4294967295,I=A+(T<<21&4294967295|T>>>11),T=w+(A^(I|~P))+S[12]+1700485571&4294967295,w=I+(T<<6&4294967295|T>>>26),T=P+(I^(w|~A))+S[3]+2399980690&4294967295,P=w+(T<<10&4294967295|T>>>22),T=A+(w^(P|~I))+S[10]+4293915773&4294967295,A=P+(T<<15&4294967295|T>>>17),T=I+(P^(A|~w))+S[1]+2240044497&4294967295,I=A+(T<<21&4294967295|T>>>11),T=w+(A^(I|~P))+S[8]+1873313359&4294967295,w=I+(T<<6&4294967295|T>>>26),T=P+(I^(w|~A))+S[15]+4264355552&4294967295,P=w+(T<<10&4294967295|T>>>22),T=A+(w^(P|~I))+S[6]+2734768916&4294967295,A=P+(T<<15&4294967295|T>>>17),T=I+(P^(A|~w))+S[13]+1309151649&4294967295,I=A+(T<<21&4294967295|T>>>11),T=w+(A^(I|~P))+S[4]+4149444226&4294967295,w=I+(T<<6&4294967295|T>>>26),T=P+(I^(w|~A))+S[11]+3174756917&4294967295,P=w+(T<<10&4294967295|T>>>22),T=A+(w^(P|~I))+S[2]+718787259&4294967295,A=P+(T<<15&4294967295|T>>>17),T=I+(P^(A|~w))+S[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+P&4294967295}r.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var I=w-this.blockSize,S=this.B,A=this.h,P=0;P<w;){if(A==0)for(;P<=I;)i(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<w;)if(S[A++]=D.charCodeAt(P++),A==this.blockSize){i(this,S),A=0;break}}else for(;P<w;)if(S[A++]=D[P++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var I=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=I&255,I/=256;for(this.u(D),D=Array(16),w=I=0;4>w;++w)for(var S=0;32>S;S+=8)D[I++]=this.g[w]>>>S&255;return D};function s(D,w){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function o(D,w){this.h=w;for(var I=[],S=!0,A=D.length-1;0<=A;A--){var P=D[A]|0;S&&P==w||(I[A]=P,S=!1)}this.g=I}var a={};function c(D){return-128<=D&&128>D?s(D,function(w){return new o([w|0],0>w?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return _(l(-D));for(var w=[],I=1,S=0;D>=I;S++)w[S]=D/I|0,I*=4294967296;return new o(w,0)}function u(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return _(u(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(w,8)),S=h,A=0;A<D.length;A+=8){var P=Math.min(8,D.length-A),T=parseInt(D.substring(A,A+P),w);8>P?(P=l(Math.pow(w,P)),S=S.j(P).add(l(T))):(S=S.j(I),S=S.add(l(T)))}return S}var h=c(0),f=c(1),p=c(16777216);n=o.prototype,n.m=function(){if(v(this))return-_(this).m();for(var D=0,w=1,I=0;I<this.g.length;I++){var S=this.i(I);D+=(0<=S?S:4294967296+S)*w,w*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(m(this))return"0";if(v(this))return"-"+_(this).toString(D);for(var w=l(Math.pow(D,6)),I=this,S="";;){var A=j(I,w).g;I=C(I,A.j(w));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=A,m(I))return P+S;for(;6>P.length;)P="0"+P;S=P+S}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function m(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function v(D){return D.h==-1}n.l=function(D){return D=C(this,D),v(D)?-1:m(D)?0:1};function _(D){for(var w=D.g.length,I=[],S=0;S<w;S++)I[S]=~D.g[S];return new o(I,~D.h).add(f)}n.abs=function(){return v(this)?_(this):this},n.add=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],S=0,A=0;A<=w;A++){var P=S+(this.i(A)&65535)+(D.i(A)&65535),T=(P>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);S=T>>>16,P&=65535,T&=65535,I[A]=T<<16|P}return new o(I,I[I.length-1]&-2147483648?-1:0)};function C(D,w){return D.add(_(w))}n.j=function(D){if(m(this)||m(D))return h;if(v(this))return v(D)?_(this).j(_(D)):_(_(this).j(D));if(v(D))return _(this.j(_(D)));if(0>this.l(p)&&0>D.l(p))return l(this.m()*D.m());for(var w=this.g.length+D.g.length,I=[],S=0;S<2*w;S++)I[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<D.g.length;A++){var P=this.i(S)>>>16,T=this.i(S)&65535,gt=D.i(A)>>>16,Re=D.i(A)&65535;I[2*S+2*A]+=T*Re,x(I,2*S+2*A),I[2*S+2*A+1]+=P*Re,x(I,2*S+2*A+1),I[2*S+2*A+1]+=T*gt,x(I,2*S+2*A+1),I[2*S+2*A+2]+=P*gt,x(I,2*S+2*A+2)}for(S=0;S<w;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=w;S<2*w;S++)I[S]=0;return new o(I,0)};function x(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function N(D,w){this.g=D,this.h=w}function j(D,w){if(m(w))throw Error("division by zero");if(m(D))return new N(h,h);if(v(D))return w=j(_(D),w),new N(_(w.g),_(w.h));if(v(w))return w=j(D,_(w)),new N(_(w.g),w.h);if(30<D.g.length){if(v(D)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var I=f,S=w;0>=S.l(D);)I=L(I),S=L(S);var A=B(I,1),P=B(S,1);for(S=B(S,2),I=B(I,2);!m(S);){var T=P.add(S);0>=T.l(D)&&(A=A.add(I),P=T),S=B(S,1),I=B(I,1)}return w=C(D,A.j(w)),new N(A,w)}for(A=h;0<=D.l(w);){for(I=Math.max(1,Math.floor(D.m()/w.m())),S=Math.ceil(Math.log(I)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),P=l(I),T=P.j(w);v(T)||0<T.l(D);)I-=S,P=l(I),T=P.j(w);m(P)&&(P=f),A=A.add(P),D=C(D,T)}return new N(A,D)}n.A=function(D){return j(this,D).h},n.and=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],S=0;S<w;S++)I[S]=this.i(S)&D.i(S);return new o(I,this.h&D.h)},n.or=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],S=0;S<w;S++)I[S]=this.i(S)|D.i(S);return new o(I,this.h|D.h)},n.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],S=0;S<w;S++)I[S]=this.i(S)^D.i(S);return new o(I,this.h^D.h)};function L(D){for(var w=D.g.length+1,I=[],S=0;S<w;S++)I[S]=D.i(S)<<1|D.i(S-1)>>>31;return new o(I,D.h)}function B(D,w){var I=w>>5;w%=32;for(var S=D.g.length-I,A=[],P=0;P<S;P++)A[P]=0<w?D.i(P+I)>>>w|D.i(P+I+1)<<32-w:D.i(P+I);return new o(A,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xD=BF.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,ws=BF.Integer=o}).apply(typeof jF<"u"?jF:typeof self<"u"?self:typeof window<"u"?window:{});var uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Es={};var AD,BK,Sl,MD,hh,dy,RD,PD,kD;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,y){return d==Array.prototype||d==Object.prototype||(d[g]=y.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof uy=="object"&&uy];for(var g=0;g<d.length;++g){var y=d[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=t(this);function i(d,g){if(g)e:{var y=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var O=d[b];if(!(O in y))break e;y=y[O]}d=d[d.length-1],b=y[d],g=g(b),g!=b&&g!=null&&e(y,d,{configurable:!0,writable:!0,value:g})}}function s(d,g){d instanceof String&&(d+="");var y=0,b=!1,O={next:function(){if(!b&&y<d.length){var V=y++;return{value:g(V,d[V]),done:!1}}return b=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(d){return d||function(){return s(this,function(g,y){return y})}});var o=o||{},a=this||self;function c(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function l(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function u(d,g,y){return d.call.apply(d.bind,arguments)}function h(d,g,y){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,b),d.apply(g,O)}}return function(){return d.apply(g,arguments)}}function f(d,g,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,g){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function m(d,g){function y(){}y.prototype=g.prototype,d.aa=g.prototype,d.prototype=new y,d.prototype.constructor=d,d.Qb=function(b,O,V){for(var W=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)W[Ke-2]=arguments[Ke];return g.prototype[O].apply(b,W)}}function v(d){let g=d.length;if(0<g){let y=Array(g);for(let b=0;b<g;b++)y[b]=d[b];return y}return[]}function _(d,g){for(let y=1;y<arguments.length;y++){let b=arguments[y];if(c(b)){let O=d.length||0,V=b.length||0;d.length=O+V;for(let W=0;W<V;W++)d[O+W]=b[W]}else d.push(b)}}class C{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(d){return/^[\s\xa0]*$/.test(d)}function N(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var L=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function B(d,g,y){for(let b in d)g.call(y,d[b],b,d)}function D(d,g){for(let y in d)g.call(void 0,d[y],y,d)}function w(d){let g={};for(let y in d)g[y]=d[y];return g}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(d,g){let y,b;for(let O=1;O<arguments.length;O++){b=arguments[O];for(y in b)d[y]=b[y];for(let V=0;V<I.length;V++)y=I[V],Object.prototype.hasOwnProperty.call(b,y)&&(d[y]=b[y])}}function A(d){var g=1;d=d.split(":");let y=[];for(;0<g&&d.length;)y.push(d.shift()),g--;return d.length&&y.push(d.join(":")),y}function P(d){a.setTimeout(()=>{throw d},0)}function T(){var d=At;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class gt{constructor(){this.h=this.g=null}add(g,y){let b=Re.get();b.set(g,y),this.h?this.h.next=b:this.g=b,this.h=b}}var Re=new C(()=>new nt,d=>d.reset());class nt{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,nn=!1,At=new gt,Yi=()=>{let d=a.Promise.resolve(void 0);Ge=()=>{d.then(cc)}};var cc=()=>{for(var d;d=T();){try{d.h.call(d.g)}catch(y){P(y)}var g=Re;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}nn=!1};function Tn(){this.s=this.s,this.C=this.C}Tn.prototype.s=!1,Tn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _t(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var Qi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let y=()=>{};a.addEventListener("test",y,g),a.removeEventListener("test",y,g)}catch{}return d}();function Nr(d,g){if(_t.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var y=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(L){e:{try{j(g.nodeName);var O=!0;break e}catch{}O=!1}O||(g=null)}}else y=="mouseover"?g=d.fromElement:y=="mouseout"&&(g=d.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Xi[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Nr.aa.h.call(this)}}m(Nr,_t);var Xi={2:"touch",3:"pen",4:"mouse"};Nr.prototype.h=function(){Nr.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var pu="closure_listenable_"+(1e6*Math.random()|0),rU=0;function iU(d,g,y,b,O){this.listener=d,this.proxy=null,this.src=g,this.type=y,this.capture=!!b,this.ha=O,this.key=++rU,this.da=this.fa=!1}function Mf(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Rf(d){this.src=d,this.g={},this.h=0}Rf.prototype.add=function(d,g,y,b,O){var V=d.toString();d=this.g[V],d||(d=this.g[V]=[],this.h++);var W=V_(d,g,b,O);return-1<W?(g=d[W],y||(g.fa=!1)):(g=new iU(g,this.src,V,!!b,O),g.fa=y,d.push(g)),g};function L_(d,g){var y=g.type;if(y in d.g){var b=d.g[y],O=Array.prototype.indexOf.call(b,g,void 0),V;(V=0<=O)&&Array.prototype.splice.call(b,O,1),V&&(Mf(g),d.g[y].length==0&&(delete d.g[y],d.h--))}}function V_(d,g,y,b){for(var O=0;O<d.length;++O){var V=d[O];if(!V.da&&V.listener==g&&V.capture==!!y&&V.ha==b)return O}return-1}var j_="closure_lm_"+(1e6*Math.random()|0),B_={};function _x(d,g,y,b,O){if(b&&b.once)return wx(d,g,y,b,O);if(Array.isArray(g)){for(var V=0;V<g.length;V++)_x(d,g[V],y,b,O);return null}return y=z_(y),d&&d[pu]?d.K(g,y,l(b)?!!b.capture:!!b,O):bx(d,g,y,!1,b,O)}function bx(d,g,y,b,O,V){if(!g)throw Error("Invalid event type");var W=l(O)?!!O.capture:!!O,Ke=$_(d);if(Ke||(d[j_]=Ke=new Rf(d)),y=Ke.add(g,y,b,W,V),y.proxy)return y;if(b=sU(),y.proxy=b,b.src=d,b.listener=y,d.addEventListener)Qi||(O=W),O===void 0&&(O=!1),d.addEventListener(g.toString(),b,O);else if(d.attachEvent)d.attachEvent(Ix(g.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function sU(){function d(y){return g.call(d.src,d.listener,y)}let g=oU;return d}function wx(d,g,y,b,O){if(Array.isArray(g)){for(var V=0;V<g.length;V++)wx(d,g[V],y,b,O);return null}return y=z_(y),d&&d[pu]?d.L(g,y,l(b)?!!b.capture:!!b,O):bx(d,g,y,!0,b,O)}function Ex(d,g,y,b,O){if(Array.isArray(g))for(var V=0;V<g.length;V++)Ex(d,g[V],y,b,O);else b=l(b)?!!b.capture:!!b,y=z_(y),d&&d[pu]?(d=d.i,g=String(g).toString(),g in d.g&&(V=d.g[g],y=V_(V,y,b,O),-1<y&&(Mf(V[y]),Array.prototype.splice.call(V,y,1),V.length==0&&(delete d.g[g],d.h--)))):d&&(d=$_(d))&&(g=d.g[g.toString()],d=-1,g&&(d=V_(g,y,b,O)),(y=-1<d?g[d]:null)&&U_(y))}function U_(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[pu])L_(g.i,d);else{var y=d.type,b=d.proxy;g.removeEventListener?g.removeEventListener(y,b,d.capture):g.detachEvent?g.detachEvent(Ix(y),b):g.addListener&&g.removeListener&&g.removeListener(b),(y=$_(g))?(L_(y,d),y.h==0&&(y.src=null,g[j_]=null)):Mf(d)}}}function Ix(d){return d in B_?B_[d]:B_[d]="on"+d}function oU(d,g){if(d.da)d=!0;else{g=new Nr(g,this);var y=d.listener,b=d.ha||d.src;d.fa&&U_(d),d=y.call(b,g)}return d}function $_(d){return d=d[j_],d instanceof Rf?d:null}var H_="__closure_events_fn_"+(1e9*Math.random()>>>0);function z_(d){return typeof d=="function"?d:(d[H_]||(d[H_]=function(g){return d.handleEvent(g)}),d[H_])}function gn(){Tn.call(this),this.i=new Rf(this),this.M=this,this.F=null}m(gn,Tn),gn.prototype[pu]=!0,gn.prototype.removeEventListener=function(d,g,y,b){Ex(this,d,g,y,b)};function Sn(d,g){var y,b=d.F;if(b)for(y=[];b;b=b.F)y.push(b);if(d=d.M,b=g.type||g,typeof g=="string")g=new _t(g,d);else if(g instanceof _t)g.target=g.target||d;else{var O=g;g=new _t(b,d),S(g,O)}if(O=!0,y)for(var V=y.length-1;0<=V;V--){var W=g.g=y[V];O=Pf(W,b,!0,g)&&O}if(W=g.g=d,O=Pf(W,b,!0,g)&&O,O=Pf(W,b,!1,g)&&O,y)for(V=0;V<y.length;V++)W=g.g=y[V],O=Pf(W,b,!1,g)&&O}gn.prototype.N=function(){if(gn.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var y=d.g[g],b=0;b<y.length;b++)Mf(y[b]);delete d.g[g],d.h--}}this.F=null},gn.prototype.K=function(d,g,y,b){return this.i.add(String(d),g,!1,y,b)},gn.prototype.L=function(d,g,y,b){return this.i.add(String(d),g,!0,y,b)};function Pf(d,g,y,b){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var O=!0,V=0;V<g.length;++V){var W=g[V];if(W&&!W.da&&W.capture==y){var Ke=W.listener,rn=W.ha||W.src;W.fa&&L_(d.i,W),O=Ke.call(rn,b)!==!1&&O}}return O&&!b.defaultPrevented}function Dx(d,g,y){if(typeof d=="function")y&&(d=f(d,y));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Cx(d){d.g=Dx(()=>{d.g=null,d.i&&(d.i=!1,Cx(d))},d.l);let g=d.h;d.h=null,d.m.apply(null,g)}class aU extends Tn{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Cx(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gu(d){Tn.call(this),this.h=d,this.g={}}m(gu,Tn);var Tx=[];function Sx(d){B(d.g,function(g,y){this.g.hasOwnProperty(y)&&U_(g)},d),d.g={}}gu.prototype.N=function(){gu.aa.N.call(this),Sx(this)},gu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var W_=a.JSON.stringify,cU=a.JSON.parse,lU=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function q_(){}q_.prototype.h=null;function xx(d){return d.h||(d.h=d.i())}function Ax(){}var mu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function G_(){_t.call(this,"d")}m(G_,_t);function K_(){_t.call(this,"c")}m(K_,_t);var Wo={},Mx=null;function kf(){return Mx=Mx||new gn}Wo.La="serverreachability";function Rx(d){_t.call(this,Wo.La,d)}m(Rx,_t);function yu(d){let g=kf();Sn(g,new Rx(g))}Wo.STAT_EVENT="statevent";function Px(d,g){_t.call(this,Wo.STAT_EVENT,d),this.stat=g}m(Px,_t);function xn(d){let g=kf();Sn(g,new Px(g,d))}Wo.Ma="timingevent";function kx(d,g){_t.call(this,Wo.Ma,d),this.size=g}m(kx,_t);function vu(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function _u(){this.g=!0}_u.prototype.xa=function(){this.g=!1};function uU(d,g,y,b,O,V){d.info(function(){if(d.g)if(V)for(var W="",Ke=V.split("&"),rn=0;rn<Ke.length;rn++){var Fe=Ke[rn].split("=");if(1<Fe.length){var mn=Fe[0];Fe=Fe[1];var yn=mn.split("_");W=2<=yn.length&&yn[1]=="type"?W+(mn+"="+Fe+"&"):W+(mn+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+b+") [attempt "+O+"]: "+g+`
`+y+`
`+W})}function dU(d,g,y,b,O,V,W){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+O+"]: "+g+`
`+y+`
`+V+" "+W})}function lc(d,g,y,b){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+fU(d,y)+(b?" "+b:"")})}function hU(d,g){d.info(function(){return"TIMEOUT: "+g})}_u.prototype.info=function(){};function fU(d,g){if(!d.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(d=0;d<y.length;d++)if(Array.isArray(y[d])){var b=y[d];if(!(2>b.length)){var O=b[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<O.length;W++)O[W]=""}}}}return W_(y)}catch{return g}}var Nf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Y_;function Of(){}m(Of,q_),Of.prototype.g=function(){return new XMLHttpRequest},Of.prototype.i=function(){return{}},Y_=new Of;function js(d,g,y,b){this.j=d,this.i=g,this.l=y,this.R=b||1,this.U=new gu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ox}function Ox(){this.i=null,this.g="",this.h=!1}var Fx={},Q_={};function X_(d,g,y){d.L=1,d.v=jf(Zi(g)),d.m=y,d.P=!0,Lx(d,null)}function Lx(d,g){d.F=Date.now(),Ff(d),d.A=Zi(d.v);var y=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),Xx(y.i,"t",b),d.C=0,y=d.j.J,d.h=new Ox,d.g=gA(d.j,y?g:null,!d.m),0<d.O&&(d.M=new aU(f(d.Y,d,d.g),d.O)),g=d.U,y=d.g,b=d.ca;var O="readystatechange";Array.isArray(O)||(O&&(Tx[0]=O.toString()),O=Tx);for(var V=0;V<O.length;V++){var W=_x(y,O[V],b||g.handleEvent,!1,g.h||g);if(!W)break;g.g[W.key]=W}g=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),yu(),uU(d.i,d.u,d.A,d.l,d.R,d.m)}js.prototype.ca=function(d){d=d.target;let g=this.M;g&&Ji(d)==3?g.j():this.Y(d)},js.prototype.Y=function(d){try{if(d==this.g)e:{let yn=Ji(this.g);var g=this.g.Ba();let hc=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||iA(this.g)))){this.J||yn!=4||g==7||(g==8||0>=hc?yu(3):yu(2)),Z_(this);var y=this.g.Z();this.X=y;t:if(Vx(this)){var b=iA(this.g);d="";var O=b.length,V=Ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qo(this),bu(this);var W="";break t}this.h.i=new a.TextDecoder}for(g=0;g<O;g++)this.h.h=!0,d+=this.h.i.decode(b[g],{stream:!(V&&g==O-1)});b.length=0,this.h.g+=d,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,dU(this.i,this.u,this.A,this.l,this.R,yn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,rn=this.g;if((Ke=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Ke)){var Fe=Ke;break t}}Fe=null}if(y=Fe)lc(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,J_(this,y);else{this.o=!1,this.s=3,xn(12),qo(this),bu(this);break e}}if(this.P){y=!0;let Or;for(;!this.J&&this.C<W.length;)if(Or=pU(this,W),Or==Q_){yn==4&&(this.s=4,xn(14),y=!1),lc(this.i,this.l,null,"[Incomplete Response]");break}else if(Or==Fx){this.s=4,xn(15),lc(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else lc(this.i,this.l,Or,null),J_(this,Or);if(Vx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||W.length!=0||this.h.h||(this.s=1,xn(16),y=!1),this.o=this.o&&y,!y)lc(this.i,this.l,W,"[Invalid Chunked Response]"),qo(this),bu(this);else if(0<W.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),sb(mn),mn.M=!0,xn(11))}}else lc(this.i,this.l,W,null),J_(this,W);yn==4&&qo(this),this.o&&!this.J&&(yn==4?dA(this.j,this):(this.o=!1,Ff(this)))}else RU(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),qo(this),bu(this)}}}catch{}finally{}};function Vx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function pU(d,g){var y=d.C,b=g.indexOf(`
`,y);return b==-1?Q_:(y=Number(g.substring(y,b)),isNaN(y)?Fx:(b+=1,b+y>g.length?Q_:(g=g.slice(b,b+y),d.C=b+y,g)))}js.prototype.cancel=function(){this.J=!0,qo(this)};function Ff(d){d.S=Date.now()+d.I,jx(d,d.I)}function jx(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=vu(f(d.ba,d),g)}function Z_(d){d.B&&(a.clearTimeout(d.B),d.B=null)}js.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(hU(this.i,this.A),this.L!=2&&(yu(),xn(17)),qo(this),this.s=2,bu(this)):jx(this,this.S-d)};function bu(d){d.j.G==0||d.J||dA(d.j,d)}function qo(d){Z_(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Sx(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function J_(d,g){try{var y=d.j;if(y.G!=0&&(y.g==d||eb(y.h,d))){if(!d.K&&eb(y.h,d)&&y.G==3){try{var b=y.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var O=b;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<d.F)zf(y),$f(y);else break e;ib(y),xn(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=vu(f(y.Za,y),6e3));if(1>=$x(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ko(y,11)}else if((d.K||y.g==d)&&zf(y),!x(g))for(O=y.Da.g.parse(g),g=0;g<O.length;g++){let Fe=O[g];if(y.T=Fe[0],Fe=Fe[1],y.G==2)if(Fe[0]=="c"){y.K=Fe[1],y.ia=Fe[2];let mn=Fe[3];mn!=null&&(y.la=mn,y.j.info("VER="+y.la));let yn=Fe[4];yn!=null&&(y.Aa=yn,y.j.info("SVER="+y.Aa));let hc=Fe[5];hc!=null&&typeof hc=="number"&&0<hc&&(b=1.5*hc,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;let Or=d.g;if(Or){let qf=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qf){var V=b.h;V.g||qf.indexOf("spdy")==-1&&qf.indexOf("quic")==-1&&qf.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(tb(V,V.h),V.h=null))}if(b.D){let ob=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;ob&&(b.ya=ob,st(b.I,b.D,ob))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-d.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var W=d;if(b.qa=pA(b,b.J?b.ia:null,b.W),W.K){Hx(b.h,W);var Ke=W,rn=b.L;rn&&(Ke.I=rn),Ke.B&&(Z_(Ke),Ff(Ke)),b.g=W}else lA(b);0<y.i.length&&Hf(y)}else Fe[0]!="stop"&&Fe[0]!="close"||Ko(y,7);else y.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ko(y,7):rb(y):Fe[0]!="noop"&&y.l&&y.l.ta(Fe),y.v=0)}}yu(4)}catch{}}var gU=class{constructor(d,g){this.g=d,this.map=g}};function Bx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ux(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function $x(d){return d.h?1:d.g?d.g.size:0}function eb(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function tb(d,g){d.g?d.g.add(g):d.h=g}function Hx(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Bx.prototype.cancel=function(){if(this.i=zx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function zx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(let y of d.g.values())g=g.concat(y.D);return g}return v(d.i)}function mU(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var g=[],y=d.length,b=0;b<y;b++)g.push(d[b]);return g}g=[],y=0;for(b in d)g[y++]=d[b];return g}function yU(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var g=[];d=d.length;for(var y=0;y<d;y++)g.push(y);return g}g=[],y=0;for(let b in d)g[y++]=b;return g}}}function Wx(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var y=yU(d),b=mU(d),O=b.length,V=0;V<O;V++)g.call(void 0,b[V],y&&y[V],d)}var qx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vU(d,g){if(d){d=d.split("&");for(var y=0;y<d.length;y++){var b=d[y].indexOf("="),O=null;if(0<=b){var V=d[y].substring(0,b);O=d[y].substring(b+1)}else V=d[y];g(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Go(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Go){this.h=d.h,Lf(this,d.j),this.o=d.o,this.g=d.g,Vf(this,d.s),this.l=d.l;var g=d.i,y=new Iu;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Gx(this,y),this.m=d.m}else d&&(g=String(d).match(qx))?(this.h=!1,Lf(this,g[1]||"",!0),this.o=wu(g[2]||""),this.g=wu(g[3]||"",!0),Vf(this,g[4]),this.l=wu(g[5]||"",!0),Gx(this,g[6]||"",!0),this.m=wu(g[7]||"")):(this.h=!1,this.i=new Iu(null,this.h))}Go.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Eu(g,Kx,!0),":");var y=this.g;return(y||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Eu(g,Kx,!0),"@"),d.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&d.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&d.push("/"),d.push(Eu(y,y.charAt(0)=="/"?wU:bU,!0))),(y=this.i.toString())&&d.push("?",y),(y=this.m)&&d.push("#",Eu(y,IU)),d.join("")};function Zi(d){return new Go(d)}function Lf(d,g,y){d.j=y?wu(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Vf(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Gx(d,g,y){g instanceof Iu?(d.i=g,DU(d.i,d.h)):(y||(g=Eu(g,EU)),d.i=new Iu(g,d.h))}function st(d,g,y){d.i.set(g,y)}function jf(d){return st(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function wu(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Eu(d,g,y){return typeof d=="string"?(d=encodeURI(d).replace(g,_U),y&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _U(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Kx=/[#\/\?@]/g,bU=/[#\?:]/g,wU=/[#\?]/g,EU=/[#\?@]/g,IU=/#/g;function Iu(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Bs(d){d.g||(d.g=new Map,d.h=0,d.i&&vU(d.i,function(g,y){d.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}n=Iu.prototype,n.add=function(d,g){Bs(this),this.i=null,d=uc(this,d);var y=this.g.get(d);return y||this.g.set(d,y=[]),y.push(g),this.h+=1,this};function Yx(d,g){Bs(d),g=uc(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Qx(d,g){return Bs(d),g=uc(d,g),d.g.has(g)}n.forEach=function(d,g){Bs(this),this.g.forEach(function(y,b){y.forEach(function(O){d.call(g,O,b,this)},this)},this)},n.na=function(){Bs(this);let d=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let b=0;b<g.length;b++){let O=d[b];for(let V=0;V<O.length;V++)y.push(g[b])}return y},n.V=function(d){Bs(this);let g=[];if(typeof d=="string")Qx(this,d)&&(g=g.concat(this.g.get(uc(this,d))));else{d=Array.from(this.g.values());for(let y=0;y<d.length;y++)g=g.concat(d[y])}return g},n.set=function(d,g){return Bs(this),this.i=null,d=uc(this,d),Qx(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},n.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function Xx(d,g,y){Yx(d,g),0<y.length&&(d.i=null,d.g.set(uc(d,g),v(y)),d.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var b=g[y];let V=encodeURIComponent(String(b)),W=this.V(b);for(b=0;b<W.length;b++){var O=V;W[b]!==""&&(O+="="+encodeURIComponent(String(W[b]))),d.push(O)}}return this.i=d.join("&")};function uc(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function DU(d,g){g&&!d.j&&(Bs(d),d.i=null,d.g.forEach(function(y,b){var O=b.toLowerCase();b!=O&&(Yx(this,b),Xx(this,O,y))},d)),d.j=g}function CU(d,g){let y=new _u;if(a.Image){let b=new Image;b.onload=p(Us,y,"TestLoadImage: loaded",!0,g,b),b.onerror=p(Us,y,"TestLoadImage: error",!1,g,b),b.onabort=p(Us,y,"TestLoadImage: abort",!1,g,b),b.ontimeout=p(Us,y,"TestLoadImage: timeout",!1,g,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else g(!1)}function TU(d,g){let y=new _u,b=new AbortController,O=setTimeout(()=>{b.abort(),Us(y,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:b.signal}).then(V=>{clearTimeout(O),V.ok?Us(y,"TestPingServer: ok",!0,g):Us(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(O),Us(y,"TestPingServer: error",!1,g)})}function Us(d,g,y,b,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),b(y)}catch{}}function SU(){this.g=new lU}function xU(d,g,y){let b=y||"";try{Wx(d,function(O,V){let W=O;l(O)&&(W=W_(O)),g.push(b+V+"="+encodeURIComponent(W))})}catch(O){throw g.push(b+"type="+encodeURIComponent("_badmap")),O}}function Du(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Du,q_),Du.prototype.g=function(){return new Bf(this.l,this.j)},Du.prototype.i=function(d){return function(){return d}}({});function Bf(d,g){gn.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Bf,gn),n=Bf.prototype,n.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Tu(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cu(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zx(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zx(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Cu(this):Tu(this),this.readyState==3&&Zx(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Cu(this))},n.Qa=function(d){this.g&&(this.response=d,Cu(this))},n.ga=function(){this.g&&Cu(this)};function Cu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Tu(d)}n.setRequestHeader=function(d,g){this.u.append(d,g)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,d.push(y[0]+": "+y[1]),y=g.next();return d.join(`\r
`)};function Tu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Jx(d){let g="";return B(d,function(y,b){g+=b,g+=":",g+=y,g+=`\r
`}),g}function nb(d,g,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=Jx(y),typeof d=="string"?y!=null&&encodeURIComponent(String(y)):st(d,g,y))}function bt(d){gn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(bt,gn);var AU=/^https?$/i,MU=["POST","PUT"];n=bt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,g,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Y_.g(),this.v=this.o?xx(this.o):xx(Y_),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(V){eA(this,V);return}if(d=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var O in b)y.set(O,b[O]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let V of b.keys())y.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),O=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(MU,g,void 0))||b||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[V,W]of y)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rA(this),this.u=!0,this.g.send(d),this.u=!1}catch(V){eA(this,V)}};function eA(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,tA(d),Uf(d)}function tA(d){d.A||(d.A=!0,Sn(d,"complete"),Sn(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Sn(this,"complete"),Sn(this,"abort"),Uf(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uf(this,!0)),bt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?nA(this):this.bb())},n.bb=function(){nA(this)};function nA(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ji(d)!=4||d.Z()!=2)){if(d.u&&Ji(d)==4)Dx(d.Ea,0,d);else if(Sn(d,"readystatechange"),Ji(d)==4){d.h=!1;try{let W=d.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var b;if(b=W===0){var O=String(d.D).match(qx)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),b=!AU.test(O?O.toLowerCase():"")}y=b}if(y)Sn(d,"complete"),Sn(d,"success");else{d.m=6;try{var V=2<Ji(d)?d.g.statusText:""}catch{V=""}d.l=V+" ["+d.Z()+"]",tA(d)}}finally{Uf(d)}}}}function Uf(d,g){if(d.g){rA(d);let y=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Sn(d,"ready");try{y.onreadystatechange=b}catch{}}}function rA(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Ji(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),cU(g)}};function iA(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function RU(d){let g={};d=(d.g&&2<=Ji(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if(x(d[b]))continue;var y=A(d[b]);let O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();let V=g[O]||[];g[O]=V,V.push(y)}D(g,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Su(d,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[d]||g}function sA(d){this.Aa=0,this.i=[],this.j=new _u,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Su("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Su("baseRetryDelayMs",5e3,d),this.cb=Su("retryDelaySeedMs",1e4,d),this.Wa=Su("forwardChannelMaxRetries",2,d),this.wa=Su("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Bx(d&&d.concurrentRequestLimit),this.Da=new SU,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sA.prototype,n.la=8,n.G=1,n.connect=function(d,g,y,b){xn(0),this.W=d,this.H=g||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=pA(this,null,this.W),Hf(this)};function rb(d){if(oA(d),d.G==3){var g=d.U++,y=Zi(d.I);if(st(y,"SID",d.K),st(y,"RID",g),st(y,"TYPE","terminate"),xu(d,y),g=new js(d,d.j,g),g.L=2,g.v=jf(Zi(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=g.v,y=!0),y||(g.g=gA(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ff(g)}fA(d)}function $f(d){d.g&&(sb(d),d.g.cancel(),d.g=null)}function oA(d){$f(d),d.u&&(a.clearTimeout(d.u),d.u=null),zf(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Hf(d){if(!Ux(d.h)&&!d.s){d.s=!0;var g=d.Ga;Ge||Yi(),nn||(Ge(),nn=!0),At.add(g,d),d.B=0}}function PU(d,g){return $x(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=vu(f(d.Ga,d,g),hA(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let O=new js(this,this.j,d),V=this.o;if(this.S&&(V?(V=w(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=cA(this,O,g),y=Zi(this.I),st(y,"RID",d),st(y,"CVER",22),this.D&&st(y,"X-HTTP-Session-Id",this.D),xu(this,y),V&&(this.O?g="headers="+encodeURIComponent(String(Jx(V)))+"&"+g:this.m&&nb(y,this.m,V)),tb(this.h,O),this.Ua&&st(y,"TYPE","init"),this.P?(st(y,"$req",g),st(y,"SID","null"),O.T=!0,X_(O,y,null)):X_(O,y,g),this.G=2}}else this.G==3&&(d?aA(this,d):this.i.length==0||Ux(this.h)||aA(this))};function aA(d,g){var y;g?y=g.l:y=d.U++;let b=Zi(d.I);st(b,"SID",d.K),st(b,"RID",y),st(b,"AID",d.T),xu(d,b),d.m&&d.o&&nb(b,d.m,d.o),y=new js(d,d.j,y,d.B+1),d.m===null&&(y.H=d.o),g&&(d.i=g.D.concat(d.i)),g=cA(d,y,1e3),y.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),tb(d.h,y),X_(y,b,g)}function xu(d,g){d.H&&B(d.H,function(y,b){st(g,b,y)}),d.l&&Wx({},function(y,b){st(g,b,y)})}function cA(d,g,y){y=Math.min(d.i.length,y);var b=d.l?f(d.l.Na,d.l,d):null;e:{var O=d.i;let V=-1;for(;;){let W=["count="+y];V==-1?0<y?(V=O[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let Ke=!0;for(let rn=0;rn<y;rn++){let Fe=O[rn].g,mn=O[rn].map;if(Fe-=V,0>Fe)V=Math.max(0,O[rn].g-100),Ke=!1;else try{xU(mn,W,"req"+Fe+"_")}catch{b&&b(mn)}}if(Ke){b=W.join("&");break e}}}return d=d.i.splice(0,y),g.D=d,b}function lA(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;Ge||Yi(),nn||(Ge(),nn=!0),At.add(g,d),d.v=0}}function ib(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=vu(f(d.Fa,d),hA(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,uA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=vu(f(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),$f(this),uA(this))};function sb(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function uA(d){d.g=new js(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=Zi(d.qa);st(g,"RID","rpc"),st(g,"SID",d.K),st(g,"AID",d.T),st(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&st(g,"TO",d.ja),st(g,"TYPE","xmlhttp"),xu(d,g),d.m&&d.o&&nb(g,d.m,d.o),d.L&&(d.g.I=d.L);var y=d.g;d=d.ia,y.L=1,y.v=jf(Zi(g)),y.m=null,y.P=!0,Lx(y,d)}n.Za=function(){this.C!=null&&(this.C=null,$f(this),ib(this),xn(19))};function zf(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function dA(d,g){var y=null;if(d.g==g){zf(d),sb(d),d.g=null;var b=2}else if(eb(d.h,g))y=g.D,Hx(d.h,g),b=1;else return;if(d.G!=0){if(g.o)if(b==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var O=d.B;b=kf(),Sn(b,new kx(b,y)),Hf(d)}else lA(d);else if(O=g.s,O==3||O==0&&0<g.X||!(b==1&&PU(d,g)||b==2&&ib(d)))switch(y&&0<y.length&&(g=d.h,g.i=g.i.concat(y)),O){case 1:Ko(d,5);break;case 4:Ko(d,10);break;case 3:Ko(d,6);break;default:Ko(d,2)}}}function hA(d,g){let y=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(y*=2),y*g}function Ko(d,g){if(d.j.info("Error code "+g),g==2){var y=f(d.fb,d),b=d.Xa;let O=!b;b=new Go(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lf(b,"https"),jf(b),O?CU(b.toString(),y):TU(b.toString(),y)}else xn(2);d.G=0,d.l&&d.l.sa(g),fA(d),oA(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function fA(d){if(d.G=0,d.ka=[],d.l){let g=zx(d.h);(g.length!=0||d.i.length!=0)&&(_(d.ka,g),_(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function pA(d,g,y){var b=y instanceof Go?Zi(y):new Go(y);if(b.g!="")g&&(b.g=g+"."+b.g),Vf(b,b.s);else{var O=a.location;b=O.protocol,g=g?g+"."+O.hostname:O.hostname,O=+O.port;var V=new Go(null);b&&Lf(V,b),g&&(V.g=g),O&&Vf(V,O),y&&(V.l=y),b=V}return y=d.D,g=d.ya,y&&g&&st(b,y,g),st(b,"VER",d.la),xu(d,b),b}function gA(d,g,y){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new bt(new Du({eb:y})):new bt(d.pa),g.Ha(d.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mA(){}n=mA.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wf(){}Wf.prototype.g=function(d,g){return new er(d,g)};function er(d,g){gn.call(this),this.g=new sA(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!x(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new dc(this)}m(er,gn),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){rb(this.g)},er.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var y={};y.__data__=d,d=y}else this.u&&(y={},y.__data__=W_(d),d=y);g.i.push(new gU(g.Ya++,d)),g.G==3&&Hf(g)},er.prototype.N=function(){this.g.l=null,delete this.j,rb(this.g),delete this.g,er.aa.N.call(this)};function yA(d){G_.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(let y in g){d=y;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}m(yA,G_);function vA(){K_.call(this),this.status=1}m(vA,K_);function dc(d){this.g=d}m(dc,mA),dc.prototype.ua=function(){Sn(this.g,"a")},dc.prototype.ta=function(d){Sn(this.g,new yA(d))},dc.prototype.sa=function(d){Sn(this.g,new vA)},dc.prototype.ra=function(){Sn(this.g,"b")},Wf.prototype.createWebChannel=Wf.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,kD=Es.createWebChannelTransport=function(){return new Wf},PD=Es.getStatEventTarget=function(){return kf()},RD=Es.Event=Wo,dy=Es.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nf.NO_ERROR=0,Nf.TIMEOUT=8,Nf.HTTP_ERROR=6,hh=Es.ErrorCode=Nf,Nx.COMPLETE="complete",MD=Es.EventType=Nx,Ax.EventType=mu,mu.OPEN="a",mu.CLOSE="b",mu.ERROR="c",mu.MESSAGE="d",gn.prototype.listen=gn.prototype.K,Sl=Es.WebChannel=Ax,BK=Es.FetchXmlHttpFactory=Du,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,AD=Es.XhrIo=bt}).apply(typeof uy<"u"?uy:typeof self<"u"?self:typeof window<"u"?window:{});var UF="@firebase/firestore",$F="4.7.11";var Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");var Zl="11.6.1";var La=new ki("@firebase/firestore");function xl(){return La.logLevel}function X(n,...e){if(La.logLevel<=Se.DEBUG){let t=e.map(ET);La.debug(`Firestore (${Zl}): ${n}`,...t)}}function Is(n,...e){if(La.logLevel<=Se.ERROR){let t=e.map(ET);La.error(`Firestore (${Zl}): ${n}`,...t)}}function Ol(n,...e){if(La.logLevel<=Se.WARN){let t=e.map(ET);La.warn(`Firestore (${Zl}): ${n}`,...t)}}function ET(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,NL(n,r,t)}function NL(n,e,t){let r=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Is(r),new Error(r)}function Ne(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||NL(e,i,r)}function se(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Mr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var vy=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},LD=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}},VD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},jD=class{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ne(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mr)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new vy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}},BD=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},UD=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new BD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_y=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$D=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ne(this.o===void 0,3512);let r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _y(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _y(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function UK(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function OL(){return new TextEncoder}var by=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=UK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Ie(n,e){return n<e?-1:n>e?1:0}function HD(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ie(r,i);{let s=OL(),o=$K(s.encode(HF(n,t)),s.encode(HF(e,t)));return o!==0?o:Ie(r,i)}}t+=r>65535?2:1}return Ie(n.length,e.length)}function HF(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function $K(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ie(n[t],e[t]);return Ie(n.length,e.length)}function Fl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var zF=-62135596800,WF=1e6,Be=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*WF);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zF)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WF}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-zF;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Be(0,0))}static max(){return new n(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var qF="__name__",wy=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):HD(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}},ct=class n extends wy{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},HK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ur=class n extends wy{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return HK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qF}static keyField(){return new n([qF])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var te=class n{constructor(e){this.path=e}static fromPath(e){return new n(ct.fromString(e))}static fromName(e){return new n(ct.fromString(e).popFirst(5))}static empty(){return new n(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ct(e.slice()))}};var bh=-1,zD=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};zD.UNKNOWN_ID=-1;function zK(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Be(t+1,0):new Be(t,r));return new Va(i,te.empty(),e)}function WK(n){return new Va(n.readTime,n.key,bh)}var Va=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ie.min(),te.empty(),bh)}static max(){return new n(ie.max(),te.empty(),bh)}};function qK(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=te.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}var GK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",WD=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Jl(n){return E(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==GK)throw n;X("LocalStore","Unexpectedly lost primary lease")})}var H=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function KK(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function eu(n){return n.name==="IndexedDbTransactionError"}var IT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),DT=-1;function Fh(n){return n==null}function wh(n){return n===0&&1/n==-1/0}function YK(n){return typeof n=="number"&&Number.isInteger(n)&&!wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var FL="";function QK(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GF(e)),e=XK(n.get(t),e);return GF(e)}function XK(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case FL:t+="";break;default:t+=s}}return t}function GF(n){return n+FL+""}var ZK="remoteDocuments",LL="owner";var VL="mutationQueues";var jL="mutations";var BL="documentMutations",JK="remoteDocumentsV14";var UL="remoteDocumentGlobal";var $L="targets";var HL="targetDocuments";var zL="targetGlobal",WL="collectionParents";var qL="clientMetadata";var GL="bundles";var KL="namedQueries";var eY="indexConfiguration";var tY="indexState";var nY="indexEntries";var YL="documentOverlays";var rY="globals";var iY=[VL,jL,BL,ZK,$L,LL,zL,HL,qL,UL,WL,GL,KL],dme=[...iY,YL],sY=[VL,jL,BL,JK,$L,LL,zL,HL,qL,UL,WL,GL,KL,YL],oY=sY,aY=[...oY,eY,tY,nY];var hme=[...aY,rY];function KF(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QL(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var It=class n{constructor(e,t){this.comparator=e,this.root=t||Li.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}},Pl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Li=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}};Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1;Li.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Li(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var en=class n{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ey(this.data.getIterator())}getIteratorFrom(e){return new Ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ey=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ar=class n{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new n([])}unionWith(e){let t=new en(ur.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Iy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Dn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Iy("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Dn.EMPTY_BYTE_STRING=new Dn("");var cY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(Ne(!!n,39018),typeof n=="string"){let e=0,t=cY.exec(n);if(Ne(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?Dn.fromBase64String(n):Dn.fromUint8Array(n)}var XL="server_timestamp",ZL="__type__",JL="__previous_value__",eV="__local_write_time__";function CT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZL])===null||t===void 0?void 0:t.stringValue)===XL}function ev(n){let e=n.mapValue.fields[JL];return CT(e)?ev(e):e}function Eh(n){let e=Ds(n.mapValue.fields[eV].timestampValue);return new Be(e.seconds,e.nanos)}var qD=class{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Dy="(default)",Cy=class n{constructor(e,t){this.projectId=e,this.database=t||Dy}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Dy}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var TT="__type__",tV="__max__",hy={mapValue:{fields:{__type__:{stringValue:tV}}}},ST="__vector__",Ll="value";function xo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?CT(n)?4:rV(n)?9007199254740991:nV(n)?10:11:ee(28295,{value:n})}function ji(n,e){if(n===e)return!0;let t=xo(n);if(t!==xo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Eh(n).isEqual(Eh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ds(i.timestampValue),a=Ds(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Cs(i.bytesValue).isEqual(Cs(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ft(i.geoPointValue.latitude)===ft(s.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ft(i.integerValue)===ft(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ft(i.doubleValue),a=ft(s.doubleValue);return o===a?wh(o)===wh(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Fl(n.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(KF(o)!==KF(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ji(o[c],a[c])))return!1;return!0}(n,e);default:return ee(52216,{left:n})}}function Ih(n,e){return(n.values||[]).find(t=>ji(t,e))!==void 0}function Vl(n,e){if(n===e)return 0;let t=xo(n),r=xo(e);if(t!==r)return Ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ft(s.integerValue||s.doubleValue),c=ft(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return YF(n.timestampValue,e.timestampValue);case 4:return YF(Eh(n),Eh(e));case 5:return HD(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Cs(s),c=Cs(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Ie(a[l],c[l]);if(u!==0)return u}return Ie(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ie(ft(s.latitude),ft(o.latitude));return a!==0?a:Ie(ft(s.longitude),ft(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return QF(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,u;let h=s.fields||{},f=o.fields||{},p=(a=h[Ll])===null||a===void 0?void 0:a.arrayValue,m=(c=f[Ll])===null||c===void 0?void 0:c.arrayValue,v=Ie(((l=p?.values)===null||l===void 0?void 0:l.length)||0,((u=m?.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:QF(p,m)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===hy.mapValue&&o===hy.mapValue)return 0;if(s===hy.mapValue)return 1;if(o===hy.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){let f=HD(c[h],u[h]);if(f!==0)return f;let p=Vl(a[c[h]],l[u[h]]);if(p!==0)return p}return Ie(c.length,u.length)}(n.mapValue,e.mapValue);default:throw ee(23264,{Pe:t})}}function YF(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);let t=Ds(n),r=Ds(e),i=Ie(t.seconds,r.seconds);return i!==0?i:Ie(t.nanos,r.nanos)}function QF(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Vl(t[i],r[i]);if(s)return s}return Ie(t.length,r.length)}function jl(n){return GD(n)}function GD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ds(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=GD(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${GD(t.fields[o])}`;return i+"}"}(n.mapValue):ee(61005,{value:n})}function gy(n){switch(xo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ev(n);return e?16+gy(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+gy(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ro(r.fields,(s,o)=>{i+=s.length+gy(o)}),i}(n.mapValue);default:throw ee(13486,{value:n})}}function XF(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function KD(n){return!!n&&"integerValue"in n}function xT(n){return!!n&&"arrayValue"in n}function ZF(n){return!!n&&"nullValue"in n}function JF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function my(n){return!!n&&"mapValue"in n}function nV(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[TT])===null||t===void 0?void 0:t.stringValue)===ST}function gh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gh(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tV}var pme={mapValue:{fields:{[TT]:{stringValue:ST},[Ll]:{arrayValue:{}}}}};var Yn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!my(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gh(t)}setAll(e){let t=ur.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=gh(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());my(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];my(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(gh(this.value))}};function iV(n){let e=[];return Ro(n.fields,(t,r)=>{let i=new ur([t]);if(my(r)){let s=iV(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Ar(e)}var hr=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ie.min(),ie.min(),ie.min(),Yn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ie.min(),ie.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ie.min(),ie.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Bl=class{constructor(e,t){this.position=e,this.inclusive=t}};function eL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),t.key):r=Vl(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tL(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ji(n.position[t],e.position[t]))return!1;return!0}var Ul=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function lY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Ty=class{},Ft=class n extends Ty{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new QD(e,t,r):t==="array-contains"?new JD(e,r):t==="in"?new eC(e,r):t==="not-in"?new tC(e,r):t==="array-contains-any"?new nC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new XD(e,r):new ZD(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Vl(t,this.value)):t!==null&&xo(this.value)===xo(t)&&this.matchesComparison(Vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ri=class n extends Ty{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return sV(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function sV(n){return n.op==="and"}function oV(n){return uY(n)&&sV(n)}function uY(n){for(let e of n.filters)if(e instanceof ri)return!1;return!0}function YD(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+jl(n.value);if(oV(n))return n.filters.map(e=>YD(e)).join(",");{let e=n.filters.map(t=>YD(t)).join(",");return`${n.op}(${e})`}}function aV(n,e){return n instanceof Ft?function(r,i){return i instanceof Ft&&r.op===i.op&&r.field.isEqual(i.field)&&ji(r.value,i.value)}(n,e):n instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&aV(o,i.filters[a]),!0):!1}(n,e):void ee(19439)}function cV(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${jl(t.value)}`}(n):n instanceof ri?function(t){return t.op.toString()+" {"+t.getFilters().map(cV).join(" ,")+"}"}(n):"Filter"}var QD=class extends Ft{constructor(e,t,r){super(e,t,r),this.key=te.fromName(r.referenceValue)}matches(e){let t=te.comparator(e.key,this.key);return this.matchesComparison(t)}},XD=class extends Ft{constructor(e,t){super(e,"in",t),this.keys=lV("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ZD=class extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=lV("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function lV(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>te.fromName(r.referenceValue))}var JD=class extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return xT(t)&&Ih(t.arrayValue,this.value)}},eC=class extends Ft{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ih(this.value.arrayValue,t)}},tC=class extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ih(this.value.arrayValue,t)}},nC=class extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!xT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ih(this.value.arrayValue,r))}};var rC=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}};function nL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new rC(n,e,t,r,i,s,o)}function AT(n){let e=se(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>YD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>jl(r)).join(",")),e.Ie=t}return e.Ie}function MT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tL(n.startAt,e.startAt)&&tL(n.endAt,e.endAt)}function iC(n){return te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ja=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function dY(n,e,t,r,i,s,o,a){return new ja(n,e,t,r,i,s,o,a)}function tv(n){return new ja(n)}function rL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uV(n){return n.collectionGroup!==null}function mh(n){let e=se(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new en(ur.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Ul(s,r))}),t.has(ur.keyField().canonicalString())||e.Ee.push(new Ul(ur.keyField(),r))}return e.Ee}function Vi(n){let e=se(n);return e.de||(e.de=hY(e,mh(n))),e.de}function hY(n,e){if(n.limitType==="F")return nL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ul(i.field,s)});let t=n.endAt?new Bl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Bl(n.startAt.position,n.startAt.inclusive):null;return nL(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function sC(n,e){let t=n.filters.concat([e]);return new ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function oC(n,e,t){return new ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nv(n,e){return MT(Vi(n),Vi(e))&&n.limitType===e.limitType}function dV(n){return`${AT(Vi(n))}|lt:${n.limitType}`}function Al(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>cV(i)).join(", ")}]`),Fh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>jl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(Vi(n))}; limitType=${n.limitType})`}function rv(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of mh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=eL(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,mh(r),i)||r.endAt&&!function(o,a,c){let l=eL(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,mh(r),i))}(n,e)}function fY(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hV(n){return(e,t)=>{let r=!1;for(let i of mh(n)){let s=pY(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pY(n,e,t){let r=n.field.isKeyField()?te.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Vl(c,l):ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:n.dir})}}var Ts=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return QL(this.inner)}size(){return this.innerSize}};var gY=new It(te.comparator);function Ss(){return gY}var fV=new It(te.comparator);function fh(...n){let e=fV;for(let t of n)e=e.insert(t.key,t);return e}function pV(n){let e=fV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Oa(){return yh()}function gV(){return yh()}function yh(){return new Ts(n=>n.toString(),(n,e)=>n.isEqual(e))}var mY=new It(te.comparator),yY=new en(te.comparator);function Ae(...n){let e=yY;for(let t of n)e=e.add(t);return e}var vY=new en(Ie);function _Y(){return vY}function RT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function mV(n){return{integerValue:""+n}}function bY(n,e){return YK(e)?mV(e):RT(n,e)}var $l=class{constructor(){this._=void 0}};function wY(n,e,t){return n instanceof Hl?function(i,s){let o={fields:{[ZL]:{stringValue:XL},[eV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&CT(s)&&(s=ev(s)),s&&(o.fields[JL]=s),{mapValue:o}}(t,e):n instanceof Ba?vV(n,e):n instanceof Ua?_V(n,e):function(i,s){let o=yV(i,s),a=iL(o)+iL(i.Re);return KD(o)&&KD(i.Re)?mV(a):RT(i.serializer,a)}(n,e)}function EY(n,e,t){return n instanceof Ba?vV(n,e):n instanceof Ua?_V(n,e):t}function yV(n,e){return n instanceof zl?function(r){return KD(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Hl=class extends $l{},Ba=class extends $l{constructor(e){super(),this.elements=e}};function vV(n,e){let t=bV(e);for(let r of n.elements)t.some(i=>ji(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ua=class extends $l{constructor(e){super(),this.elements=e}};function _V(n,e){let t=bV(e);for(let r of n.elements)t=t.filter(i=>!ji(i,r));return{arrayValue:{values:t}}}var zl=class extends $l{constructor(e,t){super(),this.serializer=e,this.Re=t}};function iL(n){return ft(n.integerValue||n.doubleValue)}function bV(n){return xT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function IY(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ba&&i instanceof Ba||r instanceof Ua&&i instanceof Ua?Fl(r.elements,i.elements,ji):r instanceof zl&&i instanceof zl?ji(r.Re,i.Re):r instanceof Hl&&i instanceof Hl}(n.transform,e.transform)}var aC=class{constructor(e,t){this.version=e,this.transformResults=t}},Fn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Wl=class{};function wV(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ql(n.key,Fn.none()):new $a(n.key,n.data,Fn.none());{let t=n.data,r=Yn.empty(),i=new en(ur.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bi(n.key,r,new Ar(i.toArray()),Fn.none())}}function DY(n,e,t){n instanceof $a?function(i,s,o){let a=i.value.clone(),c=oL(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Bi?function(i,s,o){if(!yy(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=oL(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(EV(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function vh(n,e,t,r){return n instanceof $a?function(s,o,a,c){if(!yy(s.precondition,o))return a;let l=s.value.clone(),u=aL(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Bi?function(s,o,a,c){if(!yy(s.precondition,o))return a;let l=aL(s.fieldTransforms,c,o),u=o.data;return u.setAll(EV(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return yy(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function CY(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=yV(r.transform,i||null);s!=null&&(t===null&&(t=Yn.empty()),t.set(r.field,s))}return t||null}function sL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fl(r,i,(s,o)=>IY(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var $a=class extends Wl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bi=class extends Wl{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function EV(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function oL(n,e,t){let r=new Map;Ne(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,EY(o,a,t[i]))}return r}function aL(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,wY(s,o,e))}return r}var ql=class extends Wl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sy=class extends Wl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&DY(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=vh(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=vh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=gV();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=wV(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(t,r)=>sL(t,r))&&Fl(this.baseMutations,e.baseMutations,(t,r)=>sL(t,r))}},lC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ne(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return mY}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var uC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Nt,ke;function IV(n){switch(n){case U.OK:return ee(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ee(15467,{code:n})}}function DV(n){if(n===void 0)return Is("GRPC error has no .code"),U.UNKNOWN;switch(n){case Nt.OK:return U.OK;case Nt.CANCELLED:return U.CANCELLED;case Nt.UNKNOWN:return U.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return U.INTERNAL;case Nt.UNAVAILABLE:return U.UNAVAILABLE;case Nt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Nt.NOT_FOUND:return U.NOT_FOUND;case Nt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Nt.ABORTED:return U.ABORTED;case Nt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Nt.DATA_LOSS:return U.DATA_LOSS;default:return ee(39323,{code:n})}}(ke=Nt||(Nt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";var cL=null;var TY=new ws([4294967295,4294967295],0);function lL(n){let e=OL().encode(n),t=new xD;return t.update(e),new Uint8Array(t.digest())}function uL(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ws([t,r],0),new ws([i,s],0)]}var hC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fa(`Invalid padding: ${t}`);if(r<0)throw new Fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ws.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(ws.fromNumber(r)));return i.compare(TY)===1&&(i=new ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=lL(e),[r,i]=uL(t);for(let s=0;s<this.hashCount;s++){let o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;let t=lL(e),[r,i]=uL(t);for(let s=0;s<this.hashCount;s++){let o=this.we(r,i,s);this.Se(o)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Fa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var xy=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ie.min(),i,new It(Ie),Ss(),Ae())}},Dh=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var kl=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Ay=class{constructor(e,t){this.targetId=e,this.Ce=t}},My=class{constructor(e,t,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ry=class{constructor(){this.Fe=0,this.Me=dL(),this.xe=Dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ae(),t=Ae(),r=Ae();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:s})}}),new Dh(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=dL()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},fC=class{constructor(e){this.ze=e,this.je=new Map,this.He=Ss(),this.Je=fy(),this.Ye=fy(),this.Ze=new It(Ie)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let s=i.target;if(iC(s))if(r===0){let o=new te(s.path);this.tt(t,o,hr.newNoDocument(o,ie.min()))}else Ne(r===1,20013,{expectedCount:r});else{let o=this.ut(t);if(o!==r){let a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}cL?.ht(function(u,h,f,p,m){var v,_,C,x,N,j;let L={localCacheCount:u,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},B=h.unchangedNames;return B&&(L.bloomFilter={applied:m===0,hashCount:(v=B?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(x=(C=(_=B?.bits)===null||_===void 0?void 0:_.bitmap)===null||C===void 0?void 0:C.length)!==null&&x!==void 0?x:0,padding:(j=(N=B?.bits)===null||N===void 0?void 0:N.padding)!==null&&j!==void 0?j:0,mightContain:D=>{var w;return(w=p?.mightContain(D))!==null&&w!==void 0&&w}}),L}(o,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Cs(r).toUint8Array()}catch(c){if(c instanceof Iy)return Ol("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new hC(o,i,s)}catch(c){return Ol(c instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,s,null),i++)}),i}It(e){let t=new Map;this.je.forEach((s,o)=>{let a=this._t(o);if(a){if(s.current&&iC(a.target)){let c=new te(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,hr.newNoDocument(c,e))}s.Le&&(t.set(o,s.qe()),s.Qe())}});let r=Ae();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));let i=new xy(e,t,this.Ze,this.He,r);return this.He=Ss(),this.Je=fy(),this.Ye=fy(),this.Ze=new It(Ie),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ry,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new en(Ie),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new en(Ie),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||X("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ry),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function fy(){return new It(te.comparator)}function dL(){return new It(te.comparator)}var SY={asc:"ASCENDING",desc:"DESCENDING"},xY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AY={and:"AND",or:"OR"},pC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function gC(n,e){return n.useProto3Json||Fh(e)?e:{value:e}}function Py(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MY(n,e){return Py(n,e.toTimestamp())}function dr(n){return Ne(!!n,49232),ie.fromTimestamp(function(t){let r=Ds(t);return new Be(r.seconds,r.nanos)}(n))}function PT(n,e){return mC(n,e).canonicalString()}function mC(n,e){let t=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TV(n){let e=ct.fromString(n);return Ne(PV(e),10190,{key:e.toString()}),e}function ky(n,e){return PT(n.databaseId,e.path)}function _h(n,e){let t=TV(e);if(t.get(1)!==n.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new te(xV(t))}function SV(n,e){return PT(n.databaseId,e)}function RY(n){let e=TV(n);return e.length===4?ct.emptyPath():xV(e)}function yC(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xV(n){return Ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hL(n,e,t){return{name:ky(n,e),fields:t.value.mapValue.fields}}function PY(n,e){return"found"in e?function(r,i){Ne(!!i.found,43571),i.found.name,i.found.updateTime;let s=_h(r,i.found.name),o=dr(i.found.updateTime),a=i.found.createTime?dr(i.found.createTime):ie.min(),c=new Yn({mapValue:{fields:i.found.fields}});return hr.newFoundDocument(s,o,a,c)}(n,e):"missing"in e?function(r,i){Ne(!!i.missing,3894),Ne(!!i.readTime,22933);let s=_h(r,i.missing),o=dr(i.readTime);return hr.newNoDocument(s,o)}(n,e):ee(7234,{result:e})}function kY(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Ne(u===void 0||typeof u=="string",58123),Dn.fromBase64String(u||"")):(Ne(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Dn.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?U.UNKNOWN:DV(l.code);return new K(u,l.message||"")}(o);t=new My(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=_h(n,r.document.name),s=dr(r.document.updateTime),o=r.document.createTime?dr(r.document.createTime):ie.min(),a=new Yn({mapValue:{fields:r.document.fields}}),c=hr.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];t=new kl(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=_h(n,r.document),s=r.readTime?dr(r.readTime):ie.min(),o=hr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new kl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=_h(n,r.document),s=r.removedTargetIds||[];t=new kl([],s,i,null)}else{if(!("filter"in e))return ee(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new dC(i,s),a=r.targetId;t=new Ay(a,o)}}return t}function AV(n,e){let t;if(e instanceof $a)t={update:hL(n,e.key,e.value)};else if(e instanceof ql)t={delete:ky(n,e.key)};else if(e instanceof Bi)t={update:hL(n,e.key,e.data),updateMask:$Y(e.fieldMask)};else{if(!(e instanceof Sy))return ee(16599,{ft:e.type});t={verify:ky(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ba)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ua)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zl)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:MY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee(27497)}(n,e.precondition)),t}function NY(n,e){return n&&n.length>0?(Ne(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?dr(i.updateTime):dr(s);return o.isEqual(ie.min())&&(o=dr(s)),new aC(o,i.transformResults||[])}(t,e))):[]}function OY(n,e){return{documents:[SV(n,e.path)]}}function FY(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=SV(n,i);let s=function(l){if(l.length!==0)return RV(ri.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Ml(f.field),direction:jY(f.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=gC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function LY(n){let e=RY(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ne(r===1,65062);let u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){let f=MV(h);return f instanceof ri&&oV(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(m){return new Ul(Rl(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Fh(f)?null:f}(t.limit));let c=null;t.startAt&&(c=function(h){let f=!!h.before,p=h.values||[];return new Bl(p,f)}(t.startAt));let l=null;return t.endAt&&(l=function(h){let f=!h.before,p=h.values||[];return new Bl(p,f)}(t.endAt)),dY(e,i,o,s,a,"F",c,l)}function VY(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function MV(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Rl(t.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Rl(t.unaryFilter.field);return Ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Rl(t.unaryFilter.field);return Ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Rl(t.unaryFilter.field);return Ft.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(Rl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ri.create(t.compositeFilter.filters.map(r=>MV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(t.compositeFilter.op))}(n):ee(30097,{filter:n})}function jY(n){return SY[n]}function BY(n){return xY[n]}function UY(n){return AY[n]}function Ml(n){return{fieldPath:n.canonicalString()}}function Rl(n){return ur.fromServerFormat(n.fieldPath)}function RV(n){return n instanceof Ft?function(t){if(t.op==="=="){if(JF(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NAN"}};if(ZF(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(JF(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NAN"}};if(ZF(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(t.field),op:BY(t.op),value:t.value}}}(n):n instanceof ri?function(t){let r=t.getFilters().map(i=>RV(i));return r.length===1?r[0]:{compositeFilter:{op:UY(t.op),filters:r}}}(n):ee(54877,{filter:n})}function $Y(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ch=class n{constructor(e,t,r,i,s=ie.min(),o=ie.min(),a=Dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vC=class{constructor(e){this.wt=e}};function HY(n){let e=LY({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?oC(e,e.limit,"L"):e}var Ny=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ft(e.integerValue));else if("doubleValue"in e){let r=ft(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),wh(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Ds(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Cs(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?rV(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):nV(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ee(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let s=e.fields||{};this.Mt(t,53);let o=Ll,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ft(a)),this.Nt(o,t),this.Ct(s[o],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),te.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Ny.Wt=new Ny;var _C=class{constructor(){this.yn=new bC}addToCollectionParentIndex(e,t){return this.yn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Va.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}},bC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new en(ct.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new en(ct.comparator)).toArray()}};var gme=new Uint8Array(0);var fL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kV=41943040,xr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(kV,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);var Th=class n{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new n(0)}static ir(){return new n(-1)}};var pL="LruGarbageCollector",zY=1048576;function gL([n,e],[t,r]){let i=Ie(n,t);return i===0?Ie(e,r):i}var wC=class{constructor(e){this.cr=e,this.buffer=new en(gL),this.lr=0}hr(){return++this.lr}Pr(e){let t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();gL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},EC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){X(pL,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){eu(t)?X(pL,"Ignoring IndexedDB error during garbage collection: ",t):yield Jl(t)}yield this.Ir(3e5)}))}},IC=class{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return H.resolve(IT.le);let r=new wC(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(fL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fL):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,s,o,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),xl()<=Se.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}};function WY(n,e){return new IC(n,e)}var DC=class{constructor(){this.changes=new Ts(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var CC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var TC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&vh(r.mutation,i,Ar.empty(),Be.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=Oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=fh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Oa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ss(),o=yh(),a=function(){return yh()}();return t.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Bi)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),vh(u.mutation,l,u.mutation.getFieldMask(),Be.now())):o.set(l.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var h;return a.set(l,new CC(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let r=yh(),i=new It((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=r.get(c)||Ar.empty();u=a.applyToLocalView(l,u),r.set(c,u);let h=(i.get(a.batchId)||Ae()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,h=gV();u.forEach(f=>{if(!s.has(f)){let p=wV(t.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):H.resolve(Oa()),a=bh,c=s;return o.next(l=>H.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Ae())).next(u=>({batchId:a,changes:pV(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next(r=>{let i=fh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=fh();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,c=>{let l=function(h,f){return new ja(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,hr.newInvalidDocument(u)))});let a=fh();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&vh(u.mutation,l,Ar.empty(),Be.now()),rv(t,l)&&(a=a.insert(c,l))}),a})}};var SC=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return H.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:dr(i.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:HY(i.bundledQuery),readTime:dr(i.readTime)}}(t)),H.resolve()}};var xC=class{constructor(){this.overlays=new It(te.comparator),this.Or=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Oa();return H.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),H.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){let i=Oa(),s=t.length+1,o=new te(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new It((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=Oa(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Oa(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return H.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uC(t,r));let s=this.Or.get(t);s===void 0&&(s=Ae(),this.Or.set(t,s)),this.Or.set(t,s.add(r.key))}};var AC=class{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}};var Sh=class{constructor(){this.Nr=new en(Ot.Br),this.Lr=new en(Ot.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){let r=new Ot(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Ot(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){let t=new te(new ct([])),r=new Ot(t,e),i=new Ot(t,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let t=new te(new ct([])),r=new Ot(t,e),i=new Ot(t,e+1),s=Ae();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Ot(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ot=class{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return te.comparator(e.key,t.key)||Ie(e.Gr,t.Gr)}static kr(e,t){return Ie(e.Gr,t.Gr)||te.comparator(e.key,t.key)}};var MC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new en(Ot.Br)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new cC(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.zr=this.zr.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,t){return H.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Hr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?DT:this.Jn-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ot(t,0),i=new Ot(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{let a=this.jr(o.Gr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new en(Ie);return t.forEach(i=>{let s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),H.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new Ot(new te(s),0),a=new en(Ie);return this.zr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Gr)),!0)},o),H.resolve(this.Jr(a))}Jr(e){let t=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ne(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return H.forEach(t.mutations,i=>{let s=new Ot(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){let r=new Ot(t,0),i=this.zr.firstAfterOrEqual(r);return H.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var RC=class{constructor(e){this.Zr=e,this.docs=function(){return new It(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(t))}getEntries(e,t){let r=Ss();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hr.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ss(),o=t.path,a=new te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||qK(WK(u),r)<=0||(i.has(u.key)||rv(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ee(9500)}Xr(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new PC(this)}getSize(e){return H.resolve(this.size)}},PC=class extends DC{constructor(e){super(),this.vr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}};var kC=class{constructor(e){this.persistence=e,this.ei=new Ts(t=>AT(t),MT),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.ti=0,this.ni=new Sh,this.targetCount=0,this.ri=Th.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),H.resolve()}ar(e){this.ei.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ri=new Th(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.ar(t),H.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){let r=this.ei.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),H.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ni.Wr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.ni.containsKey(t))}};var Oy=class{constructor(e,t){this.ii={},this.overlays={},this.si=new IT(0),this.oi=!1,this.oi=!0,this._i=new AC,this.referenceDelegate=e(this),this.ai=new kC(this),this.indexManager=new _C,this.remoteDocumentCache=function(i){return new RC(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new vC(t),this.ci=new SC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new MC(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){X("MemoryPersistence","Starting transaction:",e);let i=new NC(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,t){return H.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}},NC=class extends WD{constructor(e){super(),this.currentSequenceNumber=e}},OC=class n{constructor(e){this.persistence=e,this.Ti=new Sh,this.Ii=null}static Ei(e){return new n(e)}get di(){if(this.Ii)return this.Ii;throw ee(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.di,r=>{let i=te.fromPath(r);return this.Ai(e,i).next(s=>{s||t.removeEntry(i,ie.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return H.or([()=>H.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}},Fy=class n{constructor(e,t){this.persistence=e,this.Ri=new Ts(r=>QK(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=WY(this,t)}static Ei(e,t){return new n(e,t)}li(){}hi(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return H.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?H.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),H.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gy(e.data.value)),t}gr(e,t,r){return H.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.Ri.get(t);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var FC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=Ae(),i=Ae();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var LC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var VC=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return c1()?8:KK(Zt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new LC;return this.fs(e,t,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,t,o,a.size)})}).next(()=>s.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(xl()<=Se.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Al(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),H.resolve()):(xl()<=Se.DEBUG&&X("QueryEngine","Query:",Al(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(xl()<=Se.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Al(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(t))):H.resolve())}Rs(e,t){if(rL(t))return H.resolve(null);let r=Vi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=oC(t,null,"F"),r=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ae(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ps(t,a);return this.ys(t,l,o,c.readTime)?this.Rs(e,oC(t,null,"F")):this.ws(e,l,t,c)}))})))}Vs(e,t,r,i){return rL(t)||i.isEqual(ie.min())?H.resolve(null):this.As.getDocuments(e,r).next(s=>{let o=this.ps(t,s);return this.ys(t,o,r,i)?H.resolve(null):(xl()<=Se.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Al(t)),this.ws(e,o,t,zK(i,bh)).next(a=>a))})}ps(e,t){let r=new en(hV(e));return t.forEach((i,s)=>{rv(e,s)&&(r=r.add(s))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,t,r){return xl()<=Se.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Al(t)),this.As.getDocumentsMatchingQuery(e,t,Va.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var kT="LocalStore",qY=3e8,jC=class{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new It(Ie),this.Ds=new Ts(s=>AT(s),MT),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TC(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}};function GY(n,e,t,r){return new jC(n,e,t,r)}function NV(n,e){return E(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Ae();for(let l of i){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Ms:l,removedBatchIds:o,addedBatchIds:a}))})})})}function KY(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let h=l.batch,f=h.keys(),p=H.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(c,m)).next(v=>{let _=l.docVersions.get(m);Ne(_!==null,48541),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ae();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function OV(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function YY(n,e){let t=se(n),r=e.snapshotVersion,i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;let a=[];e.targetChanges.forEach((u,h)=>{let f=i.get(h);if(!f)return;a.push(t.ai.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.ai.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Dn.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(v,_,C){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=qY?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,p,u)&&a.push(t.ai.updateTargetData(s,p))});let c=Ss(),l=Ae();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(QY(s,o,e.documentUpdates).next(u=>{c=u.xs,l=u.Os})),!r.isEqual(ie.min())){let u=t.ai.getLastRemoteSnapshotVersion(s).next(h=>t.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.Ss=i,s))}function QY(n,e,t){let r=Ae(),i=Ae();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ss();return t.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X(kT,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{xs:o,Os:i}})}function XY(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=DT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZY(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):t.ai.allocateTargetId(r).next(o=>(i=new Ch(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}function BC(n,e,t){return E(this,null,function*(){let r=se(n),i=r.Ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!eu(o))throw o;X(kT,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function mL(n,e,t){let r=se(n),i=ie.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let h=se(c),f=h.Ds.get(u);return f!==void 0?H.resolve(h.Ss.get(f)):h.ai.getTargetData(l,u)}(r,o,Vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,t?i:ie.min(),t?s:Ae())).next(a=>(JY(r,fY(e),a),{documents:a,Ns:s})))}function JY(n,e,t){let r=n.vs.get(e)||ie.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.vs.set(e,r)}var Ly=class{constructor(){this.activeTargetIds=_Y()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var UC=class{constructor(){this.So=new Ly,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Ly,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $C=class{vo(e){}shutdown(){}};var yL="ConnectivityMonitor",Vy=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){X(yL,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){X(yL,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var py=null;function HC(){return py===null?py=function(){return 268435456+Math.round(2147483648*Math.random())}():py++,"0x"+py.toString(16)}var ND="RestConnection",eQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},zC=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Dy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,s){let o=HC(),a=this.$o(e,t.toUriEncodedString());X(ND,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,i,s),this.Ko(e,a,c,r).then(l=>(X(ND,`Received RPC '${e}' ${o}: `,l),l),l=>{throw Ol(ND,`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}Wo(e,t,r,i,s,o){return this.Qo(e,t,r,i,s)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,t){let r=eQ[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}};var WC=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var In="WebChannelConnection",qC=class extends zC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){let s=HC();return new Promise((o,a)=>{let c=new AD;c.setWithCredentials(!0),c.listenOnce(MD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hh.NO_ERROR:let u=c.getResponseJson();X(In,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case hh.TIMEOUT:X(In,`RPC '${e}' ${s} timed out`),a(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:let h=c.getStatus();if(X(In,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);let p=f?.error;if(p&&p.status&&p.message){let m=function(_){let C=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(C)>=0?C:U.UNKNOWN}(p.status);a(new K(m,p.message))}else a(new K(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new K(U.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{s_:e,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{X(In,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);X(In,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}a_(e,t,r){let i=HC(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kD(),a=PD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let u=s.join("");X(In,`Creating RPC '${e}' stream ${i}: ${u}`,c);let h=o.createWebChannel(u,c),f=!1,p=!1,m=new WC({Go:_=>{p?X(In,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(X(In,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),X(In,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},zo:()=>h.close()}),v=(_,C,x)=>{_.listen(C,N=>{try{x(N)}catch(j){setTimeout(()=>{throw j},0)}})};return v(h,Sl.EventType.OPEN,()=>{p||(X(In,`RPC '${e}' stream ${i} transport opened.`),m.t_())}),v(h,Sl.EventType.CLOSE,()=>{p||(p=!0,X(In,`RPC '${e}' stream ${i} transport closed`),m.r_())}),v(h,Sl.EventType.ERROR,_=>{p||(p=!0,Ol(In,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),m.r_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),v(h,Sl.EventType.MESSAGE,_=>{var C;if(!p){let x=_.data[0];Ne(!!x,16349);let N=x,j=N?.error||((C=N[0])===null||C===void 0?void 0:C.error);if(j){X(In,`RPC '${e}' stream ${i} received error:`,j);let L=j.status,B=function(I){let S=Nt[I];if(S!==void 0)return DV(S)}(L),D=j.message;B===void 0&&(B=U.INTERNAL,D="Unknown error status: "+L+" with message "+j.message),p=!0,m.r_(new K(B,D)),h.close()}else X(In,`RPC '${e}' stream ${i} received:`,x),m.i_(x)}}),v(a,RD.STAT_EVENT,_=>{_.stat===dy.PROXY?X(In,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===dy.NOPROXY&&X(In,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.n_()},0),m}};function OD(){return typeof document<"u"?document:null}function iv(n){return new pC(n,!0)}var xh=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var vL="PersistentStream",jy=class{constructor(e,t,r,i,s,o,a,c){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new xh(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return E(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return E(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,t){return E(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Is(t.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(t)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{let i=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){let r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>E(this,null,function*(){this.state=0,this.start()}))}L_(e){return X(vL,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(X(vL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},GC=class extends jy{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let t=kY(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?dr(o.readTime):ie.min()}(e);return this.listener.Q_(t,r)}U_(e){let t={};t.database=yC(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=iC(c)?{documents:OY(s,c)}:{query:FY(s,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CV(s,o.resumeToken);let l=gC(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=Py(s,o.snapshotVersion.toTimestamp());let l=gC(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=VY(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){let t={};t.database=yC(this.serializer),t.removeTarget=e,this.F_(t)}},KC=class extends jy{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let t=NY(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.j_(r,t)}H_(){let e={};e.database=yC(this.serializer),this.F_(e)}G_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>AV(this.serializer,r))};this.F_(t)}};var YC=class{},QC=class extends YC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,mC(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(U.UNKNOWN,s.toString())})}Wo(e,t,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,mC(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},XC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Is(t),this.ea=!1):X("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var Ha="RemoteStore",ZC=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(()=>E(this,null,function*(){qa(this)&&(X(Ha,"Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let l=se(c);l.aa.add(4),yield Lh(l),l.la.set("Unknown"),l.aa.delete(4),yield sv(l)})}(this))}))}),this.la=new XC(r,i)}};function sv(n){return E(this,null,function*(){if(qa(n))for(let e of n.ua)yield e(!0)})}function Lh(n){return E(this,null,function*(){for(let e of n.ua)yield e(!1)})}function FV(n,e){let t=se(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),LT(t)?FT(t):tu(t).b_()&&OT(t,e))}function NT(n,e){let t=se(n),r=tu(t);t._a.delete(e),r.b_()&&LV(t,e),t._a.size===0&&(r.b_()?r.v_():qa(t)&&t.la.set("Unknown"))}function OT(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tu(n).U_(e)}function LV(n,e){n.ha.Ke(e),tu(n).K_(e)}function FT(n){n.ha=new fC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),tu(n).start(),n.la.ta()}function LT(n){return qa(n)&&!tu(n).w_()&&n._a.size>0}function qa(n){return se(n).aa.size===0}function VV(n){n.ha=void 0}function tQ(n){return E(this,null,function*(){n.la.set("Online")})}function nQ(n){return E(this,null,function*(){n._a.forEach((e,t)=>{OT(n,e)})})}function rQ(n,e){return E(this,null,function*(){VV(n),LT(n)?(n.la.ia(e),FT(n)):n.la.set("Unknown")})}function iQ(n,e,t){return E(this,null,function*(){if(n.la.set("Online"),e instanceof My&&e.state===2&&e.cause)try{yield function(i,s){return E(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))})}(n,e)}catch(r){X(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield By(n,r)}else if(e instanceof kl?n.ha.Xe(e):e instanceof Ay?n.ha.ot(e):n.ha.nt(e),!t.isEqual(ie.min()))try{let r=yield OV(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.ha.It(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s._a.get(l);u&&s._a.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s._a.get(c);if(!u)return;s._a.set(c,u.withResumeToken(Dn.EMPTY_BYTE_STRING,u.snapshotVersion)),LV(s,c);let h=new Ch(u.target,c,l,u.sequenceNumber);OT(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){X(Ha,"Failed to raise snapshot:",r),yield By(n,r)}})}function By(n,e,t){return E(this,null,function*(){if(!eu(e))throw e;n.aa.add(1),yield Lh(n),n.la.set("Offline"),t||(t=()=>OV(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){X(Ha,"Retrying IndexedDB access"),yield t(),n.aa.delete(1),yield sv(n)}))})}function jV(n,e){return e().catch(t=>By(n,t,e))}function ov(n){return E(this,null,function*(){let e=se(n),t=Ao(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:DT;for(;sQ(e);)try{let i=yield XY(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,oQ(e,i)}catch(i){yield By(e,i)}BV(e)&&UV(e)})}function sQ(n){return qa(n)&&n.oa.length<10}function oQ(n,e){n.oa.push(e);let t=Ao(n);t.b_()&&t.W_&&t.G_(e.mutations)}function BV(n){return qa(n)&&!Ao(n).w_()&&n.oa.length>0}function UV(n){Ao(n).start()}function aQ(n){return E(this,null,function*(){Ao(n).H_()})}function cQ(n){return E(this,null,function*(){let e=Ao(n);for(let t of n.oa)e.G_(t.mutations)})}function lQ(n,e,t){return E(this,null,function*(){let r=n.oa.shift(),i=lC.from(r,e,t);yield jV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ov(n)})}function uQ(n,e){return E(this,null,function*(){e&&Ao(n).W_&&(yield function(r,i){return E(this,null,function*(){if(function(o){return IV(o)&&o!==U.ABORTED}(i.code)){let s=r.oa.shift();Ao(r).D_(),yield jV(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ov(r)}})}(n,e)),BV(n)&&UV(n)})}function _L(n,e){return E(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),X(Ha,"RemoteStore received new credentials");let r=qa(t);t.aa.add(3),yield Lh(t),r&&t.la.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),yield sv(t)})}function dQ(n,e){return E(this,null,function*(){let t=se(n);e?(t.aa.delete(2),yield sv(t)):e||(t.aa.add(2),yield Lh(t),t.la.set("Unknown"))})}function tu(n){return n.Pa||(n.Pa=function(t,r,i){let s=se(t);return s.Y_(),new GC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:tQ.bind(null,n),Jo:nQ.bind(null,n),Zo:rQ.bind(null,n),Q_:iQ.bind(null,n)}),n.ua.push(e=>E(this,null,function*(){e?(n.Pa.D_(),LT(n)?FT(n):n.la.set("Unknown")):(yield n.Pa.stop(),VV(n))}))),n.Pa}function Ao(n){return n.Ta||(n.Ta=function(t,r,i){let s=se(t);return s.Y_(),new KC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:aQ.bind(null,n),Zo:uQ.bind(null,n),z_:cQ.bind(null,n),j_:lQ.bind(null,n)}),n.ua.push(e=>E(this,null,function*(){e?(n.Ta.D_(),yield ov(n)):(yield n.Ta.stop(),n.oa.length>0&&(X(Ha,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))}))),n.Ta}var JC=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function VT(n,e){if(Is("AsyncQueue",`${e}: ${n}`),eu(n))return new K(U.UNAVAILABLE,`${e}: ${n}`);throw n}var Uy=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||te.comparator(t.key,r.key):(t,r)=>te.comparator(t.key,r.key),this.keyedMap=fh(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var $y=class{constructor(){this.Ia=new It(te.comparator)}track(e){let t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):ee(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){let e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}},Gl=class n{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Uy.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var eT=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},tT=class{constructor(){this.queries=bL(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){let i=se(t),s=i.queries;i.queries=bL(),s.forEach((o,a)=>{for(let c of a.Ra)c.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}};function bL(){return new Ts(n=>dV(n),nv)}function jT(n,e){return E(this,null,function*(){let t=se(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new eT,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=yield t.onListen(i,!0);break;case 1:s.Aa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=VT(o,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Ra.push(e),e.ga(t.onlineState),s.Aa&&e.pa(s.Aa)&&UT(t)})}function BT(n,e){return E(this,null,function*(){let t=se(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function hQ(n,e){let t=se(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&UT(t)}function fQ(n,e,t){let r=se(n),i=r.queries.get(e);if(i)for(let s of i.Ra)s.onError(t);r.queries.delete(e)}function UT(n){n.fa.forEach(e=>{e.next()})}var nT,wL;(wL=nT||(nT={})).ya="default",wL.Cache="cache";var Ah=class{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;let r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==nT.Cache}};var Hy=class{constructor(e){this.key=e}},zy=class{constructor(e){this.key=e}},rT=class{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ae(),this.mutatedKeys=Ae(),this.Ua=hV(e),this.Ka=new Uy(this.Ua)}get Wa(){return this.qa}Ga(e,t){let r=t?t.za:new $y,i=t?t.Ka:this.Ka,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{let f=i.get(u),p=rv(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),_=!1;f&&p?f.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),_=!0):this.ja(f,p)||(r.track({type:2,doc:p}),_=!0,(c&&this.Ua(p,c)>0||l&&this.Ua(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),_=!0):f&&!p&&(r.track({type:1,doc:f}),_=!0,(c||l)&&(a=!0)),_&&(p?(o=o.add(p),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let o=e.za.da();o.sort((u,h)=>function(p,m){let v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Vt:_})}};return v(p)-v(m)}(u.type,h.type)||this.Ua(u.doc,h.doc)),this.Ha(r),i=i!=null&&i;let a=t&&!i?this.Ja():[],c=this.$a.size===0&&this.current&&!i?1:0,l=c!==this.Qa;return this.Qa=c,o.length!==0||l?{snapshot:new Gl(this.query,e.Ka,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new $y,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=Ae(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new zy(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new Hy(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Ae();let t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Gl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},$T="SyncEngine",iT=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},sT=class{constructor(e){this.key=e,this.tu=!1}},oT=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Ts(a=>dV(a),nv),this.iu=new Map,this.su=new Set,this.ou=new It(te.comparator),this._u=new Map,this.au=new Sh,this.uu={},this.cu=new Map,this.lu=Th.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function pQ(n,e,t=!0){return E(this,null,function*(){let r=GV(n),i,s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=yield $V(r,e,t,!0),i})}function gQ(n,e){return E(this,null,function*(){let t=GV(n);yield $V(t,e,!0,!1)})}function $V(n,e,t,r){return E(this,null,function*(){let i=yield ZY(n.localStore,Vi(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield mQ(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&FV(n.remoteStore,i),a})}function mQ(n,e,t,r,i){return E(this,null,function*(){n.Pu=(h,f,p)=>function(v,_,C,x){return E(this,null,function*(){let N=_.view.Ga(C);N.ys&&(N=yield mL(v.localStore,_.query,!1).then(({documents:D})=>_.view.Ga(D,N)));let j=x&&x.targetChanges.get(_.targetId),L=x&&x.targetMismatches.get(_.targetId)!=null,B=_.view.applyChanges(N,v.isPrimaryClient,j,L);return IL(v,_.targetId,B.Ya),B.snapshot})}(n,h,f,p);let s=yield mL(n.localStore,e,!0),o=new rT(e,s.Ns),a=o.Ga(s.documents),c=Dh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,c);IL(n,t,l.Ya);let u=new iT(e,t,o);return n.ru.set(e,u),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),l.snapshot})}function yQ(n,e,t){return E(this,null,function*(){let r=se(n),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!nv(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield BC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&NT(r.remoteStore,i.targetId),aT(r,i.targetId)}).catch(Jl))):(aT(r,i.targetId),yield BC(r.localStore,i.targetId,!0))})}function vQ(n,e){return E(this,null,function*(){let t=se(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),NT(t.remoteStore,r.targetId))})}function _Q(n,e,t){return E(this,null,function*(){let r=TQ(n);try{let i=yield function(o,a){let c=se(o),l=Be.now(),u=a.reduce((p,m)=>p.add(m.key),Ae()),h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ss(),v=Ae();return c.Cs.getEntries(p,u).next(_=>{m=_,m.forEach((C,x)=>{x.isValidDocument()||(v=v.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(_=>{h=_;let C=[];for(let x of a){let N=CY(x,h.get(x.key).overlayedDocument);N!=null&&C.push(new Bi(x.key,N,iV(N.value.mapValue),Fn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,C,a)}).next(_=>{f=_;let C=_.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(p,_.batchId,C)})}).then(()=>({batchId:f.batchId,changes:pV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.uu[o.currentUser.toKey()];l||(l=new It(Ie)),l=l.insert(a,c),o.uu[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Vh(r,i.changes),yield ov(r.remoteStore)}catch(i){let s=VT(i,"Failed to persist write");t.reject(s)}})}function HV(n,e){return E(this,null,function*(){let t=se(n);try{let r=yield YY(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t._u.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Ne(o.tu,14607):i.removedDocuments.size>0&&(Ne(o.tu,42227),o.tu=!1))}),yield Vh(t,r,e)}catch(r){yield Jl(r)}})}function EL(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ru.forEach((s,o)=>{let a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=se(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(let f of h.Ra)f.ga(a)&&(l=!0)}),l&&UT(c)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bQ(n,e,t){return E(this,null,function*(){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r._u.get(e),s=i&&i.key;if(s){let o=new It(te.comparator);o=o.insert(s,hr.newNoDocument(s,ie.min()));let a=Ae().add(s),c=new xy(ie.min(),new Map,new It(Ie),o,a);yield HV(r,c),r.ou=r.ou.remove(s),r._u.delete(e),HT(r)}else yield BC(r.localStore,e,!1).then(()=>aT(r,e,t)).catch(Jl)})}function wQ(n,e){return E(this,null,function*(){let t=se(n),r=e.batch.batchId;try{let i=yield KY(t.localStore,e);WV(t,r,null),zV(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vh(t,i)}catch(i){yield Jl(i)}})}function EQ(n,e,t){return E(this,null,function*(){let r=se(n);try{let i=yield function(o,a){let c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ne(h!==null,37113),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);WV(r,e,t),zV(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vh(r,i)}catch(i){yield Jl(i)}})}function zV(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function WV(n,e,t){let r=se(n),i=r.uu[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function aT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||qV(n,r)})}function qV(n,e){n.su.delete(e.path.canonicalString());let t=n.ou.get(e);t!==null&&(NT(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),HT(n))}function IL(n,e,t){for(let r of t)r instanceof Hy?(n.au.addReference(r.key,e),IQ(n,r)):r instanceof zy?(X($T,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||qV(n,r.key)):ee(19791,{Iu:r})}function IQ(n,e){let t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(X($T,"New document in limbo: "+t),n.su.add(r),HT(n))}function HT(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){let e=n.su.values().next().value;n.su.delete(e);let t=new te(ct.fromString(e)),r=n.lu.next();n._u.set(r,new sT(t)),n.ou=n.ou.insert(t,r),FV(n.remoteStore,new Ch(Vi(tv(t.path)),r,"TargetPurposeLimboResolution",IT.le))}}function Vh(n,e,t){return E(this,null,function*(){let r=se(n),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,c)=>{o.push(r.Pu(c,e,t).then(l=>{var u;if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=FC.Ps(c.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.nu.Q_(i),yield function(c,l){return E(this,null,function*(){let u=se(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(l,f=>H.forEach(f.ls,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>H.forEach(f.hs,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!eu(h))throw h;X(kT,"Failed to update sequence numbers: "+h)}for(let h of l){let f=h.targetId;if(!h.fromCache){let p=u.Ss.get(f),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);u.Ss=u.Ss.insert(f,v)}}})}(r.localStore,s))})}function DQ(n,e){return E(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){X($T,"User change. New user:",e.toKey());let r=yield NV(t.localStore,e);t.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(c=>{c.reject(new K(U.CANCELLED,o))})}),s.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vh(t,r.Ms)}})}function CQ(n,e){let t=se(n),r=t._u.get(e);if(r&&r.tu)return Ae().add(r.key);{let i=Ae(),s=t.iu.get(e);if(!s)return i;for(let o of s){let a=t.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function GV(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bQ.bind(null,e),e.nu.Q_=hQ.bind(null,e.eventManager),e.nu.Tu=fQ.bind(null,e.eventManager),e}function TQ(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EQ.bind(null,e),e}var KV=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=iv(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),yield this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)})}mu(t,r){return null}fu(t,r){return null}Vu(t){return GY(this.persistence,new VC,t.initialUser,this.serializer)}Ru(t){return new Oy(OC.Ei,this.serializer)}Au(t){return new UC}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),cT=class extends KV{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ne(this.persistence.referenceDelegate instanceof Fy,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new EC(r,e.asyncQueue,t)}Ru(e){let t=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new Oy(r=>Fy.Ei(r,t),this.serializer)}};var SQ=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>EL(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DQ.bind(null,this.syncEngine),yield dQ(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new tT}()}createDatastore(t){let r=iv(t.databaseInfo.databaseId),i=function(o){return new qC(o)}(t.databaseInfo);return function(o,a,c,l){return new QC(o,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,c){return new ZC(i,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>EL(this.syncEngine,r,0),function(){return Vy.C()?new Vy:new $C}())}createSyncEngine(t,r){return function(s,o,a,c,l,u,h){let f=new oT(s,o,a,c,l,u);return h&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield function(s){return E(this,null,function*(){let o=se(s);X(Ha,"RemoteStore shutting down."),o.aa.add(5),yield Lh(o),o.ca.shutdown(),o.la.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Mh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var lT=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return E(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new K(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,s){return E(this,null,function*(){let o=se(i),a={documents:s.map(h=>ky(o.serializer,h))},c=yield o.Wo("BatchGetDocuments",o.serializer.databaseId,ct.emptyPath(),a,s.length),l=new Map;c.forEach(h=>{let f=PY(o.serializer,h);l.set(f.key.toString(),f)});let u=[];return s.forEach(h=>{let f=l.get(h.toString());Ne(!!f,55234,{key:h}),u.push(f)}),u})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ql(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return E(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=te.fromPath(r);this.mutations.push(new Sy(i,this.precondition(i)))}),yield function(r,i){return E(this,null,function*(){let s=se(r),o={writes:i.map(a=>AV(s.serializer,a))};yield s.Qo("Commit",s.serializer.databaseId,ct.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ee(50498,{xu:e.constructor.name});t=ie.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new K(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ie.min())?Fn.exists(!1):Fn.updateTime(t):Fn.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ie.min()))throw new K(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(t)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var uT=class{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Ou=r.maxAttempts,this.y_=new xh(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(()=>E(this,null,function*(){let e=new lT(this.datastore),t=this.Lu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ku(i)}))}).catch(r=>{this.ku(r)})}))}Lu(e){try{let t=this.updateFunction(e);return!Fh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!IV(t)}return!1}};var Mo="FirestoreClient",dT=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=by.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>E(this,null,function*(){X(Mo,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(X(Mo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=VT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function FD(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),X(Mo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield NV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function DL(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield xQ(n);X(Mo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>_L(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>_L(e.remoteStore,i)),n._onlineComponents=e})}function xQ(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){X(Mo,"Using user provided OfflineComponentProvider");try{yield FD(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ol("Error using user provided cache. Falling back to memory cache: "+t),yield FD(n,new KV)}}else X(Mo,"Using default OfflineComponentProvider"),yield FD(n,new cT(void 0));return n._offlineComponents})}function zT(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(X(Mo,"Using user provided OnlineComponentProvider"),yield DL(n,n._uninitializedComponentsProvider._online)):(X(Mo,"Using default OnlineComponentProvider"),yield DL(n,new SQ))),n._onlineComponents})}function AQ(n){return zT(n).then(e=>e.syncEngine)}function MQ(n){return zT(n).then(e=>e.datastore)}function Wy(n){return E(this,null,function*(){let e=yield zT(n),t=e.eventManager;return t.onListen=pQ.bind(null,e.syncEngine),t.onUnlisten=yQ.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gQ.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vQ.bind(null,e.syncEngine),t})}function RQ(n,e,t={}){let r=new Mr;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,a,c,l){let u=new Mh({next:f=>{u.yu(),o.enqueueAndForget(()=>BT(s,h));let p=f.docs.has(a);!p&&f.fromCache?l.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?l.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Ah(tv(a.path),u,{includeMetadataChanges:!0,Fa:!0});return jT(s,h)}(yield Wy(n),n.asyncQueue,e,t,r)})),r.promise}function PQ(n,e,t={}){let r=new Mr;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,a,c,l){let u=new Mh({next:f=>{u.yu(),o.enqueueAndForget(()=>BT(s,h)),f.fromCache&&c.source==="server"?l.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Ah(a,u,{includeMetadataChanges:!0,Fa:!0});return jT(s,h)}(yield Wy(n),n.asyncQueue,e,t,r)})),r.promise}function YV(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var CL=new Map;function QV(n,e,t){if(!t)throw new K(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kQ(n,e,t,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TL(n){if(!te.isDocumentKey(n))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SL(n){if(te.isDocumentKey(n))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function av(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee(12329,{type:typeof n})}function Ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=av(n);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var XV="firestore.googleapis.com",xL=!0,qy=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XV,this.ssl=xL}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:xL;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zY)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Kl=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LD;switch(r.type){case"firstParty":return new UD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=CL.get(t);r&&(X("ComponentProvider","Removing Datastore"),CL.delete(t),r.terminate())}(this),Promise.resolve()}};function ZV(n,e,t,r={}){var i;let s=(n=Ln(n,Kl))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==XV&&s.host!==a&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Pi(c,o)&&(n._setSettings(c),r.mockUserToken)){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Jt.MOCK_USER;else{l=n1(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Jt(h)}n._authCredentials=new VD(new vy(l,u))}}var za=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},fn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},So=class n extends za{constructor(e,t,r){super(e,t,tv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new te(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function cv(n,e,...t){if(n=ht(n),QV("collection","path",e),n instanceof Kl){let r=ct.fromString(e,...t);return SL(r),new So(n,null,r)}{if(!(n instanceof fn||n instanceof So))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ct.fromString(e,...t));return SL(r),new So(n.firestore,null,r)}}function Ga(n,e,...t){if(n=ht(n),arguments.length===1&&(e=by.newId()),QV("doc","path",e),n instanceof Kl){let r=ct.fromString(e,...t);return TL(r),new fn(n,null,new te(r))}{if(!(n instanceof fn||n instanceof So))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ct.fromString(e,...t));return TL(r),new fn(n.firestore,n instanceof So?n.converter:null,new te(r))}}var AL="AsyncQueue",Gy=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new xh(this,"async_queue_retry"),this.ju=()=>{let r=OD();r&&X(AL,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let t=OD();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let t=OD();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let t=new Mr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return E(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!eu(e))throw e;X(AL,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Is("INTERNAL UNHANDLED ERROR: ",ML(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);let i=JC.createAndSchedule(this,e,t,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&ee(47125,{ec:ML(this.Ku)})}verifyOperationInProgress(){}tc(){return E(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let t=this.Uu.indexOf(e);this.Uu.splice(t,1)}};function ML(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function RL(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Rr=class extends Kl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Gy,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Gy(e),this._firestoreClient=void 0,yield e}})}};function JV(n,e){let t=typeof n=="object"?n:xa(),r=typeof n=="string"?n:e||Dy,i=El(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=t1("firestore");s&&ZV(i,...s)}return i}function jh(n){if(n._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NQ(n),n._firestoreClient}function NQ(n){var e,t,r;let i=n._freezeSettings(),s=function(a,c,l,u){return new qD(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,YV(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new dT(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Yl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Dn.fromBase64String(e))}catch(t){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Wa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Rh=class{constructor(e){this._methodName=e}};var Ph=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var kh=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var OQ=/^__.*__$/,hT=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new $a(e,this.data,t,this.fieldTransforms)}},Ky=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function e2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{oc:n})}}var fT=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Qy(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(e2(this.oc)&&OQ.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},pT=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||iv(e)}dc(e,t,r,i=!1){return new fT({oc:e,methodName:t,Ec:r,path:ur.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Bh(n){let e=n._freezeSettings(),t=iv(n._databaseId);return new pT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WT(n,e,t,r,i,s={}){let o=n.dc(s.merge||s.mergeFields?2:0,e,t,i);qT("Data must be an object, but it was:",o,r);let a=r2(r,o),c,l;if(s.merge)c=new Ar(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let h of s.mergeFields){let f=gT(e,h,t);if(!o.contains(f))throw new K(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);s2(u,f)||u.push(f)}c=new Ar(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new hT(new Yn(a),c,l)}var Yy=class n extends Rh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function t2(n,e,t,r){let i=n.dc(1,e,t);qT("Data must be an object, but it was:",i,r);let s=[],o=Yn.empty();Ro(r,(c,l)=>{let u=GT(e,c,t);l=ht(l);let h=i.hc(u);if(l instanceof Yy)s.push(u);else{let f=Uh(l,h);f!=null&&(s.push(u),o.set(u,f))}});let a=new Ar(s);return new Ky(o,a,i.fieldTransforms)}function n2(n,e,t,r,i,s){let o=n.dc(1,e,t),a=[gT(e,r,t)],c=[i];if(s.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(gT(e,s[f])),c.push(s[f+1]);let l=[],u=Yn.empty();for(let f=a.length-1;f>=0;--f)if(!s2(l,a[f])){let p=a[f],m=c[f];m=ht(m);let v=o.hc(p);if(m instanceof Yy)l.push(p);else{let _=Uh(m,v);_!=null&&(l.push(p),u.set(p,_))}}let h=new Ar(l);return new Ky(u,h,o.fieldTransforms)}function FQ(n,e,t,r=!1){return Uh(t,n.dc(r?4:3,e))}function Uh(n,e){if(i2(n=ht(n)))return qT("Unsupported field value:",e,n),r2(n,e);if(n instanceof Rh)return function(r,i){if(!e2(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Uh(a,i.Pc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Be.fromDate(r);return{timestampValue:Py(i.serializer,s)}}if(r instanceof Be){let s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Py(i.serializer,s)}}if(r instanceof Ph)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yl)return{bytesValue:CV(i.serializer,r._byteString)};if(r instanceof fn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:PT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kh)return function(o,a){return{mapValue:{fields:{[TT]:{stringValue:ST},[Ll]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return RT(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${av(r)}`)}(n,e)}function r2(n,e){let t={};return QL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(n,(r,i)=>{let s=Uh(i,e.uc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function i2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Be||n instanceof Ph||n instanceof Yl||n instanceof fn||n instanceof Rh||n instanceof kh)}function qT(n,e,t){if(!i2(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=av(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function gT(n,e,t){if((e=ht(e))instanceof Wa)return e._internalPath;if(typeof e=="string")return GT(n,e);throw Qy("Field path arguments must be of type string or ",n,!1,void 0,t)}var LQ=new RegExp("[~\\*/\\[\\]]");function GT(n,e,t){if(e.search(LQ)>=0)throw Qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wa(...e.split("."))._internalPath}catch{throw Qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qy(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new K(U.INVALID_ARGUMENT,a+n+c)}function s2(n,e){return n.some(t=>t.isEqual(e))}var Ql=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new mT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(KT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},mT=class extends Ql{data(){return super.data()}};function KT(n,e){return typeof e=="string"?GT(n,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}function o2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nh=class{},yT=class extends Nh{};function a2(n,e,...t){let r=[];e instanceof Nh&&r.push(e),r=r.concat(t),function(s){let o=s.filter(c=>c instanceof vT).length,a=s.filter(c=>c instanceof Xy).length;if(o>1||o>0&&a>0)throw new K(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Xy=class n extends yT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return l2(e._query,t),new za(e.firestore,e.converter,sC(e._query,t))}_parse(e){let t=Bh(e.firestore);return function(s,o,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){kL(h,u);let m=[];for(let v of h)m.push(PL(c,s,v));f={arrayValue:{values:m}}}else f=PL(c,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||kL(h,u),f=FQ(a,o,h,u==="in"||u==="not-in");return Ft.create(l,u,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function c2(n,e,t){let r=e,i=KT("where",n);return Xy._create(i,r,t)}var vT=class n extends Nh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ri.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)l2(o,c),o=sC(o,c)}(e._query,t),new za(e.firestore,e.converter,sC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function PL(n,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uV(e)&&t.indexOf("/")!==-1)throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ct.fromString(t));if(!te.isDocumentKey(r))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XF(n,new te(r))}if(t instanceof fn)return XF(n,t._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${av(t)}.`)}function kL(n,e){if(!Array.isArray(n)||n.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l2(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Zy=class{convertValue(e,t="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ro(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ll].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ft(o.doubleValue));return new kh(s)}convertGeoPoint(e){return new Ph(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ev(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Eh(e));default:return null}}convertTimestamp(e){let t=Ds(e);return new Be(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ct.fromString(e);Ne(PV(r),9688,{name:e});let i=new Cy(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(t)||Is(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function YT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var _T=class extends Zy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}};var To=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Oh=class extends Ql{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(KT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Nl=class extends Oh{data(e={}){return super.data(e)}},Jy=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new To(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nl(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Nl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Nl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:VQ(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function VQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:n})}}function lv(n){n=Ln(n,fn);let e=Ln(n.firestore,Rr);return RQ(jh(e),n._key).then(t=>p2(e,n,t))}var Xl=class extends Zy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}};function u2(n){n=Ln(n,za);let e=Ln(n.firestore,Rr),t=jh(e),r=new Xl(e);return o2(n._query),PQ(t,n._query).then(i=>new Jy(e,r,n,i))}function QT(n,e,t){n=Ln(n,fn);let r=Ln(n.firestore,Rr),i=YT(n.converter,e,t);return uv(r,[WT(Bh(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Fn.none())])}function d2(n,e,t,...r){n=Ln(n,fn);let i=Ln(n.firestore,Rr),s=Bh(i),o;return o=typeof(e=ht(e))=="string"||e instanceof Wa?n2(s,"updateDoc",n._key,e,t,r):t2(s,"updateDoc",n._key,e),uv(i,[o.toMutation(n._key,Fn.exists(!0))])}function h2(n){return uv(Ln(n.firestore,Rr),[new ql(n._key,Fn.none())])}function f2(n,e){let t=Ln(n.firestore,Rr),r=Ga(n),i=YT(n.converter,e);return uv(t,[WT(Bh(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}function XT(n,...e){var t,r,i;n=ht(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||RL(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(RL(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,l,u;if(n instanceof fn)l=Ln(n.firestore,Rr),u=tv(n._key.path),c={next:h=>{e[o]&&e[o](p2(l,n,h))},error:e[o+1],complete:e[o+2]};else{let h=Ln(n,za);l=Ln(h.firestore,Rr),u=h._query;let f=new Xl(l);c={next:p=>{e[o]&&e[o](new Jy(l,f,h,p))},error:e[o+1],complete:e[o+2]},o2(n._query)}return function(f,p,m,v){let _=new Mh(v),C=new Ah(p,_,m);return f.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return jT(yield Wy(f),C)})),()=>{_.yu(),f.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return BT(yield Wy(f),C)}))}}(jh(l),u,a,c)}function uv(n,e){return function(r,i){let s=new Mr;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return _Q(yield AQ(r),i,s)})),s.promise}(jh(n),e)}function p2(n,e,t){let r=t.docs.get(e._key),i=new Xl(n);return new Oh(n,i,e._key,r,new To(t.hasPendingWrites,t.fromCache),e.converter)}var jQ={maxAttempts:5};function ph(n,e){if((n=ht(n)).firestore!==e)throw new K(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var bT=class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bh(e)}get(e){let t=ph(e,this._firestore),r=new _T(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return ee(24041);let s=i[0];if(s.isFoundDocument())return new Ql(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Ql(this._firestore,r,t._key,null,t.converter);throw ee(18433,{doc:s})})}set(e,t,r){let i=ph(e,this._firestore),s=YT(i.converter,t,r),o=WT(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){let s=ph(e,this._firestore),o;return o=typeof(t=ht(t))=="string"||t instanceof Wa?n2(this._dataReader,"Transaction.update",s._key,t,r,i):t2(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){let t=ph(e,this._firestore);return this._transaction.delete(t._key),this}};var wT=class extends bT{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=ph(e,this._firestore),r=new Xl(this._firestore);return super.get(e).then(i=>new Oh(this._firestore,r,t._key,i._document,new To(!1,!1),t.converter))}};function g2(n,e,t){n=Ln(n,Rr);let r=Object.assign(Object.assign({},jQ),t);return function(s){if(s.maxAttempts<1)throw new K(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let c=new Mr;return s.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let l=yield MQ(s);new uT(s.asyncQueue,l,a,o,c).Nu()})),c.promise}(jh(n),i=>e(new wT(n,i)),r)}(function(e,t=!0){(function(i){Zl=i})(yo),ei(new On("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Rr(new jD(r.getProvider("auth-internal")),new $D(o,r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cy(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Et(UF,$F,e),Et(UF,$F,"esm2017")})();var dv=function(){return dv=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},dv.apply(this,arguments)};var $Q={includeMetadataChanges:!1};function m2(n,e){return e===void 0&&(e=$Q),new de(function(t){var r=XT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function y2(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:dv(dv({},r),(t={},t[e.idField]=n.id,t))}function v2(n){return m2(n,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function _2(n,e){return e===void 0&&(e={}),v2(n).pipe(ne(function(t){return t.map(function(r){return y2(r,e)})}))}var xs=class{constructor(e){return e}},b2="firestore",ZT=class{constructor(){return Dl(b2)}};var JT=new Y("angularfire2.firestore-instances");function HQ(n,e){let t=Xd(b2,n,e);return t&&new xs(t)}function zQ(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xs(r)}}var WQ={provide:ZT,deps:[[new Rn,JT]]},qQ={provide:xs,useFactory:HQ,deps:[[new Rn,JT],ti]};function w2(n,...e){return Et("angularfire",vo.full,"fst"),vr([qQ,WQ,{provide:JT,useFactory:zQ(n),multi:!0,deps:[xe,wt,_o,Ma,[new Rn,dh],[new Rn,Cl],...e]}])}var eS=zt(_2,!0);var nu=zt(f2,!0,2);var Po=zt(cv,!0,2);var $h=zt(h2,!0,2);var ru=zt(Ga,!0,2);var tS=zt(lv,!0);var fr=zt(u2,!0);var E2=zt(JV,!0);var ii=zt(a2,!0,2);var I2=zt(g2,!0);var D2=zt(d2,!0,2);var xt=zt(c2,!0,2);var C2=[{name:"Bench Press",description:"A barbell exercise that targets the pectoral muscles by pressing the weight upward from the chest.",muscleGroupWorked:1},{name:"Incline Dumbbell Press",description:"Performed on an incline bench to emphasize the upper chest using dumbbells.",muscleGroupWorked:1},{name:"Chest Fly",description:"Isolates the chest muscles using dumbbells or cables in a wide arc motion.",muscleGroupWorked:1},{name:"Deadlift",description:"A compound lift targeting the entire posterior chain including the lower back and upper back.",muscleGroupWorked:2},{name:"Lat Pulldown",description:"Targets the latissimus dorsi by pulling a cable bar down to the chest.",muscleGroupWorked:2},{name:"Bent Over Row",description:"A barbell or dumbbell movement that works the mid and upper back muscles.",muscleGroupWorked:2},{name:"Barbell Curl",description:"A classic biceps exercise performed by curling a barbell toward the chest.",muscleGroupWorked:3},{name:"Hammer Curl",description:"Uses a neutral grip to work both the biceps and the brachialis muscle.",muscleGroupWorked:3},{name:"Preacher Curl",description:"Isolates the biceps by resting arms on a pad and curling a bar or dumbbell.",muscleGroupWorked:3},{name:"Triceps Pushdown",description:"Performed on a cable machine to extend the arms and target the triceps.",muscleGroupWorked:4},{name:"Overhead Triceps Extension",description:"Dumbbell or cable movement targeting the long head of the triceps.",muscleGroupWorked:4},{name:"Close-Grip Bench Press",description:"A variation of the bench press with hands close together to emphasize triceps.",muscleGroupWorked:4},{name:"Back Squat",description:"A barbell squat that primarily targets the glutes and quads.",muscleGroupWorked:5},{name:"Leg Press",description:"A machine exercise that presses weight with the legs to build quad and glute strength.",muscleGroupWorked:5},{name:"Walking Lunge",description:"A dynamic movement targeting the quads and glutes with each step forward.",muscleGroupWorked:5},{name:"Romanian Deadlift",description:"Focuses on the hamstrings and glutes with minimal knee movement.",muscleGroupWorked:6},{name:"Leg Curl",description:"Isolates the hamstrings using a machine that curls the legs toward the body.",muscleGroupWorked:6},{name:"Standing Calf Raise",description:"Strengthens the calf muscles by raising the heels while standing.",muscleGroupWorked:6}];var iu=class n{constructor(){}firestore=F(xs);userCollection=Po(this.firestore,"users");exerciseCollection=Po(this.firestore,"exercises");dataCollection=Po(this.firestore,"data");setsCollection=Po(this.firestore,"sets");exerciseList;ngOnInit(){this.exerciseList=this.getAllExercises()}getExerciseSetDataForDay(e,t){return E(this,null,function*(){let r=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)),i=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),23,59,59,999)),s=ii(this.dataCollection,xt("userId","==",e),xt("date",">=",Be.fromDate(r)),xt("date","<=",Be.fromDate(i)));try{let o=yield fr(s),a=[];if(o.empty)return console.warn("No data documents found for userId:",e,"and day:",t),[];for(let c of o.docs){let l=c.data(),u=l.exerciseId,h=l.totalVolume,f=yield this.getExerciseById(u),p=ii(this.setsCollection,xt("dataId","==",c.id)),v=(yield fr(p)).docs.map(C=>C.data()),_={exercise:f,sets:v,totalVolume:h};a.push(_)}return a}catch(o){throw o}})}getExerciseById(e){return E(this,null,function*(){let t=ru(this.exerciseCollection,e),r=yield tS(t);if(r.exists())return z({id:r.id},r.data());throw new Error(`Exercise with ID ${e} not found`)})}addSetstoExerciseOnDay(e,t,r,i){return E(this,null,function*(){return yield I2(this.firestore,s=>E(this,null,function*(){let o=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)),a=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),23,59,59,999)),c=ii(this.dataCollection,xt("userId","==",e),xt("date",">=",Be.fromDate(o)),xt("date","<=",Be.fromDate(a))),l=yield fr(c),u,h;l.empty?(u=(yield nu(this.dataCollection,{userId:e,date:Be.fromDate(t),exerciseId:r,totalVolume:0})).id,h={data:()=>({totalVolume:0})}):(h=l.docs[0],u=h.id);let f=[],p=0;for(let v of i){let _=yield nu(this.setsCollection,{dataId:u,reps:v.numOfReps,weight:v.weight});f.push(_.id);let C=km(v.numOfReps);p+=Math.floor(v.numOfReps*v.weight*C)}let m=h.data().totalVolume+p;return s.update(ru(this.firestore,"data",u),{totalVolume:m}),f}))})}deleteExerciseWithSetsForDay(e,t,r){return E(this,null,function*(){let i=Po(this.firestore,"data"),s=Po(this.firestore,"sets"),o=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)),a=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),23,59,59,999)),c=ii(this.dataCollection,xt("userId","==",e),xt("date",">=",Be.fromDate(o)),xt("date","<=",Be.fromDate(a))),l=yield fr(c);if(l.empty)return;let h=l.docs[0].id,f=ii(s,xt("dataId","==",h)),m=(yield fr(f)).docs.map(v=>$h(ru(this.firestore,"sets",v.id)));yield Promise.all(m),yield $h(ru(this.firestore,"data",h)),console.log(`Deleted all sets and data for exercise ${r} on ${t.toDateString()}`)})}addExercise(e,t,r){return E(this,null,function*(){let i=Po(this.firestore,"exercises");return(yield nu(i,{name:e,muscleGroup:t,description:r})).id})}addExercisesFromJSON(){for(let e of C2)this.addExercise(e.name,e.muscleGroupWorked,e.description)}addThreeExerciseSets(e,t){return E(this,null,function*(){try{let r=yield fr(this.exerciseCollection),i=[];if(r.forEach(s=>{let o=s.data();i.push({id:s.id,name:o.name,description:o.description,muscleGroupWorked:o.muscleGroupWorked})}),i.length===0)throw new Error("No exercises found in Firestore!");for(let s=0;s<3;s++){let o=Math.floor(Math.random()*i.length),a=i[o].id,c=Math.floor(Math.random()*3)+2,l=[];for(let h=0;h<c;h++){let f=Math.floor(Math.random()*7)+6,p=Math.floor(Math.random()*81)+70;l.push({dataId:"",numOfReps:f,weight:p})}let u=yield this.addSetstoExerciseOnDay(e,t,a,l);console.log(`Exercise ${s+1} (Exercise ID: ${a}) added with ${c} sets and IDs: ${u}`)}}catch(r){throw r}})}addExerciseSetsForXDays(e,t,r){return E(this,null,function*(){for(let i=0;i<r;i++){let s=gs(t,i);yield this.addThreeExerciseSets(e,s)}})}getMuscleGroupsInDateRange(e,t,r){return E(this,null,function*(){let i=new Map,s=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)),o=new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),23,59,59,999)),a=ii(this.dataCollection,xt("userId","==",e),xt("date",">=",Be.fromDate(s)),xt("date","<=",Be.fromDate(o))),c=yield fr(a);(c==null||c.empty)&&console.error("Data returned by query is null or none");for(let l of c.docs){let u=l.data(),h=u.exerciseId,f=u.totalVolume,p=this.getExerciseById(h),m=ii(this.setsCollection,xt("dataId","==",l.id)),v=fr(m),_=yield p,x=(yield v).docs.map(B=>B.data()),N={exercise:_,sets:x,totalVolume:f},L=new Date(u.date).toISOString().split("T")[0];console.log(L),i.has(L)?i.get(L)?.push(N):i.set(L,[N])}return console.log("Got user data from: "+t.toISOString()+`
 To: `+r),console.log("Data: "),this.printMap(i),i})}getExerciseSetsInDateRange(e,t,r){return E(this,null,function*(){let i=[],s=fr(this.exerciseCollection);r.setUTCDate(r.getUTCDate()+1);let o=ii(this.dataCollection,xt("userId","==",e),xt("date",">=",Be.fromDate(t)),xt("date","<=",Be.fromDate(r)));console.log("Getting data from: "+t.toISOString()+" to: "+r.toISOString());let a=yield fr(o),c=[],l,u,h;for(let x of a.docs){let N=x.data();h=new Date(N.date.seconds*1e3);let j=h.toISOString().split("T")[0];l=N.exerciseId,u=N.totalVolume,c.push(x.id),i.push({id:x.id,date:j,totalVolume:u,exersiceId:l})}let f=10,p=[],m=[];for(let x=0;x<c.length;x++){let N=c[x];m.push(N),(m.length==f||x==c.length-1)&&(p.push(fr(ii(this.setsCollection,xt("dataId","in",m)))),m=[])}let v=[];for(let x of p)(yield x).docs.map(L=>{let B=L.data();return B.numOfReps=L.data().reps,B}).forEach(L=>v.push(L));let _=(yield s).docs.map(x=>{let N=x.data();return N.id=x.id,N}),C=new Map;for(let x of i){let N;for(let L of _)L.id==x.exersiceId&&(N=L);let j=[];for(let L of v)L.dataId==x.id&&j.push(L);C.has(x.date)||C.set(x.date,[]),N!=null?C.get(x.date)?.push({totalVolume:x.totalVolume,exercise:N,sets:j}):console.error("No Exercise for :"+x.date)}return C})}getAllExercises(){return eS(this.exerciseCollection,{idField:"id"})}getUsers(){return eS(this.userCollection,{idField:"id"})}printMap(e){let t=Object.fromEntries(e);console.log(JSON.stringify(t,null,2))}addExerciseData(e,t,r,i){return E(this,null,function*(){return(yield nu(this.dataCollection,{date:Be.fromDate(i),exerciseId:e,totalVolume:t,userId:r})).id})}addSetData(e,t){return E(this,null,function*(){let r=[];for(let i of e)r.push(nu(this.setsCollection,{dataId:t,reps:i.numOfReps,weight:i.weight}));for(let i of r)yield i})}deleteSets(e){return E(this,null,function*(){let t=e[0].dataId,r=ii(this.setsCollection,xt("dataId","==",t)),i=(yield fr(r)).docs.map(s=>{$h(s.ref)});for(let s of i)yield s})}deleteData(e){return E(this,null,function*(){let t=ru(this.firestore,"data",e.trim()),r=yield tS(t);r.exists()?$h(r.ref):console.log("Error data document does not exist: "+JSON.stringify(r.data()))})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var We=class n{auth=F(hn);firestore=F(xs);userCol=cv(this.firestore,"users");userSubject=new Bt(null);user=this.userSubject.asObservable();constructor(){LF(this.auth).pipe(vn(e=>e?je(this.getUserData(e.uid)):J(null))).subscribe(e=>{this.userSubject.next(e)})}ngOnInit(){}getUserId(){if(this.userSubject.value)return this.userSubject.value.id;throw new Error("No user signed in unable to get id.")}userSignedIn(){return this.userSubject.value!=null}getUserData(e){return E(this,null,function*(){let t=Ga(this.firestore,"users/"+e),r=yield lv(t),i=r.data();return i.id=r.id,console.log(JSON.stringify(i)),i})}register(e,t,r){return E(this,null,function*(){let s=(yield oy(this.auth,e,t)).user,o=Ga(this.firestore,"users",s.uid);return yield QT(o,{email:s.email,createdAt:new Date().toISOString(),fname:r.fname,lname:r.lname,units:r.units}),s})}saveUser(){return E(this,null,function*(){let e=yield ui(this.user);if(e!=null){let t=Ga(this.firestore,"users",e.id);D2(t,{fname:e.fname,lname:e.lname,units:e.units})}else console.error("Trying to save null user!")})}setUserUnits(e){return E(this,null,function*(){let t=yield ui(this.user);t!=null?(t.units=e,this.userSubject.next(t)):console.error("Trying to set units for null user!")})}getUserSync(){return this.userSubject.value}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qn=class n{constructor(e){this.router=e}dataMap=new Map;userId;fetchService=F(iu);authService=F(We);userIdReady=null;ngOnInit(){return E(this,null,function*(){let e="";try{e=yield this.ensureUserId()}catch{return}let t=new Date,r=new Date;r.setDate(t.getDate()-90),this.populateDateMap(r,t,e)})}ensureUserId(){return E(this,null,function*(){return this.userId?this.userId:(this.userIdReady||(this.userIdReady=E(this,null,function*(){let e=yield ui(this.authService.user);if(!e)throw this.router.navigate(["login-page"]),new Error("User not logged in");return this.userId=e.id,e.id})),this.userIdReady)})}resetDataMap(){this.dataMap=new Map}getExerciseSetsForDay(e,t){return E(this,null,function*(){let r=t??(yield this.ensureUserId());console.log(r);let i=e.toISOString().slice(0,10);if(this.dataMap.has(i))return Promise.resolve(this.dataMap.get(i));try{let s=yield this.fetchService.getExerciseSetDataForDay(r,e);return this.dataMap.set(i,s||[]),s||[]}catch(s){throw s}})}preloadMonthSets(e,t,r){return E(this,null,function*(){let i=r??(yield this.ensureUserId()),s=new Date(e,t,1),o=new Date(e,t+1,0),a=[];for(let c=new Date(s);c<=o;c.setDate(c.getDate()+1))a.push(new Date(c));yield Promise.all(a.map(c=>this.getExerciseSetsForDay(c,i)))})}getMuscleGroupsForDateRange(e,t){!this.dataMap.has(this.getDateString(e))||this.dataMap.has(this.getDateString(t));let r=new Map;for(;e<t;){let i=0;this.dataMap.get(this.getDateString(e))?.forEach(s=>{s==null?console.error("No set for :"+e.toString()):i=s.exercise.muscleGroup}),r.set(this.getDateString(e),i),e.setDate(e.getDate()+1)}return r}getDataInDateRange(e,t,r){return E(this,null,function*(){let i=r??(yield this.ensureUserId());return(!this.dataMap.has(this.getDateString(e))||!this.dataMap.has(this.getDateString(t)))&&(yield this.populateDateMap(e,t,i)),this.dataMap})}getAllExercises(){return this.fetchService.getAllExercises()}populateDateMap(e,t,r){return E(this,null,function*(){let i=r??(yield this.ensureUserId());console.log("Getting data from fetch service. "),this.dataMap=yield this.fetchService.getExerciseSetsInDateRange(i,e,t),console.log("Got data from fetch service. ")})}getDateString(e){return e.toISOString().split("T")[0]}addWorkout(e,t,r,i){return E(this,null,function*(){let s="";e.id.trim()==""?s=yield this.fetchService.addExercise(e.name,e.muscleGroup,e.description):s=e.id;let o=0;for(let c of t){let l=km(c.numOfReps);o+=Math.floor(c.numOfReps*c.weight*l)}let a=yield this.fetchService.addExerciseData(s,o,r,i);this.fetchService.addSetData(t,a)})}deleteExerciseSet(e){return E(this,null,function*(){if(e.sets.length==0)throw new Error("No sets in exercise set");let t=this.fetchService.deleteSets(e.sets),r=this.fetchService.deleteData(e.sets[0].dataId);yield t,yield r})}static \u0275fac=function(t){return new(t||n)(Z(Xe))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ui=class n{constructor(e,t){this.dataService=e;this.authService=t}test_user_id="3k7dINFrSssLj0qq8TqF";GetVolumeMuscleGroup(e,t){return E(this,null,function*(){let r=new Map([[1,0],[2,0],[3,0],[4,0],[5,0],[6,0]]);for(let i=new Date(e);i<=t;i=gs(i,1)){let s=yield this.dataService.getExerciseSetsForDay(i);if(s)for(let o of s){let a=o.exercise.muscleGroup,c=r.get(a)||0;r.set(a,c+o.totalVolume)}}return r})}GetVolumeExercise(e,t){return E(this,null,function*(){let r=new Map;for(let i=new Date(e);i<=t;i=gs(i,1)){let s=yield this.dataService.getExerciseSetsForDay(i);if(s)for(let o of s){let a=o.exercise.id,c=r.get(a);c?c.volume+=o.totalVolume:r.set(a,{exercise:o.exercise,volume:o.totalVolume})}}return r})}GetIntervalProgress(e,t,r){return E(this,null,function*(){let i={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},s={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},o={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},a={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},c={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},l={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},u=e;for(let f=0;f<r;f++){let p=gs(u,t),m=yield this.GetVolumeMuscleGroup(u,p);f==0&&(i.volumeFirstInterval=m.get(1)??0,s.volumeFirstInterval=m.get(2)??0,o.volumeFirstInterval=m.get(4)??0,a.volumeFirstInterval=m.get(3)??0,c.volumeFirstInterval=m.get(5)??0,l.volumeFirstInterval=m.get(6)??0,i.volumeMin=m.get(1)??0,s.volumeMin=m.get(2)??0,o.volumeMin=m.get(4)??0,a.volumeMin=m.get(3)??0,c.volumeMin=m.get(5)??0,l.volumeMin=m.get(6)??0,i.volumeMax=m.get(1)??0,s.volumeMax=m.get(2)??0,o.volumeMax=m.get(4)??0,a.volumeMax=m.get(3)??0,c.volumeMax=m.get(5)??0,l.volumeMax=m.get(6)??0),f==r-1&&(i.volumeLastInterval=m.get(1)??0,s.volumeLastInterval=m.get(2)??0,o.volumeLastInterval=m.get(4)??0,a.volumeLastInterval=m.get(3)??0,c.volumeLastInterval=m.get(5)??0,l.volumeLastInterval=m.get(6)??0),i.volumeMin=Math.min(m.get(1)??0,i.volumeMin),s.volumeMin=Math.min(m.get(2)??0,s.volumeMin),o.volumeMin=Math.min(m.get(4)??0,o.volumeMin),a.volumeMin=Math.min(m.get(3)??0,a.volumeMin),c.volumeMin=Math.min(m.get(5)??0,c.volumeMin),l.volumeMin=Math.min(m.get(6)??0,l.volumeMin),i.volumeMax=Math.max(m.get(1)??0,i.volumeMax),s.volumeMax=Math.max(m.get(2)??0,s.volumeMax),o.volumeMax=Math.max(m.get(4)??0,o.volumeMax),a.volumeMax=Math.max(m.get(3)??0,a.volumeMax),c.volumeMax=Math.max(m.get(5)??0,c.volumeMax),l.volumeMax=Math.max(m.get(6)??0,l.volumeMax),f<r-1&&(u=gs(p,1))}let h=new Map;return h.set(1,i),h.set(2,s),h.set(3,a),h.set(4,o),h.set(5,c),h.set(6,l),h})}static \u0275fac=function(t){return new(t||n)(Z(Qn),Z(We))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function YQ(n,e){if(n&1&&(R(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th"),k(5,"Muscle Group"),M(),R(6,"th"),k(7,"Volume Worked"),M()()(),R(8,"tbody")(9,"tr")(10,"td"),k(11,"Chest"),M(),R(12,"td"),k(13),Pt(14,"weightUnit"),M()(),R(15,"tr")(16,"td"),k(17,"Back"),M(),R(18,"td"),k(19),Pt(20,"weightUnit"),M()(),R(21,"tr")(22,"td"),k(23,"Biceps"),M(),R(24,"td"),k(25),Pt(26,"weightUnit"),M()(),R(27,"tr")(28,"td"),k(29,"Tricpes"),M(),R(30,"td"),k(31),Pt(32,"weightUnit"),M()(),R(33,"tr")(34,"td"),k(35,"Glutes/Quads"),M(),R(36,"td"),k(37),Pt(38,"weightUnit"),M()(),R(39,"tr")(40,"td"),k(41,"Hamstrings/Calves"),M(),R(42,"td"),k(43),Pt(44,"weightUnit"),M()()()()()),n&2){let t=pe();$(13),Qe(Qt(14,6,t.chestVolume,t.usinglbs)),$(6),Qe(Qt(20,9,t.backVolume,t.usinglbs)),$(6),Qe(Qt(26,12,t.bicepsVolume,t.usinglbs)),$(6),Qe(Qt(32,15,t.tricepsVolume,t.usinglbs)),$(6),Qe(Qt(38,18,t.glutesQuadsVolume,t.usinglbs)),$(6),Qe(Qt(44,21,t.hamstringsCalvesVolume,t.usinglbs))}}function QQ(n,e){n&1&&(R(0,"p",0),k(1,"Loading"),M())}var pv=class n{constructor(e){this.intervalService=e}startDate;endDate;usinglbs;volumeMuscleGroupMap=new Map;chestVolume=0;backVolume=0;bicepsVolume=0;tricepsVolume=0;glutesQuadsVolume=0;hamstringsCalvesVolume=0;isLoaded=!0;ngOnChanges(){this.loadData()}loadData(){return E(this,null,function*(){this.isLoaded=!1,this.volumeMuscleGroupMap=yield this.intervalService.GetVolumeMuscleGroup(this.startDate,this.endDate),this.chestVolume=this.volumeMuscleGroupMap.get(1)??0,this.backVolume=this.volumeMuscleGroupMap.get(2)??0,this.bicepsVolume=this.volumeMuscleGroupMap.get(3)??0,this.tricepsVolume=this.volumeMuscleGroupMap.get(4)??0,this.glutesQuadsVolume=this.volumeMuscleGroupMap.get(5)??0,this.hamstringsCalvesVolume=this.volumeMuscleGroupMap.get(6)??0,this.isLoaded=!0})}static \u0275fac=function(t){return new(t||n)(Q(Ui))};static \u0275cmp=be({type:n,selectors:[["app-volume-muscle-group"]],inputs:{startDate:"startDate",endDate:"endDate",usinglbs:"usinglbs"},features:[Gt],decls:4,vars:1,consts:[[1,"text-center"],[1,"d-flex","justify-content-center"],[1,"table-bordered","table-striped","table-hover","mt-3","mb-3"]],template:function(t,r){t&1&&(R(0,"h2",0),k(1,"Total Volume Performed for Muscle Group"),M(),Pe(2,YQ,45,24,"div",1)(3,QQ,2,0,"p",0)),t&2&&($(2),dt(r.isLoaded?2:3))},dependencies:[Ri],styles:["h2[_ngcontent-%COMP%]{font-size:3rem;color:#f0f0f0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#f0f0f0}"]})};var XQ=(n,e)=>e[0];function ZQ(n,e){n&1&&(R(0,"p",0),k(1,"Loading"),M())}function JQ(n,e){}function eX(n,e){if(n&1&&(R(0,"tr"),Pe(1,JQ,0,0),R(2,"td"),k(3),M(),R(4,"td"),k(5),Pt(6,"weightUnit"),M()()),n&2){let t=e.$implicit,r=pe(2);$(),dt(t?1:-1),$(2),Qe(t[1].exercise.name),$(2),Qe(Qt(6,3,t[1].volume,r.usinglbs))}}function tX(n,e){if(n&1&&(R(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th"),k(5,"Exercise"),M(),R(6,"th"),k(7,"Volume"),M()()(),R(8,"tbody"),kn(9,eX,7,6,"tr",null,XQ),M()()()),n&2){let t=pe();$(9),Nn(t.volumeExerciseMap.entries())}}function nX(n,e){n&1&&(R(0,"div",1)(1,"p",3),k(2,"Sorry, there are no exercises to show."),M()())}var gv=class n{constructor(e){this.intervalService=e}startDate;endDate;usinglbs;volumeExerciseMap=new Map;isLoaded=!0;ngOnChanges(){this.loadData()}loadData(){return E(this,null,function*(){this.isLoaded=!1,this.volumeExerciseMap=yield this.intervalService.GetVolumeExercise(this.startDate,this.endDate),this.isLoaded=!0})}static \u0275fac=function(t){return new(t||n)(Q(Ui))};static \u0275cmp=be({type:n,selectors:[["app-volume-exercise"]],inputs:{startDate:"startDate",endDate:"endDate",usinglbs:"usinglbs"},features:[Gt],decls:5,vars:1,consts:[[1,"text-center"],[1,"d-flex","justify-content-center"],[1,"table-bordered","table-striped","table-hover","mt-3","mb-3"],[1,"mt-3","mb-3","sorry-message"]],template:function(t,r){t&1&&(R(0,"h2",0),k(1,"Total Volume Performed For Exercise Worked"),M(),Pe(2,ZQ,2,0,"p",0)(3,tX,11,0,"div",1)(4,nX,3,0,"div",1)),t&2&&($(2),dt(r.isLoaded==!1?2:r.volumeExerciseMap.size?3:4))},dependencies:[Ri],styles:["h2[_ngcontent-%COMP%]{font-size:3rem;color:#f0f0f0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#f0f0f0}.sorry-message[_ngcontent-%COMP%]{font-size:2rem;color:#f0f0f0}p[_ngcontent-%COMP%]{color:#f0f0f0}"]})};function Wh(n){return n+.5|0}var ko=(n,e,t)=>Math.max(Math.min(n,t),e);function Hh(n){return ko(Wh(n*2.55),0,255)}function No(n){return ko(Wh(n*255),0,255)}function As(n){return ko(Wh(n/2.55)/100,0,1)}function T2(n){return ko(Wh(n*100),0,100)}var Pr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},iS=[..."0123456789ABCDEF"],rX=n=>iS[n&15],iX=n=>iS[(n&240)>>4]+iS[n&15],mv=n=>(n&240)>>4===(n&15),sX=n=>mv(n.r)&&mv(n.g)&&mv(n.b)&&mv(n.a);function oX(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Pr[n[1]]*17,g:255&Pr[n[2]]*17,b:255&Pr[n[3]]*17,a:e===5?Pr[n[4]]*17:255}:(e===7||e===9)&&(t={r:Pr[n[1]]<<4|Pr[n[2]],g:Pr[n[3]]<<4|Pr[n[4]],b:Pr[n[5]]<<4|Pr[n[6]],a:e===9?Pr[n[7]]<<4|Pr[n[8]]:255})),t}var aX=(n,e)=>n<255?e(n):"";function cX(n){var e=sX(n)?rX:iX;return n?"#"+e(n.r)+e(n.g)+e(n.b)+aX(n.a,e):void 0}var lX=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function M2(n,e,t){let r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function uX(n,e,t){let r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function dX(n,e,t){let r=M2(n,1,.5),i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function hX(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function sS(n){let t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2,c,l,u;return s!==o&&(u=s-o,l=a>.5?u/(2-s-o):u/(s+o),c=hX(t,r,i,u,s),c=c*60+.5),[c|0,l||0,a]}function oS(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(No)}function aS(n,e,t){return oS(M2,n,e,t)}function fX(n,e,t){return oS(dX,n,e,t)}function pX(n,e,t){return oS(uX,n,e,t)}function R2(n){return(n%360+360)%360}function gX(n){let e=lX.exec(n),t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Hh(+e[5]):No(+e[5]));let i=R2(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=fX(i,s,o):e[1]==="hsv"?r=pX(i,s,o):r=aS(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}function mX(n,e){var t=sS(n);t[0]=R2(t[0]+e),t=aS(t),n.r=t[0],n.g=t[1],n.b=t[2]}function yX(n){if(!n)return;let e=sS(n),t=e[0],r=T2(e[1]),i=T2(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${As(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}var S2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},x2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vX(){let n={},e=Object.keys(x2),t=Object.keys(S2),r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<t.length;i++)s=t[i],a=a.replace(s,S2[s]);s=parseInt(x2[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}var yv;function _X(n){yv||(yv=vX(),yv.transparent=[0,0,0,0]);let e=yv[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var bX=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wX(n){let e=bX.exec(n),t=255,r,i,s;if(e){if(e[7]!==r){let o=+e[7];t=e[8]?Hh(o):ko(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Hh(r):ko(r,0,255)),i=255&(e[4]?Hh(i):ko(i,0,255)),s=255&(e[6]?Hh(s):ko(s,0,255)),{r,g:i,b:s,a:t}}}function EX(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${As(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var rS=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,su=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function IX(n,e,t){let r=su(As(n.r)),i=su(As(n.g)),s=su(As(n.b));return{r:No(rS(r+t*(su(As(e.r))-r))),g:No(rS(i+t*(su(As(e.g))-i))),b:No(rS(s+t*(su(As(e.b))-s))),a:n.a+t*(e.a-n.a)}}function vv(n,e,t){if(n){let r=sS(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=aS(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function P2(n,e){return n&&Object.assign(e||{},n)}function A2(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=No(n[3]))):(e=P2(n,{r:0,g:0,b:0,a:1}),e.a=No(e.a)),e}function DX(n){return n.charAt(0)==="r"?wX(n):gX(n)}var zh=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,r;t==="object"?r=A2(e):t==="string"&&(r=oX(e)||_X(e)||DX(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=P2(this._rgb);return e&&(e.a=As(e.a)),e}set rgb(e){this._rgb=A2(e)}rgbString(){return this._valid?EX(this._rgb):void 0}hexString(){return this._valid?cX(this._rgb):void 0}hslString(){return this._valid?yX(this._rgb):void 0}mix(e,t){if(e){let r=this.rgb,i=e.rgb,s,o=t===s?.5:t,a=2*o-1,c=r.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,r.r=255&l*r.r+s*i.r+.5,r.g=255&l*r.g+s*i.g+.5,r.b=255&l*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=IX(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=No(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=Wh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return vv(this._rgb,2,e),this}darken(e){return vv(this._rgb,2,-e),this}saturate(e){return vv(this._rgb,1,e),this}desaturate(e){return vv(this._rgb,1,-e),this}rotate(e){return mX(this._rgb,e),this}};function ai(){}var dS=(()=>{let n=0;return()=>n++})();function ae(n){return n==null}function Ze(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function we(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function pt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function jn(n,e){return pt(n)?n:e}function oe(n,e){return typeof n>"u"?e:n}var hS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Cv=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ve(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Oe(n,e,t,r){let i,s,o;if(Ze(n))if(s=n.length,r)for(i=s-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<s;i++)e.call(t,n[i],i);else if(we(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function cu(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Gh(n){if(Ze(n))return n.map(Gh);if(we(n)){let e=Object.create(null),t=Object.keys(n),r=t.length,i=0;for(;i<r;++i)e[t[i]]=Gh(n[t[i]]);return e}return n}function $2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function H2(n,e,t,r){if(!$2(n))return;let i=e[n],s=t[n];we(i)&&we(s)?pr(i,s,r):e[n]=Gh(s)}function pr(n,e,t){let r=Ze(e)?e:[e],i=r.length;if(!we(n))return n;t=t||{};let s=t.merger||H2,o;for(let a=0;a<i;++a){if(o=r[a],!we(o))continue;let c=Object.keys(o);for(let l=0,u=c.length;l<u;++l)s(c[l],n,o,t)}return n}function Qa(n,e){return pr(n,e,{merger:z2})}function z2(n,e,t){if(!$2(n))return;let r=e[n],i=t[n];we(r)&&we(i)?Qa(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Gh(i))}var k2={"":n=>n,x:n=>n.x,y:n=>n.y};function W2(n){let e=n.split("."),t=[],r="";for(let i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function CX(n){let e=W2(n);return t=>{for(let r of e){if(r==="")break;t=t&&t[r]}return t}}function zi(n,e){return(k2[e]||(k2[e]=CX(e)))(n)}function Qh(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Xa=n=>typeof n<"u",$i=n=>typeof n=="function",Tv=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function fS(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Je=Math.PI,et=2*Je,q2=et+Je,Kh=Number.POSITIVE_INFINITY,G2=Je/180,yt=Je/2,Oo=Je/4,lS=Je*2/3,Hi=Math.log10,kr=Math.sign;function Za(n,e,t){return Math.abs(n-e)<t}function Sv(n){let e=Math.round(n);n=Za(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(Hi(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function pS(n){let e=[],t=Math.sqrt(n),r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function TX(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Lo(n){return!TX(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function gS(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function xv(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function gr(n){return n*(Je/180)}function Xh(n){return n*(180/Je)}function Av(n){if(!pt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Mv(n,e){let t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r),s=Math.atan2(r,t);return s<-.5*Je&&(s+=et),{angle:s,distance:i}}function Yh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function K2(n,e){return(n-e+q2)%et-Je}function Vn(n){return(n%et+et)%et}function Ja(n,e,t,r){let i=Vn(n),s=Vn(e),o=Vn(t),a=Vn(s-i),c=Vn(o-i),l=Vn(i-s),u=Vn(i-o);return i===s||i===o||r&&s===o||a>c&&l<u}function Lt(n,e,t){return Math.max(e,Math.min(t,n))}function mS(n){return Lt(n,-32768,32767)}function ci(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Zh(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}var si=(n,e,t,r)=>Zh(n,t,r?i=>{let s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),yS=(n,e,t)=>Zh(n,t,r=>n[r][e]>=t);function vS(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}var Y2=["push","pop","shift","splice","unshift"];function _S(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Y2.forEach(t=>{let r="_onData"+Qh(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){let o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Rv(n,e){let t=n._chartjs;if(!t)return;let r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Y2.forEach(s=>{delete n[s]}),delete n._chartjs)}function Pv(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var kv=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Nv(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,kv.call(window,()=>{r=!1,n.apply(e,t)}))}}function bS(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}var Jh=n=>n==="start"?"left":n==="end"?"right":"center",tn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,wS=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function Ov(n,e,t){let r=e.length,i=0,s=r;if(n._sorted){let{iScale:o,vScale:a,_parsed:c}=n,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(i=Math.min(si(c,u,h).lo,t?r:si(e,u,o.getPixelForValue(h)).lo),l){let v=c.slice(0,i+1).reverse().findIndex(_=>!ae(_[a.axis]));i-=Math.max(0,v)}i=Lt(i,0,r-1)}if(m){let v=Math.max(si(c,o.axis,f,!0).hi+1,t?0:si(e,u,o.getPixelForValue(f),!0).hi+1);if(l){let _=c.slice(v-1).findIndex(C=>!ae(C[a.axis]));v+=Math.max(0,_)}s=Lt(v,i,r)-i}else s=r-i}return{start:i,count:s}}function Fv(n){let{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;let s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}var _v=n=>n===0||n===1,N2=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*et/t)),O2=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*et/t)+1,Ka={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*yt)+1,easeOutSine:n=>Math.sin(n*yt),easeInOutSine:n=>-.5*(Math.cos(Je*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>_v(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>_v(n)?n:N2(n,.075,.3),easeOutElastic:n=>_v(n)?n:O2(n,.075,.3),easeInOutElastic(n){return _v(n)?n:n<.5?.5*N2(n*2,.1125,.45):.5+.5*O2(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ka.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ka.easeInBounce(n*2)*.5:Ka.easeOutBounce(n*2-1)*.5+.5};function Lv(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Vv(n){return Lv(n)?n:new zh(n)}function Iv(n){return Lv(n)?n:new zh(n).saturate(.5).darken(.1).hexString()}var SX=["x","y","borderWidth","radius","tension"],xX=["color","borderColor","backgroundColor"];function AX(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:xX},numbers:{type:"number",properties:SX}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function MX(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var F2=new Map;function RX(n,e){e=e||{};let t=n+JSON.stringify(e),r=F2.get(t);return r||(r=new Intl.NumberFormat(n,e),F2.set(t,r)),r}function ec(n,e,t){return RX(e,t).format(n)}var Q2={values(n){return Ze(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let r=this.chart.options.locale,i,s=n;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),s=PX(n,t)}let o=Hi(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),ec(n,r,c)},logarithmic(n,e,t){if(n===0)return"0";let r=t[e].significand||n/Math.pow(10,Math.floor(Hi(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?Q2.numeric.call(this,n,e,t):""}};function PX(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var ef={formatters:Q2};function kX(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ef.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Vo=Object.create(null),jv=Object.create(null);function qh(n,e){if(!e)return n;let t=e.split(".");for(let r=0,i=t.length;r<i;++r){let s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function cS(n,e,t){return typeof e=="string"?pr(qh(n,e),t):pr(qh(n,""),e)}var uS=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Iv(i.backgroundColor),this.hoverBorderColor=(r,i)=>Iv(i.borderColor),this.hoverColor=(r,i)=>Iv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return cS(this,e,t)}get(e){return qh(this,e)}describe(e,t){return cS(jv,e,t)}override(e,t){return cS(Vo,e,t)}route(e,t,r,i){let s=qh(this,e),o=qh(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[a],l=o[i];return we(c)?Object.assign({},l,c):oe(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}},tt=new uS({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[AX,MX,kX]);function X2(n){return!n||ae(n.size)||ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ou(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function ES(n,e,t,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let o=0,a=t.length,c,l,u,h,f;for(c=0;c<a;c++)if(h=t[c],h!=null&&!Ze(h))o=ou(n,i,s,o,h);else if(Ze(h))for(l=0,u=h.length;l<u;l++)f=h[l],f!=null&&!Ze(f)&&(o=ou(n,i,s,o,f));n.restore();let p=s.length/2;if(p>t.length){for(c=0;c<p;c++)delete i[s[c]];s.splice(0,p)}return o}function Rs(n,e,t){let r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Bv(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function tf(n,e,t,r){Uv(n,e,t,r,null)}function Uv(n,e,t,r,i){let s,o,a,c,l,u,h,f,p=e.pointStyle,m=e.rotation,v=e.radius,_=(m||0)*G2;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(_),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(v)||v<=0)){switch(n.beginPath(),p){default:i?n.ellipse(t,r,i/2,v,0,0,et):n.arc(t,r,v,0,et),n.closePath();break;case"triangle":u=i?i/2:v,n.moveTo(t+Math.sin(_)*u,r-Math.cos(_)*v),_+=lS,n.lineTo(t+Math.sin(_)*u,r-Math.cos(_)*v),_+=lS,n.lineTo(t+Math.sin(_)*u,r-Math.cos(_)*v),n.closePath();break;case"rectRounded":l=v*.516,c=v-l,o=Math.cos(_+Oo)*c,h=Math.cos(_+Oo)*(i?i/2-l:c),a=Math.sin(_+Oo)*c,f=Math.sin(_+Oo)*(i?i/2-l:c),n.arc(t-h,r-a,l,_-Je,_-yt),n.arc(t+f,r-o,l,_-yt,_),n.arc(t+h,r+a,l,_,_+yt),n.arc(t-f,r+o,l,_+yt,_+Je),n.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*v,u=i?i/2:c,n.rect(t-u,r-c,2*u,2*c);break}_+=Oo;case"rectRot":h=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+f,r-o),n.lineTo(t+h,r+a),n.lineTo(t-f,r+o),n.closePath();break;case"crossRot":_+=Oo;case"cross":h=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+f,r-o),n.lineTo(t-f,r+o);break;case"star":h=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+f,r-o),n.lineTo(t-f,r+o),_+=Oo,h=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+f,r-o),n.lineTo(t-f,r+o);break;case"line":o=i?i/2:Math.cos(_)*v,a=Math.sin(_)*v,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(_)*(i?i/2:v),r+Math.sin(_)*v);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function oi(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function lu(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function uu(n){n.restore()}function IS(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){let s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function DS(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function NX(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ae(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function OX(n,e,t,r,i){if(i.strikethrough||i.underline){let s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,l=t+s.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function FX(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ps(n,e,t,r,i,s={}){let o=Ze(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(n.save(),n.font=i.string,NX(n,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&FX(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),ae(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(l,t,r,s.maxWidth)),n.fillText(l,t,r,s.maxWidth),OX(n,t,r,l,s),r+=Number(i.lineHeight);n.restore()}function tc(n,e){let{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*Je,Je,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Je,yt,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,yt,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-yt,!0),n.lineTo(t+o.topLeft,r)}var LX=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,VX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Z2(n,e){let t=(""+n).match(LX);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var jX=n=>+n||0;function nf(n,e){let t={},r=we(e),i=r?Object.keys(e):e,s=we(n)?r?o=>oe(n[o],n[e[o]]):o=>n[o]:()=>n;for(let o of i)t[o]=jX(s(o));return t}function $v(n){return nf(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ks(n){return nf(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Vt(n){let e=$v(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vt(n,e){n=n||{},e=e||tt.font;let t=oe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=oe(n.style,e.style);r&&!(""+r).match(VX)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:oe(n.family,e.family),lineHeight:Z2(oe(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:oe(n.weight,e.weight),string:""};return i.string=X2(i),i}function qe(n,e,t,r){let i=!0,s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),t!==void 0&&Ze(a)&&(a=a[t%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function CS(n,e,t){let{min:r,max:i}=n,s=Cv(e,(i-r)/2),o=(a,c)=>t&&a===0?0:a+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Wi(n,e){return Object.assign(Object.create(n),e)}function rf(n,e=[""],t,r,i=()=>n[0]){let s=t||n;typeof r>"u"&&(r=tj("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>rf([a,...n],e,s,r)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return J2(a,c,()=>GX(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return V2(a).includes(c)},ownKeys(a){return V2(a)},set(a,c,l){let u=a._storage||(a._storage=i());return a[c]=u[c]=l,delete a._keys,!0}})}function Fo(n,e,t,r){let i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Hv(n,r),setContext:s=>Fo(n,s,t,r),override:s=>Fo(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return J2(s,o,()=>UX(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function Hv(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:$i(t)?t:()=>t,isIndexable:$i(r)?r:()=>r}}var BX=(n,e)=>n?n+Qh(e):e,TS=(n,e)=>we(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function J2(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let r=t();return n[e]=r,r}function UX(n,e,t){let{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n,a=r[e];return $i(a)&&o.isScriptable(e)&&(a=$X(e,a,n,t)),Ze(a)&&a.length&&(a=HX(e,a,n,o.isIndexable)),TS(e,a)&&(a=Fo(a,i,s&&s[e],o)),a}function $X(n,e,t,r){let{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(s,o||r);return a.delete(n),TS(n,c)&&(c=SS(i._scopes,i,n,c)),c}function HX(n,e,t,r){let{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(we(e[0])){let c=e,l=i._scopes.filter(u=>u!==c);e=[];for(let u of c){let h=SS(l,i,n,u);e.push(Fo(h,s,o&&o[n],a))}}return e}function ej(n,e,t){return $i(n)?n(e,t):n}var zX=(n,e)=>n===!0?e:typeof n=="string"?zi(e,n):void 0;function WX(n,e,t,r,i){for(let s of e){let o=zX(t,s);if(o){n.add(o);let a=ej(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function SS(n,e,t,r){let i=e._rootScopes,s=ej(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let c=L2(a,o,t,s||t,r);return c===null||typeof s<"u"&&s!==t&&(c=L2(a,o,s,c,r),c===null)?!1:rf(Array.from(a),[""],i,s,()=>qX(e,t,r))}function L2(n,e,t,r,i){for(;t;)t=WX(n,e,t,r,i);return t}function qX(n,e,t){let r=n._getTarget();e in r||(r[e]={});let i=r[e];return Ze(i)&&we(t)?t:i||{}}function GX(n,e,t,r){let i;for(let s of e)if(i=tj(BX(s,n),t),typeof i<"u")return TS(n,i)?SS(t,r,n,i):i}function tj(n,e){for(let t of e){if(!t)continue;let r=t[n];if(typeof r<"u")return r}}function V2(n){let e=n._keys;return e||(e=n._keys=KX(n._scopes)),e}function KX(n){let e=new Set;for(let t of n)for(let r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function zv(n,e,t,r){let{iScale:i}=n,{key:s="r"}=this._parsing,o=new Array(r),a,c,l,u;for(a=0,c=r;a<c;++a)l=a+t,u=e[l],o[a]={r:i.parse(zi(u,s),l)};return o}var YX=Number.EPSILON||1e-14,au=(n,e)=>e<n.length&&!n[e].skip&&n[e],nj=n=>n==="x"?"y":"x";function rj(n,e,t,r){let i=n.skip?e:n,s=e,o=t.skip?e:t,a=Yh(s,i),c=Yh(o,s),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let h=r*l,f=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function QX(n,e,t){let r=n.length,i,s,o,a,c,l=au(n,0);for(let u=0;u<r-1;++u)if(c=l,l=au(n,u+1),!(!c||!l)){if(Za(e[u],0,YX)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=s*o*e[u])}}function XX(n,e,t="x"){let r=nj(t),i=n.length,s,o,a,c=au(n,0);for(let l=0;l<i;++l){if(o=a,a=c,c=au(n,l+1),!a)continue;let u=a[t],h=a[r];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${r}`]=h-s*e[l]),c&&(s=(c[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${r}`]=h+s*e[l])}}function ij(n,e="x"){let t=nj(e),r=n.length,i=Array(r).fill(0),s=Array(r),o,a,c,l=au(n,0);for(o=0;o<r;++o)if(a=c,c=l,l=au(n,o+1),!!c){if(l){let u=l[e]-c[e];i[o]=u!==0?(l[t]-c[t])/u:0}s[o]=a?l?kr(i[o-1])!==kr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}QX(n,i,s),XX(n,s,e)}function bv(n,e,t){return Math.max(Math.min(n,t),e)}function ZX(n,e){let t,r,i,s,o,a=oi(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&oi(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=bv(i.cp1x,e.left,e.right),i.cp1y=bv(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=bv(i.cp2x,e.left,e.right),i.cp2y=bv(i.cp2y,e.top,e.bottom)))}function xS(n,e,t,r,i){let s,o,a,c;if(e.spanGaps&&(n=n.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")ij(n,i);else{let l=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],c=rj(l,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&ZX(n,t)}function sf(){return typeof window<"u"&&typeof document<"u"}function of(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Dv(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}var Wv=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function sj(n,e){return Wv(n).getPropertyValue(e)}var JX=["top","right","bottom","left"];function Ya(n,e,t){let r={};t=t?"-"+t:"";for(let i=0;i<4;i++){let s=JX[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var eZ=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function tZ(n,e){let t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r,o=!1,a,c;if(eZ(i,s,n.target))a=i,c=s;else{let l=e.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Ns(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:r}=e,i=Wv(t),s=i.boxSizing==="border-box",o=Ya(i,"padding"),a=Ya(i,"border","width"),{x:c,y:l,box:u}=tZ(n,t),h=o.left+(u&&a.left),f=o.top+(u&&a.top),{width:p,height:m}=e;return s&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((c-h)/p*t.width/r),y:Math.round((l-f)/m*t.height/r)}}function nZ(n,e,t){let r,i;if(e===void 0||t===void 0){let s=n&&of(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{let o=s.getBoundingClientRect(),a=Wv(s),c=Ya(a,"border","width"),l=Ya(a,"padding");e=o.width-l.width-c.width,t=o.height-l.height-c.height,r=Dv(a.maxWidth,s,"clientWidth"),i=Dv(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Kh,maxHeight:i||Kh}}var wv=n=>Math.round(n*10)/10;function AS(n,e,t,r){let i=Wv(n),s=Ya(i,"margin"),o=Dv(i.maxWidth,n,"clientWidth")||Kh,a=Dv(i.maxHeight,n,"clientHeight")||Kh,c=nZ(n,e,t),{width:l,height:u}=c;if(i.boxSizing==="content-box"){let f=Ya(i,"border","width"),p=Ya(i,"padding");l-=p.width+f.width,u-=p.height+f.height}return l=Math.max(0,l-s.width),u=Math.max(0,r?l/r:u-s.height),l=wv(Math.min(l,o,c.maxWidth)),u=wv(Math.min(u,a,c.maxHeight)),l&&!u&&(u=wv(l/2)),(e!==void 0||t!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,l=wv(Math.floor(u*r))),{width:l,height:u}}function qv(n,e,t){let r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}var MS=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};sf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Gv(n,e){let t=sj(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ms(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function RS(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function PS(n,e,t,r){let i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Ms(n,i,t),a=Ms(i,s,t),c=Ms(s,e,t),l=Ms(o,a,t),u=Ms(a,c,t);return Ms(l,u,t)}var rZ=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},iZ=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function jo(n,e,t){return n?rZ(e,t):iZ()}function Kv(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Yv(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function oj(n){return n==="angle"?{between:Ja,compare:K2,normalize:Vn}:{between:ci,compare:(e,t)=>e-t,normalize:e=>e}}function j2({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function sZ(n,e,t){let{property:r,start:i,end:s}=t,{between:o,normalize:a}=oj(r),c=e.length,{start:l,end:u,loop:h}=n,f,p;if(h){for(l+=c,u+=c,f=0,p=c;f<p&&o(a(e[l%c][r]),i,s);++f)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:h,style:n.style}}function Qv(n,e,t){if(!t)return[n];let{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:c,normalize:l}=oj(r),{start:u,end:h,loop:f,style:p}=sZ(n,e,t),m=[],v=!1,_=null,C,x,N,j=()=>c(i,N,C)&&a(i,N)!==0,L=()=>a(s,C)===0||c(s,N,C),B=()=>v||j(),D=()=>!v||L();for(let w=u,I=u;w<=h;++w)x=e[w%o],!x.skip&&(C=l(x[r]),C!==N&&(v=c(C,i,s),_===null&&B()&&(_=a(C,i)===0?w:I),_!==null&&D()&&(m.push(j2({start:_,end:w,loop:f,count:o,style:p})),_=null),I=w,N=C));return _!==null&&m.push(j2({start:_,end:h,loop:f,count:o,style:p})),m}function Xv(n,e){let t=[],r=n.segments;for(let i=0;i<r.length;i++){let s=Qv(r[i],n.points,e);s.length&&t.push(...s)}return t}function oZ(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function aZ(n,e,t,r){let i=n.length,s=[],o=e,a=n[e],c;for(c=e+1;c<=t;++c){let l=n[c%i];l.skip||l.stop?a.skip||(r=!1,s.push({start:e%i,end:(c-1)%i,loop:r}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function kS(n,e){let t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];let s=!!n._loop,{start:o,end:a}=oZ(t,i,s,r);if(r===!0)return B2(n,[{start:o,end:a,loop:s}],t,e);let c=a<o?a+i:a,l=!!n._fullLoop&&o===0&&a===i-1;return B2(n,aZ(t,o,c,l),t,e)}function B2(n,e,t,r){return!r||!r.setContext||!t?e:cZ(n,e,t,r)}function cZ(n,e,t,r){let i=n._chart.getContext(),s=U2(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=t.length,l=[],u=s,h=e[0].start,f=h;function p(m,v,_,C){let x=a?-1:1;if(m!==v){for(m+=c;t[m%c].skip;)m-=x;for(;t[v%c].skip;)v+=x;m%c!==v%c&&(l.push({start:m%c,end:v%c,loop:_,style:C}),u=C,h=v%c)}}for(let m of e){h=a?h:m.start;let v=t[h%c],_;for(f=h+1;f<=m.end;f++){let C=t[f%c];_=U2(r.setContext(Wi(i,{type:"segment",p0:v,p1:C,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),lZ(_,u)&&p(h,f-1,m.loop,u),v=C,u=_}h<f-1&&p(h,f-1,m.loop,u)}return l}function U2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function lZ(n,e){if(!e)return!1;let t=[],r=function(i,s){return Lv(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Ev(n,e,t){return n.options.clip?n[t]:e[t]}function uZ(n,e){let{xScale:t,yScale:r}=n;return t&&r?{left:Ev(t,e,"left"),right:Ev(t,e,"right"),top:Ev(r,e,"top"),bottom:Ev(r,e,"bottom")}:e}function Zv(n,e){let t=e._clip;if(t.disabled)return!1;let r=uZ(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}var zS=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){let s=t.listeners[i],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=kv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let s=r.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Os=new zS,aj="transparent",dZ={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let r=Vv(n||aj),i=r.valid&&Vv(e||aj);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}},WS=class{constructor(e,t,r,i){let s=t[r];i=qe([e.to,i,s,e.from]);let o=qe([e.from,s,i]);this._active=!0,this._fn=e.fn||dZ[e.type||typeof o],this._easing=Ka[e.easing]||Ka.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=qe([e.to,t,i,e.from]),this._from=qe([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=s;return}c=t/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){let t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}},a_=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!we(e))return;let t=Object.keys(tt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let s=e[i];if(!we(s))return;let o={};for(let a of t)o[a]=s[a];(Ze(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){let r=t.options,i=fZ(e,r);if(!i)return[];let s=this._createAnimations(i,r);return r.$shared&&hZ(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){let r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(e,t));continue}let u=t[l],h=s[l],f=r.get(l);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[l]=u;continue}s[l]=h=new WS(f,e,l,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let r=this._createAnimations(e,t);if(r.length)return Os.add(this._chart,r),!0}};function hZ(n,e){let t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){let s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function fZ(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function cj(n,e){let t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function pZ(n,e,t){if(t===!1)return!1;let r=cj(n,t),i=cj(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function gZ(n){let e,t,r,i;return we(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function aB(n,e){let t=[],r=n._getSortedDatasetMetas(e),i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function lj(n,e,t,r={}){let i=n.keys,s=r.mode==="single",o,a,c,l;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===t){if(u=!0,r.all)continue;break}l=n.values[c],pt(l)&&(s||e===0||kr(e)===kr(l))&&(e+=l)}return!u&&!r.all?0:e}function mZ(n,e){let{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length),c,l,u;for(c=0,l=o.length;c<l;++c)u=o[c],a[c]={[i]:u,[s]:n[u]};return a}function NS(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function yZ(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function vZ(n){let{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function _Z(n,e,t){let r=n[e]||(n[e]={});return r[t]||(r[t]={})}function uj(n,e,t,r){for(let i of e.getMatchingVisibleMetas(r).reverse()){let s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function dj(n,e){let{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,l=o.axis,u=yZ(s,o,r),h=e.length,f;for(let p=0;p<h;++p){let m=e[p],{[c]:v,[l]:_}=m,C=m._stacks||(m._stacks={});f=C[l]=_Z(i,u,v),f[a]=_,f._top=uj(f,o,!0,r.type),f._bottom=uj(f,o,!1,r.type);let x=f._visualValues||(f._visualValues={});x[a]=_}}function OS(n,e){let t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function bZ(n,e){return Wi(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function wZ(n,e,t){return Wi(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function af(n,e){let t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(let i of e){let s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}var FS=n=>n==="reset"||n==="none",hj=(n,e)=>e?n:Object.assign({},n),EZ=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:aB(t,!0),values:null},Uo=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=NS(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&af(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(f,p,m,v)=>f==="x"?p:f==="r"?v:m,o=r.xAxisID=oe(i.xAxisID,OS(t,"x")),a=r.yAxisID=oe(i.yAxisID,OS(t,"y")),c=r.rAxisID=oe(i.rAxisID,OS(t,"r")),l=r.indexAxis,u=r.iAxisID=s(l,o,a,c),h=r.vAxisID=s(l,a,o,c);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Rv(this._data,this),t._stacked&&af(t)}_dataCheck(){let t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(we(r)){let s=this._cachedMeta;this._data=mZ(r,s)}else if(i!==r){if(i){Rv(i,this);let s=this._cachedMeta;af(s),s._parsed=[]}r&&Object.isExtensible(r)&&_S(r,this),this._syncList=[],this._data=r}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let r=this._cachedMeta,i=this.getDataset(),s=!1;this._dataCheck();let o=r._stacked;r._stacked=NS(r.vScale,r),r.stack!==i.stack&&(s=!0,af(r),r.stack=i.stack),this._resyncElements(t),(s||o!==r._stacked)&&(dj(this,r._parsed),r._stacked=NS(r.vScale,r))}configure(){let t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){let{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,c=o.axis,l=t===0&&r===s.length?!0:i._sorted,u=t>0&&i._parsed[t-1],h,f,p;if(this._parsing===!1)i._parsed=s,i._sorted=!0,p=s;else{Ze(s[t])?p=this.parseArrayData(i,s,t,r):we(s[t])?p=this.parseObjectData(i,s,t,r):p=this.parsePrimitiveData(i,s,t,r);let m=()=>f[c]===null||u&&f[c]<u[c];for(h=0;h<r;++h)i._parsed[h+t]=f=p[h],l&&(m()&&(l=!1),u=f);i._sorted=l}a&&dj(this,p)}parsePrimitiveData(t,r,i,s){let{iScale:o,vScale:a}=t,c=o.axis,l=a.axis,u=o.getLabels(),h=o===a,f=new Array(s),p,m,v;for(p=0,m=s;p<m;++p)v=p+i,f[p]={[c]:h||o.parse(u[v],v),[l]:a.parse(r[v],v)};return f}parseArrayData(t,r,i,s){let{xScale:o,yScale:a}=t,c=new Array(s),l,u,h,f;for(l=0,u=s;l<u;++l)h=l+i,f=r[h],c[l]={x:o.parse(f[0],h),y:a.parse(f[1],h)};return c}parseObjectData(t,r,i,s){let{xScale:o,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(s),h,f,p,m;for(h=0,f=s;h<f;++h)p=h+i,m=r[p],u[h]={x:o.parse(zi(m,c),p),y:a.parse(zi(m,l),p)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){let s=this.chart,o=this._cachedMeta,a=r[t.axis],c={keys:aB(s,!0),values:r._stacks[t.axis]._visualValues};return lj(c,a,o.index,{mode:i})}updateRangeFromParsed(t,r,i,s){let o=i[r.axis],a=o===null?NaN:o,c=s&&i._stacks[r.axis];s&&c&&(s.values=c,a=lj(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){let i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,a=s.length,c=this._getOtherScale(t),l=EZ(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=vZ(c),p,m;function v(){m=s[p];let _=m[c.axis];return!pt(m[t.axis])||h>_||f<_}for(p=0;p<a&&!(!v()&&(this.updateRangeFromParsed(u,t,m,l),o));++p);if(o){for(p=a-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(u,t,m,l);break}}return u}getAllParsedValues(t){let r=this._cachedMeta._parsed,i=[],s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][t.axis],pt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){let r=this._cachedMeta;this.update(t||"default"),r._clip=gZ(oe(this.options.clip,pZ(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,r=this.chart,i=this._cachedMeta,s=i.data||[],o=r.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,u=this.options.drawActiveElementsOnTop,h;for(i.dataset&&i.dataset.draw(t,o,c,l),h=c;h<c+l;++h){let f=s[h];f.hidden||(f.active&&u?a.push(f):f.draw(t,o))}for(h=0;h<a.length;++h)a[h].draw(t,o)}getStyle(t,r){let i=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){let s=this.getDataset(),o;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];o=a.$context||(a.$context=wZ(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=bZ(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){let s=r==="active",o=this._cachedDataOpts,a=t+"-"+r,c=o[a],l=this.enableOptionSharing&&Xa(i);if(c)return hj(c,l);let u=this.chart.config,h=u.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],p=u.getOptionScopes(this.getDataset(),h),m=Object.keys(tt.elements[t]),v=()=>this.getContext(i,s,r),_=u.resolveNamedOptions(p,m,v,f);return _.$shared&&(_.$shared=l,o[a]=Object.freeze(hj(_,l))),_}_resolveAnimations(t,r,i){let s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,r),p=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(p,this.getContext(t,i,r))}let u=new a_(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||FS(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){let i=this.resolveDataElementOptions(t,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(t,r,i,s){FS(s)?Object.assign(t,i):this._resolveAnimations(r,s).update(t,i)}updateSharedOptions(t,r,i){t&&!FS(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,s){t.active=s;let o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let r=this._data,i=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,r,i=!0){let s=this._cachedMeta,o=s.data,a=t+r,c,l=u=>{for(u.length+=r,c=u.length-1;c>=a;c--)u[c]=u[c-r]};for(l(o),c=t;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,r),i&&this.updateElements(o,t,r,"reset")}updateElements(t,r,i,s){}_removeElements(t,r){let i=this._cachedMeta;if(this._parsing){let s=i._parsed.splice(t,r);i._stacked&&af(i,s)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[r,i,s]=t;this[r](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function IZ(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=Pv(r.sort((i,s)=>i-s))}return n._cache.$bar}function DZ(n){let e=n.iScale,t=IZ(e,n.type),r=e._length,i,s,o,a,c=()=>{o===32767||o===-32768||(Xa(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),c();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),c();return r}function CZ(n,e,t,r){let i=t.barThickness,s,o;return ae(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[n]-s/2}}function TZ(n,e,t,r){let i=e.pixels,s=i[n],o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null,c=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/r,ratio:t.barPercentage,start:l}}function SZ(n,e,t,r){let i=t.parse(n[0],r),s=t.parse(n[1],r),o=Math.min(i,s),a=Math.max(i,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[t.axis]=l,e._custom={barStart:c,barEnd:l,start:i,end:s,min:o,max:a}}function cB(n,e,t,r){return Ze(n)?SZ(n,e,t,r):e[t.axis]=t.parse(n,r),e}function fj(n,e,t,r){let i=n.iScale,s=n.vScale,o=i.getLabels(),a=i===s,c=[],l,u,h,f;for(l=t,u=t+r;l<u;++l)f=e[l],h={},h[i.axis]=a||i.parse(o[l],l),c.push(cB(f,h,s,l));return c}function LS(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function xZ(n,e,t){return n!==0?kr(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function AZ(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function MZ(n,e,t,r){let i=e.borderSkipped,s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:u}=AZ(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=l:(t._bottom||0)===r?i=u:(s[pj(u,o,a,c)]=!0,i=l)),s[pj(i,o,a,c)]=!0,n.borderSkipped=s}function pj(n,e,t,r){return r?(n=RZ(n,e,t),n=gj(n,t,e)):n=gj(n,e,t),n}function RZ(n,e,t){return n===e?t:n===t?e:n}function gj(n,e,t){return n==="start"?e:n==="end"?t:n}function PZ(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var kZ=(()=>{class n extends Uo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,i,s){return fj(t,r,i,s)}parseArrayData(t,r,i,s){return fj(t,r,i,s)}parseObjectData(t,r,i,s){let{iScale:o,vScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=o.axis==="x"?c:l,h=a.axis==="x"?c:l,f=[],p,m,v,_;for(p=i,m=i+s;p<m;++p)_=r[p],v={},v[o.axis]=o.parse(zi(_,u),p),f.push(cB(zi(_,h),v,a,p));return f}updateRangeFromParsed(t,r,i,s){super.updateRangeFromParsed(t,r,i,s);let o=i._custom;o&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let r=this._cachedMeta,{iScale:i,vScale:s}=r,o=this.getParsed(t),a=o._custom,c=LS(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(r,s);for(let m=r;m<r+i;m++){let v=this.getParsed(m),_=o||ae(v[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),C=this._calculateBarIndexPixels(m,h),x=(v._stacks||{})[c.axis],N={horizontal:u,base:_.base,enableBorderRadius:!x||LS(v._custom)||a===x._top||a===x._bottom,x:u?_.head:C.center,y:u?C.center:_.head,height:u?C.size:Math.abs(_.size),width:u?Math.abs(_.size):C.size};p&&(N.options=f||this.resolveDataElementOptions(m,t[m].active?"active":s));let j=N.options||t[m].options;MZ(N,j,x,a),PZ(N,j,h.ratio),this.updateElement(t[m],m,N,s)}}_getStacks(t,r){let{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),o=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(r),l=c&&c[i.axis],u=h=>{let f=h._parsed.find(m=>m[i.axis]===l),p=f&&f[h.vScale.axis];if(ae(p)||isNaN(p))return!0};for(let h of s)if(!(r!==void 0&&u(h))&&((o===!1||a.indexOf(h.stack)===-1||o===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,i){let s=this._getStacks(t,i),o=r!==void 0?s.indexOf(r):-1;return o===-1?s.length-1:o}_getRuler(){let t=this.options,r=this._cachedMeta,i=r.iScale,s=[],o,a;for(o=0,a=r.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));let c=t.barThickness;return{min:c||DZ(r),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:r,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(t),u=l._custom,h=LS(u),f=l[r.axis],p=0,m=i?this.applyStack(r,l,i):f,v,_;m!==f&&(p=m-f,m=f),h&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&kr(f)!==kr(u.barEnd)&&(p=0),p+=f);let C=!ae(o)&&!h?o:p,x=r.getPixelForValue(C);if(this.chart.getDataVisibility(t)?v=r.getPixelForValue(p+m):v=x,_=v-x,Math.abs(_)<a){_=xZ(_,r,c)*a,f===c&&(x-=_/2);let N=r.getPixelForDecimal(0),j=r.getPixelForDecimal(1),L=Math.min(N,j),B=Math.max(N,j);x=Math.max(Math.min(x,B),L),v=x+_,i&&!h&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(v)-r.getValueForPixel(x))}if(x===r.getPixelForValue(c)){let N=kr(_)*r.getLineWidthForValue(c)/2;x+=N,_-=N}return{size:_,base:x,head:v,center:v+_/2}}_calculateBarIndexPixels(t,r){let i=r.scale,s=this.options,o=s.skipNull,a=oe(s.maxBarThickness,1/0),c,l;if(r.grouped){let u=o?this._getStackCount(t):r.stackCount,h=s.barThickness==="flex"?TZ(t,r,s,u):CZ(t,r,s,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);c=h.start+h.chunk*f+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,r=t.vScale,i=t.data,s=i.length,o=0;for(;o<s;++o)this.getParsed(o)[r.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}return n})(),NZ=(()=>{class n extends Uo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,s){let o=super.parsePrimitiveData(t,r,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(t,r,i,s){let o=super.parseArrayData(t,r,i,s);for(let a=0;a<o.length;a++){let c=r[i+a];o[a]._custom=oe(c[2],this.resolveDataElementOptions(a+i).radius)}return o}parseObjectData(t,r,i,s){let o=super.parseObjectData(t,r,i,s);for(let a=0;a<o.length;a++){let c=r[i+a];o[a]._custom=oe(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){let t=this._cachedMeta.data,r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(t),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),u=a._custom;return{label:i[t]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(t){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(r,s),h=a.axis,f=c.axis;for(let p=r;p<r+i;p++){let m=t[p],v=!o&&this.getParsed(p),_={},C=_[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(v[h]),x=_[f]=o?c.getBasePixel():c.getPixelForValue(v[f]);_.skip=isNaN(C)||isNaN(x),u&&(_.options=l||this.resolveDataElementOptions(p,m.active?"active":s),o&&(_.options.radius=0)),this.updateElement(m,p,_,s)}}resolveDataElementOptions(t,r){let i=this.getParsed(t),s=super.resolveDataElementOptions(t,r);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return r!=="active"&&(s.radius=0),s.radius+=oe(i&&i._custom,o),s}}return n})();function OZ(n,e,t){let r=1,i=1,s=0,o=0;if(e<et){let a=n,c=a+e,l=Math.cos(a),u=Math.sin(a),h=Math.cos(c),f=Math.sin(c),p=(N,j,L)=>Ja(N,a,c,!0)?1:Math.max(j,j*t,L,L*t),m=(N,j,L)=>Ja(N,a,c,!0)?-1:Math.min(j,j*t,L,L*t),v=p(0,l,h),_=p(yt,u,f),C=m(Je,l,h),x=m(Je+yt,u,f);r=(v-C)/2,i=(_-x)/2,s=-(v+C)/2,o=-(_+x)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}var cx=(()=>{class n extends Uo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:s}}=t.legend.options;return r.labels.map((o,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){let i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=l=>+i[l];if(we(i[t])){let{key:l="value"}=this._parsing;o=u=>+zi(i[u],l)}let a,c;for(a=t,c=t+r;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return gr(this.options.rotation-90)}_getCircumference(){return gr(this.options.circumference)}_getRotationExtents(){let t=et,r=-et;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),r=Math.max(r,o+a)}return{rotation:t,circumference:r-t}}update(t){let r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(hS(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:v,offsetY:_}=OZ(f,h,l),C=(i.width-a)/p,x=(i.height-a)/m,N=Math.max(Math.min(C,x)/2,0),j=Cv(this.options.radius,N),L=Math.max(j*l,0),B=(j-L)/this._getVisibleDatasetWeightTotal();this.offsetX=v*j,this.offsetY=_*j,s.total=this.calculateTotal(),this.outerRadius=j-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*u,0),this.updateElements(o,0,o.length,t)}_circumference(t,r){let i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/et)}updateElements(t,r,i,s){let o=s==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,h=(c.left+c.right)/2,f=(c.top+c.bottom)/2,p=o&&u.animateScale,m=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:_,includeOptions:C}=this._getSharedOptions(r,s),x=this._getRotation(),N;for(N=0;N<r;++N)x+=this._circumference(N,o);for(N=r;N<r+i;++N){let j=this._circumference(N,o),L=t[N],B={x:h+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+j,circumference:j,outerRadius:v,innerRadius:m};C&&(B.options=_||this.resolveDataElementOptions(N,L.active?"active":s)),x+=j,this.updateElement(L,N,B,s)}}calculateTotal(){let t=this._cachedMeta,r=t.data,i=0,s;for(s=0;s<r.length;s++){let o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){let r=this._cachedMeta.total;return r>0&&!isNaN(t)?et*(Math.abs(t)/r):0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=ec(r._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let r=0,i=this.chart,s,o,a,c,l;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),t=a.data,c=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,s=t.length;i<s;++i){let o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(oe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),_f=(()=>{class n extends Uo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let r=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=r,a=this.chart._animationsDisabled,{start:c,count:l}=Ov(r,s,a);this._drawStart=c,this._drawCount=l,Fv(r)&&(c=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},t),this.updateElements(s,c,l,t)}updateElements(t,r,i,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,s),p=a.axis,m=c.axis,{spanGaps:v,segment:_}=this.options,C=Lo(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||s==="none",N=r+i,j=t.length,L=r>0&&this.getParsed(r-1);for(let B=0;B<j;++B){let D=t[B],w=x?D:{};if(B<r||B>=N){w.skip=!0;continue}let I=this.getParsed(B),S=ae(I[m]),A=w[p]=a.getPixelForValue(I[p],B),P=w[m]=o||S?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,I,l):I[m],B);w.skip=isNaN(A)||isNaN(P)||S,w.stop=B>0&&Math.abs(I[p]-L[p])>C,_&&(w.parsed=I,w.raw=u.data[B]),f&&(w.options=h||this.resolveDataElementOptions(B,D.active?"active":s)),x||this.updateElement(D,B,w,s),L=I}}getMaxOverflow(){let t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,s=t.data||[];if(!s.length)return i;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),lB=(()=>{class n extends Uo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:s}}=t.legend.options;return r.labels.map((o,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=ec(r._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,r,i,s){return zv.bind(this)(t,r,i,s)}update(t){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){let t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<r.min&&(r.min=o),o>r.max&&(r.max=o))}),r}_updateRadius(){let t=this.chart,r=t.chartArea,i=t.options,s=Math.min(r.right-r.left,r.bottom-r.top),o=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),c=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,r,i,s){let o=s==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*Je,m=p,v,_=360/this.countVisibleElements();for(v=0;v<r;++v)m+=this._computeAngle(v,s,_);for(v=r;v<r+i;v++){let C=t[v],x=m,N=m+this._computeAngle(v,s,_),j=a.getDataVisibility(v)?u.getDistanceFromCenterForValue(this.getParsed(v).r):0;m=N,o&&(l.animateScale&&(j=0),l.animateRotate&&(x=N=p));let L={x:h,y:f,innerRadius:0,outerRadius:j,startAngle:x,endAngle:N,options:this.resolveDataElementOptions(v,C.active?"active":s)};this.updateElement(C,v,L,s)}}countVisibleElements(){let t=this._cachedMeta,r=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?gr(this.resolveDataElementOptions(t,r).angle||i):0}}return n})(),FZ=(()=>{class n extends cx{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),LZ=(()=>{class n extends Uo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,s){return zv.bind(this)(t,r,i,s)}update(t){let r=this._cachedMeta,i=r.dataset,s=r.data||[],o=r.iScale.getLabels();if(i.points=s,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,r,i,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=r;c<r+i;c++){let l=t[c],u=this.resolveDataElementOptions(c,l.active?"active":s),h=o.getPointPositionForValue(c,this.getParsed(c).r),f=a?o.xCenter:h.x,p=a?o.yCenter:h.y,m={x:f,y:p,angle:h.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(l,c,m,s)}}}return n})(),VZ=(()=>{class n extends Uo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(t),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:i[t]||"",value:"("+c+", "+l+")"}}update(t){let r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled,{start:o,count:a}=Ov(r,i,s);if(this._drawStart=o,this._drawCount=a,Fv(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:u},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,h=this.resolveDataElementOptions(r,s),f=this.getSharedOptions(h),p=this.includeOptions(s,f),m=a.axis,v=c.axis,{spanGaps:_,segment:C}=this.options,x=Lo(_)?_:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||s==="none",j=r>0&&this.getParsed(r-1);for(let L=r;L<r+i;++L){let B=t[L],D=this.getParsed(L),w=N?B:{},I=ae(D[v]),S=w[m]=a.getPixelForValue(D[m],L),A=w[v]=o||I?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,D,l):D[v],L);w.skip=isNaN(S)||isNaN(A)||I,w.stop=L>0&&Math.abs(D[m]-j[m])>x,C&&(w.parsed=D,w.raw=u.data[L]),p&&(w.options=f||this.resolveDataElementOptions(L,B.active?"active":s)),N||this.updateElement(B,L,w,s),j=D}this.updateSharedOptions(f,s,h)}getMaxOverflow(){let t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;let o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}}return n})(),jZ=Object.freeze({__proto__:null,BarController:kZ,BubbleController:NZ,DoughnutController:cx,LineController:_f,PieController:FZ,PolarAreaController:lB,RadarController:LZ,ScatterController:VZ});function nc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var qS=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return nc()}parse(){return nc()}format(){return nc()}add(){return nc()}diff(){return nc()}startOf(){return nc()}endOf(){return nc()}},BZ={_date:qS};function UZ(n,e,t,r){let{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let l=a._reversePixels?yS:si;if(r){if(i._sharedOptions){let u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){let f=l(s,e,t-h),p=l(s,e,t+h);return{lo:f.lo,hi:p.hi}}}}else{let u=l(s,e,t);if(c){let{vScale:h}=i._cachedMeta,{_parsed:f}=n,p=f.slice(0,u.lo+1).reverse().findIndex(v=>!ae(v[h.axis]));u.lo-=Math.max(0,p);let m=f.slice(u.hi).findIndex(v=>!ae(v[h.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function bf(n,e,t,r,i){let s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,c=s.length;a<c;++a){let{index:l,data:u}=s[a],{lo:h,hi:f}=UZ(s[a],e,o,i);for(let p=h;p<=f;++p){let m=u[p];m.skip||r(m,l,p)}}}function $Z(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){let s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function VS(n,e,t,r,i){let s=[];return!i&&!n.isPointInArea(e)||bf(n,t,e,function(a,c,l){!i&&!oi(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function HZ(n,e,t,r){let i=[];function s(o,a,c){let{startAngle:l,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=Mv(o,{x:e.x,y:e.y});Ja(h,l,u)&&i.push({element:o,datasetIndex:a,index:c})}return bf(n,t,e,s),i}function zZ(n,e,t,r,i,s){let o=[],a=$Z(t),c=Number.POSITIVE_INFINITY;function l(u,h,f){let p=u.inRange(e.x,e.y,i);if(r&&!p)return;let m=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(m))&&!p)return;let _=a(e,m);_<c?(o=[{element:u,datasetIndex:h,index:f}],c=_):_===c&&o.push({element:u,datasetIndex:h,index:f})}return bf(n,t,e,l),o}function jS(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?HZ(n,e,t,i):zZ(n,e,t,r,i,s)}function mj(n,e,t,r,i){let s=[],o=t==="x"?"inXRange":"inYRange",a=!1;return bf(n,t,e,(c,l,u)=>{c[o]&&c[o](e[t],i)&&(s.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:s}var WZ={evaluateInteractionItems:bf,modes:{index(n,e,t,r){let i=Ns(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?VS(n,i,s,r,o):jS(n,i,s,!1,r,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,h=l.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:u})}),c):[]},dataset(n,e,t,r){let i=Ns(e,n),s=t.axis||"xy",o=t.includeInvisible||!1,a=t.intersect?VS(n,i,s,r,o):jS(n,i,s,!1,r,o);if(a.length>0){let c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(n,e,t,r){let i=Ns(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return VS(n,i,s,r,o)},nearest(n,e,t,r){let i=Ns(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return jS(n,i,s,t.intersect,r,o)},x(n,e,t,r){let i=Ns(e,n);return mj(n,i,"x",t.intersect,r)},y(n,e,t,r){let i=Ns(e,n);return mj(n,i,"y",t.intersect,r)}}},uB=["left","top","right","bottom"];function cf(n,e){return n.filter(t=>t.pos===e)}function yj(n,e){return n.filter(t=>uB.indexOf(t.pos)===-1&&t.box.axis===e)}function lf(n,e){return n.sort((t,r)=>{let i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function qZ(n){let e=[],t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function GZ(n){let e={};for(let t of n){let{stack:r,pos:i,stackWeight:s}=t;if(!r||!uB.includes(i))continue;let o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function KZ(n,e){let t=GZ(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e,s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];let{fullSize:c}=a.box,l=t[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:c&&e.availableHeight)}return t}function YZ(n){let e=qZ(n),t=lf(e.filter(l=>l.box.fullSize),!0),r=lf(cf(e,"left"),!0),i=lf(cf(e,"right")),s=lf(cf(e,"top"),!0),o=lf(cf(e,"bottom")),a=yj(e,"x"),c=yj(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:cf(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}function vj(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function dB(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function QZ(n,e,t,r){let{pos:i,box:s}=t,o=n.maxPadding;if(!we(i)){t.size&&(n[i]-=t.size);let h=r[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,n[i]+=t.size}s.getPadding&&dB(o,s.getPadding());let a=Math.max(0,e.outerWidth-vj(o,n,"left","right")),c=Math.max(0,e.outerHeight-vj(o,n,"top","bottom")),l=a!==n.w,u=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:l,other:u}:{same:u,other:l}}function XZ(n){let e=n.maxPadding;function t(r){let i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function ZZ(n,e){let t=e.maxPadding;function r(i){let s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function hf(n,e,t,r){let i=[],s,o,a,c,l,u;for(s=0,o=n.length,l=0;s<o;++s){a=n[s],c=a.box,c.update(a.width||e.w,a.height||e.h,ZZ(a.horizontal,e));let{same:h,other:f}=QZ(e,t,a,r);l|=h&&i.length,u=u||f,c.fullSize||i.push(a)}return l&&hf(i,e,t,r)||u}function Jv(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function _j(n,e,t,r){let i=t.padding,{x:s,y:o}=e;for(let a of n){let c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let h=e.w*u,f=l.size||c.height;Xa(l.start)&&(o=l.start),c.fullSize?Jv(c,i.left,o,t.outerWidth-i.right-i.left,f):Jv(c,e.left+l.placed,o,h,f),l.start=o,l.placed+=h,o=c.bottom}else{let h=e.h*u,f=l.size||c.width;Xa(l.start)&&(s=l.start),c.fullSize?Jv(c,s,i.top,f,t.outerHeight-i.bottom-i.top):Jv(c,s,e.top+l.placed,f,h),l.start=s,l.placed+=h,s=c.right}}e.x=s,e.y=o}var Cn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;let i=Vt(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=YZ(n.boxes),c=a.vertical,l=a.horizontal;Oe(n.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});let u=c.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);dB(f,Vt(r));let p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),m=KZ(c.concat(l),h);hf(a.fullSize,p,h,m),hf(c,p,h,m),hf(l,p,h,m)&&hf(c,p,h,m),XZ(p),_j(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,_j(a.rightAndBottom,p,h,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Oe(a.chartArea,v=>{let _=v.box;Object.assign(_,n.chartArea),_.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},c_=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}},GS=class extends c_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},s_="$chartjs",JZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bj=n=>n===null||n==="";function eJ(n,e){let t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[s_]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",bj(i)){let s=Gv(n,"width");s!==void 0&&(n.width=s)}if(bj(r))if(n.style.height==="")n.height=n.width/(e||2);else{let s=Gv(n,"height");s!==void 0&&(n.height=s)}return n}var hB=MS?{passive:!0}:!1;function tJ(n,e,t){n&&n.addEventListener(e,t,hB)}function nJ(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,hB)}function rJ(n,e){let t=JZ[n.type]||n.type,{x:r,y:i}=Ns(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function l_(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function iJ(n,e,t){let r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||l_(a.addedNodes,r),o=o&&!l_(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function sJ(n,e,t){let r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||l_(a.removedNodes,r),o=o&&!l_(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var pf=new Map,wj=0;function fB(){let n=window.devicePixelRatio;n!==wj&&(wj=n,pf.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function oJ(n,e){pf.size||window.addEventListener("resize",fB),pf.set(n,e)}function aJ(n){pf.delete(n),pf.size||window.removeEventListener("resize",fB)}function cJ(n,e,t){let r=n.canvas,i=r&&of(r);if(!i)return;let s=Nv((a,c)=>{let l=i.clientWidth;t(a,c),l<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||s(l,u)});return o.observe(i),oJ(n,s),o}function BS(n,e,t){t&&t.disconnect(),e==="resize"&&aJ(n)}function lJ(n,e,t){let r=n.canvas,i=Nv(s=>{n.ctx!==null&&t(rJ(s,n))},n);return tJ(r,e,i),i}var KS=class extends c_{acquireContext(e,t){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(eJ(e,t),r):null}releaseContext(e){let t=e.canvas;if(!t[s_])return!1;let r=t[s_].initial;["height","width"].forEach(s=>{let o=r[s];ae(o)?t.removeAttribute(s):t.setAttribute(s,o)});let i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[s_],!0}addEventListener(e,t,r){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),o={attach:iJ,detach:sJ,resize:cJ}[t]||lJ;i[t]=o(e,t,r)}removeEventListener(e,t){let r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:BS,detach:BS,resize:BS}[t]||nJ)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return AS(e,t,r,i)}isAttached(e){let t=e&&of(e);return!!(t&&t.isConnected)}};function uJ(n){return!sf()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?GS:KS}var li=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Lo(this.x)&&Lo(this.y)}getProps(e,t){let r=this.$animations;if(!t||!r)return this;let i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function dJ(n,e){let t=n.options.ticks,r=hJ(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?pJ(e):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>i)return gJ(e,l,s,o/i),l;let u=fJ(s,e,i);if(o>0){let h,f,p=o>1?Math.round((c-a)/(o-1)):null;for(e_(e,l,u,ae(p)?0:a-p,a),h=0,f=o-1;h<f;h++)e_(e,l,u,s[h],s[h+1]);return e_(e,l,u,c,ae(p)?e.length:c+p),l}return e_(e,l,u),l}function hJ(n){let e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function fJ(n,e,t){let r=mJ(n),i=e.length/t;if(!r)return Math.max(i,1);let s=pS(r);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>i)return c}return Math.max(i,1)}function pJ(n){let e=[],t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function gJ(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function e_(n,e,t,r,i){let s=oe(r,0),o=Math.min(oe(i,n.length),n.length),a=0,c,l,u;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(l=Math.max(s,0);l<o;l++)l===u&&(e.push(n[l]),a++,u=Math.round(s+a*t))}function mJ(n){let e=n.length,t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}var yJ=n=>n==="left"?"right":n==="right"?"left":n,Ej=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Ij=(n,e)=>Math.min(e||n,n);function Dj(n,e){let t=[],r=n.length/e,i=n.length,s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function vJ(n,e,t){let r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6,c=n.getPixelForTick(i),l;if(!(t&&(r===1?l=Math.max(c-s,o-c):e===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<s-a||c>o+a)))return c}function _J(n,e){Oe(n,t=>{let r=t.gc,i=r.length/2,s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function uf(n){return n.drawTicks?n.tickLength:0}function Cj(n,e){if(!n.display)return 0;let t=vt(n.font,e),r=Vt(n.padding);return(Ze(n.text)?n.text.length:1)*t.lineHeight+r.height}function bJ(n,e){return Wi(n,{scale:e,type:"scale"})}function wJ(n,e,t){return Wi(n,{tick:t,index:e,type:"tick"})}function EJ(n,e,t){let r=Jh(n);return(t&&e!=="right"||!t&&e==="right")&&(r=yJ(r)),r}function IJ(n,e,t,r){let{top:i,left:s,bottom:o,right:a,chart:c}=n,{chartArea:l,scales:u}=c,h=0,f,p,m,v=o-i,_=a-s;if(n.isHorizontal()){if(p=tn(r,s,a),we(t)){let C=Object.keys(t)[0],x=t[C];m=u[C].getPixelForValue(x)+v-e}else t==="center"?m=(l.bottom+l.top)/2+v-e:m=Ej(n,t,e);f=a-s}else{if(we(t)){let C=Object.keys(t)[0],x=t[C];p=u[C].getPixelForValue(x)-_+e}else t==="center"?p=(l.left+l.right)/2-_+e:p=Ej(n,t,e);m=tn(r,o,i),h=t==="left"?-yt:yt}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}var ic=class n extends li{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=jn(e,Number.POSITIVE_INFINITY),t=jn(t,Number.NEGATIVE_INFINITY),r=jn(r,Number.POSITIVE_INFINITY),i=jn(i,Number.NEGATIVE_INFINITY),{min:jn(e,r),max:jn(t,i),minDefined:pt(e),maxDefined:pt(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:jn(t,jn(r,t)),max:jn(r,jn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ve(this.options.beforeUpdate,[this])}update(e,t,r){let{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=CS(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?Dj(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=dJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ve(this.options.afterUpdate,[this])}beforeSetDimensions(){Ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ve(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ve(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ve(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,r=Ij(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation,o=i,a,c,l;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=Lt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),h+6>a&&(a=p/(r-(e.offset?.5:1)),c=this.maxHeight-uf(e.grid)-t.padding-Cj(e.title,this.chart.options.font),l=Math.sqrt(h*h+f*f),o=Xh(Math.min(Math.asin(Lt((u.highest.height+6)/a,-1,1)),Math.asin(Lt(c/l,-1,1))-Math.asin(Lt(f/l,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ve(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=Cj(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=uf(s)+c):(e.height=this.maxHeight,e.width=uf(s)+c),r.display&&this.ticks.length){let{first:l,last:u,widest:h,highest:f}=this._getLabelSizes(),p=r.padding*2,m=gr(this.labelRotation),v=Math.cos(m),_=Math.sin(m);if(a){let C=r.mirror?0:_*h.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+C+p)}else{let C=r.mirror?0:v*h.width+_*f.height;e.width=Math.min(this.maxWidth,e.width+C+p)}this._calculatePadding(l,u,_,v)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,p=0;c?l?(f=i*e.width,p=r*t.height):(f=r*e.height,p=i*t.width):s==="start"?p=t.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ve(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)ae(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=Dj(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){let{ctx:i,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(t/Ij(t,r)),l=0,u=0,h,f,p,m,v,_,C,x,N,j,L;for(h=0;h<t;h+=c){if(m=e[h].label,v=this._resolveTickFontOptions(h),i.font=_=v.string,C=s[_]=s[_]||{data:{},gc:[]},x=v.lineHeight,N=j=0,!ae(m)&&!Ze(m))N=ou(i,C.data,C.gc,N,m),j=x;else if(Ze(m))for(f=0,p=m.length;f<p;++f)L=m[f],!ae(L)&&!Ze(L)&&(N=ou(i,C.data,C.gc,N,L),j+=x);o.push(N),a.push(j),l=Math.max(N,l),u=Math.max(j,u)}_J(s,t);let B=o.indexOf(l),D=a.indexOf(u),w=I=>({width:o[I]||0,height:a[I]||0});return{first:w(0),last:w(t-1),widest:w(B),highest:w(D),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return mS(this._alignToPixels?Rs(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let r=t[e];return r.$context||(r.$context=wJ(this.getContext(),e,r))}return this.$context||(this.$context=bJ(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=gr(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,c=s.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=uf(s),p=[],m=a.setContext(this.getContext()),v=m.display?m.width:0,_=v/2,C=function(nt){return Rs(r,nt,v)},x,N,j,L,B,D,w,I,S,A,P,T;if(o==="top")x=C(this.bottom),D=this.bottom-f,I=x-_,A=C(e.top)+_,T=e.bottom;else if(o==="bottom")x=C(this.top),A=e.top,T=C(e.bottom)-_,D=x+_,I=this.top+f;else if(o==="left")x=C(this.right),B=this.right-f,w=x-_,S=C(e.left)+_,P=e.right;else if(o==="right")x=C(this.left),S=e.left,P=C(e.right)-_,B=x+_,w=this.left+f;else if(t==="x"){if(o==="center")x=C((e.top+e.bottom)/2+.5);else if(we(o)){let nt=Object.keys(o)[0],Ge=o[nt];x=C(this.chart.scales[nt].getPixelForValue(Ge))}A=e.top,T=e.bottom,D=x+_,I=D+f}else if(t==="y"){if(o==="center")x=C((e.left+e.right)/2);else if(we(o)){let nt=Object.keys(o)[0],Ge=o[nt];x=C(this.chart.scales[nt].getPixelForValue(Ge))}B=x-_,w=B-f,S=e.left,P=e.right}let gt=oe(i.ticks.maxTicksLimit,h),Re=Math.max(1,Math.ceil(h/gt));for(N=0;N<h;N+=Re){let nt=this.getContext(N),Ge=s.setContext(nt),nn=a.setContext(nt),At=Ge.lineWidth,Yi=Ge.color,cc=nn.dash||[],Tn=nn.dashOffset,_t=Ge.tickWidth,Qi=Ge.tickColor,Nr=Ge.tickBorderDash||[],Xi=Ge.tickBorderDashOffset;j=vJ(this,N,c),j!==void 0&&(L=Rs(r,j,At),l?B=w=S=P=L:D=I=A=T=L,p.push({tx1:B,ty1:D,tx2:w,ty2:I,x1:S,y1:A,x2:P,y2:T,width:At,color:Yi,borderDash:cc,borderDashOffset:Tn,tickWidth:_t,tickColor:Qi,tickBorderDash:Nr,tickBorderDashOffset:Xi}))}return this._ticksLength=h,this._borderValue=x,p}_computeLabelItems(e){let t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:h}=s,f=uf(r.grid),p=f+u,m=h?-u:p,v=-gr(this.labelRotation),_=[],C,x,N,j,L,B,D,w,I,S,A,P,T="middle";if(i==="top")B=this.bottom-m,D=this._getXAxisLabelAlignment();else if(i==="bottom")B=this.top+m,D=this._getXAxisLabelAlignment();else if(i==="left"){let Re=this._getYAxisLabelAlignment(f);D=Re.textAlign,L=Re.x}else if(i==="right"){let Re=this._getYAxisLabelAlignment(f);D=Re.textAlign,L=Re.x}else if(t==="x"){if(i==="center")B=(e.top+e.bottom)/2+p;else if(we(i)){let Re=Object.keys(i)[0],nt=i[Re];B=this.chart.scales[Re].getPixelForValue(nt)+p}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")L=(e.left+e.right)/2-p;else if(we(i)){let Re=Object.keys(i)[0],nt=i[Re];L=this.chart.scales[Re].getPixelForValue(nt)}D=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(c==="start"?T="top":c==="end"&&(T="bottom"));let gt=this._getLabelSizes();for(C=0,x=a.length;C<x;++C){N=a[C],j=N.label;let Re=s.setContext(this.getContext(C));w=this.getPixelForTick(C)+s.labelOffset,I=this._resolveTickFontOptions(C),S=I.lineHeight,A=Ze(j)?j.length:1;let nt=A/2,Ge=Re.color,nn=Re.textStrokeColor,At=Re.textStrokeWidth,Yi=D;o?(L=w,D==="inner"&&(C===x-1?Yi=this.options.reverse?"left":"right":C===0?Yi=this.options.reverse?"right":"left":Yi="center"),i==="top"?l==="near"||v!==0?P=-A*S+S/2:l==="center"?P=-gt.highest.height/2-nt*S+S:P=-gt.highest.height+S/2:l==="near"||v!==0?P=S/2:l==="center"?P=gt.highest.height/2-nt*S:P=gt.highest.height-A*S,h&&(P*=-1),v!==0&&!Re.showLabelBackdrop&&(L+=S/2*Math.sin(v))):(B=w,P=(1-A)*S/2);let cc;if(Re.showLabelBackdrop){let Tn=Vt(Re.backdropPadding),_t=gt.heights[C],Qi=gt.widths[C],Nr=P-Tn.top,Xi=0-Tn.left;switch(T){case"middle":Nr-=_t/2;break;case"bottom":Nr-=_t;break}switch(D){case"center":Xi-=Qi/2;break;case"right":Xi-=Qi;break;case"inner":C===x-1?Xi-=Qi:C>0&&(Xi-=Qi/2);break}cc={left:Xi,top:Nr,width:Qi+Tn.width,height:_t+Tn.height,color:Re.backdropColor}}_.push({label:j,font:I,textOffset:P,options:{rotation:v,color:Ge,strokeColor:nn,strokeWidth:At,textAlign:Yi,textBaseline:T,translation:[L,B],backdrop:cc}})}return _}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-gr(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width,l,u;return t==="left"?i?(u=this.right+s,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u=this.left)):t==="right"?i?(u=this.left+s,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(c,l,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){let c=i[s];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;let a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,h,f;this.isHorizontal()?(l=Rs(e,this.left,o)-o/2,u=Rs(e,this.right,a)+a/2,h=f=c):(h=Rs(e,this.top,o)-o/2,f=Rs(e,this.bottom,a)+a/2,l=u=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,h),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&lu(r,i);let s=this.getLabelItems(e);for(let o of s){let a=o.options,c=o.font,l=o.label,u=o.textOffset;Ps(r,l,0,u,c,a)}i&&uu(r)}drawTitle(){let{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;let s=vt(r.font),o=Vt(r.padding),a=r.align,c=s.lineHeight/2;t==="bottom"||t==="center"||we(t)?(c+=o.bottom,Ze(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;let{titleX:l,titleY:u,maxWidth:h,rotation:f}=IJ(this,c,t,a);Ps(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:f,textAlign:EJ(a,t,i),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,r=oe(e.grid&&e.grid.z,-1),i=oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],s,o;for(s=0,o=t.length;s<o;++s){let a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return vt(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},hu=class{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),r;TJ(t)&&(r=this.register(t));let i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,DJ(e,o,r),this.override&&tt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in tt[i]&&(delete tt[i][r],this.override&&delete Vo[r])}};function DJ(n,e,t){let r=pr(Object.create(null),[t?tt.get(t):{},tt.get(e),n.defaults]);tt.set(e,r),n.defaultRoutes&&CJ(e,n.defaultRoutes),n.descriptors&&tt.describe(e,n.descriptors)}function CJ(n,e){Object.keys(e).forEach(t=>{let r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),c=o.join(".");tt.route(s,i,c,a)})}function TJ(n){return"id"in n&&"defaults"in n}var YS=class{constructor(){this.controllers=new hu(Uo,"datasets",!0),this.elements=new hu(li,"elements"),this.plugins=new hu(Object,"plugins"),this.scales=new hu(ic,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{let s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Oe(i,o=>{let a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){let i=Qh(e);Ve(r["before"+i],[],r),t[e](r),Ve(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){let i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}},Gi=new YS,QS=class{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,r,i){i=i||{};for(let s of e){let o=s.plugin,a=o[r],c=[t,i,s.options];if(Ve(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let r=e&&e.config,i=oe(r.options&&r.options.plugins,{}),s=SJ(r);return i===!1&&!t?[]:AJ(e,s,i,t)}_notifyStateChanges(e){let t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}};function SJ(n){let e={},t=[],r=Object.keys(Gi.plugins.items);for(let s=0;s<r.length;s++)t.push(Gi.getPlugin(r[s]));let i=n.plugins||[];for(let s=0;s<i.length;s++){let o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function xJ(n,e){return!e&&n===!1?null:n===!0?{}:n}function AJ(n,{plugins:e,localIds:t},r,i){let s=[],o=n.getContext();for(let a of e){let c=a.id,l=xJ(r[c],i);l!==null&&s.push({plugin:a,options:MJ(n.config,{plugin:a,local:t[c]},l,o)})}return s}function MJ(n,{plugin:e,local:t},r,i){let s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function XS(n,e){let t=tt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function RJ(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function PJ(n,e){return n===e?"_index_":"_value_"}function Tj(n){if(n==="x"||n==="y"||n==="r")return n}function kJ(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ZS(n,...e){if(Tj(n))return n;for(let t of e){let r=t.axis||kJ(t.position)||n.length>1&&Tj(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Sj(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function NJ(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Sj(n,"x",t[0])||Sj(n,"y",t[0])}return{}}function OJ(n,e){let t=Vo[n.type]||{scales:{}},r=e.scales||{},i=XS(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{let a=r[o];if(!we(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=ZS(o,a,NJ(o,n),tt.scales[a.type]),l=PJ(c,i),u=t.scales||{};s[o]=Qa(Object.create(null),[{axis:c},a,u[c],u[l]])}),n.data.datasets.forEach(o=>{let a=o.type||n.type,c=o.indexAxis||XS(a,e),u=(Vo[a]||{}).scales||{};Object.keys(u).forEach(h=>{let f=RJ(h,c),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),Qa(s[p],[{axis:f},r[p],u[h]])})}),Object.keys(s).forEach(o=>{let a=s[o];Qa(a,[tt.scales[a.type],tt.scale])}),s}function pB(n){let e=n.options||(n.options={});e.plugins=oe(e.plugins,{}),e.scales=OJ(n,e)}function gB(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function FJ(n){return n=n||{},n.data=gB(n.data),pB(n),n}var xj=new Map,mB=new Set;function t_(n,e){let t=xj.get(n);return t||(t=e(),xj.set(n,t),mB.add(t)),t}var df=(n,e,t)=>{let r=zi(e,t);r!==void 0&&n.add(r)},JS=class{constructor(e){this._config=FJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gB(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),pB(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return t_(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return t_(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return t_(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,r=this.type;return t_(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let r=this._scopeCache,i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){let{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;let c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(h=>df(c,e,h))),u.forEach(h=>df(c,i,h)),u.forEach(h=>df(c,Vo[s]||{},h)),u.forEach(h=>df(c,tt,h)),u.forEach(h=>df(c,jv,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),mB.has(t)&&o.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,Vo[t]||{},tt.datasets[t]||{},{type:t},tt,jv]}resolveNamedOptions(e,t,r,i=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=Aj(this._resolverCache,e,i),c=o;if(VJ(o,t)){s.$shared=!1,r=$i(r)?r():r;let l=this.createResolver(e,r,a);c=Fo(o,r,l)}for(let l of t)s[l]=c[l];return s}createResolver(e,t,r=[""],i){let{resolver:s}=Aj(this._resolverCache,e,r);return we(t)?Fo(s,t,void 0,i):s}};function Aj(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));let i=t.join(),s=r.get(i);return s||(s={resolver:rf(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}var LJ=n=>we(n)&&Object.getOwnPropertyNames(n).some(e=>$i(n[e]));function VJ(n,e){let{isScriptable:t,isIndexable:r}=Hv(n);for(let i of e){let s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&($i(a)||LJ(a))||o&&Ze(a))return!0}return!1}var jJ="4.4.9",BJ=["top","bottom","left","right","chartArea"];function Mj(n,e){return n==="top"||n==="bottom"||BJ.indexOf(n)===-1&&e==="x"}function Rj(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Pj(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ve(t&&t.onComplete,[n],e)}function UJ(n){let e=n.chart,t=e.options.animation;Ve(t&&t.onProgress,[n],e)}function yB(n){return sf()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var o_={},kj=n=>{let e=yB(n);return Object.values(o_).filter(t=>t.canvas===e).pop()};function $J(n,e,t){let r=Object.keys(n);for(let i of r){let s=+i;if(s>=e){let o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function HJ(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Ki=(()=>{class n{static defaults=tt;static instances=o_;static overrides=Vo;static registry=Gi;static version=jJ;static getChart=kj;static register(...t){Gi.add(...t),Nj()}static unregister(...t){Gi.remove(...t),Nj()}constructor(t,r){let i=this.config=new JS(r),s=yB(t),o=kj(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||uJ(s)),this.platform.updateConfig(i);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,h=l&&l.width;if(this.id=dS(),this.ctx=c,this.canvas=l,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new QS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bS(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],o_[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Os.listen(this,"complete",Pj),Os.listen(this,"progress",UJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return ae(t)?r&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Bv(this.canvas,this.ctx),this}stop(){return Os.stop(this),this}resize(t,r){Os.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){let i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,r,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,qv(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Ve(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};Oe(r,(i,s)=>{i.id=s})}buildOrUpdateScales(){let t=this.options,r=t.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{}),o=[];r&&(o=o.concat(Object.keys(r).map(a=>{let c=r[a],l=ZS(a,c),u=l==="r",h=l==="x";return{options:c,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Oe(o,a=>{let c=a.options,l=c.id,u=ZS(l,c),h=oe(c.type,a.dtype);(c.position===void 0||Mj(c.position,u)!==Mj(a.dposition))&&(c.position=a.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{let p=Gi.getScale(h);f=new p({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(c,t)}),Oe(s,(a,c)=>{a||delete i[c]}),Oe(i,a=>{Cn.configure(this,a,a.options),Cn.addBox(this,a)})}_updateMetasets(){let t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort(Rj("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,s)=>{r.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],r=this.data.datasets,i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){let o=r[i],a=this.getDatasetMeta(i),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||XS(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=Gi.getController(c),{datasetElementType:u,dataElementType:h}=tt.datasets[c];Object.assign(l,{dataElementType:Gi.getElement(h),datasetElementType:u&&Gi.getElement(u)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Oe(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){let{controller:f}=this.getDatasetMeta(u),p=!s&&o.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||Oe(o,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Rj("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Oe(this.scales,t=>{Cn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Tv(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:s,count:o}of r){let a=i==="_removeElements"?-o:o;$J(t,s,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=o=>new Set(t.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!Tv(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cn.update(this,this.width,this.height,t);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],Oe(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,$i(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){let i=this.getDatasetMeta(t),s={meta:i,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Os.has(this)?this.attached&&!Os.running(this)&&Os.start(this):(this.draw(),Pj({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let r=this._sortedMetasets,i=[],s,o;for(s=0,o=r.length;s<o;++s){let a=r[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let r=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=Zv(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&lu(r,s),t.controller.draw(),s&&uu(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return oi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,s){let o=WZ.modes[r];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){let r=this.data.datasets[t],i=this._metasets,s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Wi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let r=this.data.datasets[t];if(!r)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(t,r){let i=this.getDatasetMeta(t);i.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){let s=i?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);Xa(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){let r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),Os.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Bv(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete o_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),t[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};Oe(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(l,u)=>{r.addEventListener(this,l,u),t[l]=u},s=(l,u)=>{t[l]&&(r.removeEventListener(this,l,u),delete t[l])},o=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){Oe(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},Oe(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){let s=i?"set":"remove",o,a,c,l;for(r==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let r=this._active||[],i=t.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!cu(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,i){let s=this.options.hover,o=(l,u)=>l.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=o(r,t),c=i?t:o(t,r);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,r){let i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;let o=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,r,i){let{_active:s=[],options:o}=this,a=r,c=this._getActiveElements(t,s,i,a),l=fS(t),u=HJ(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Ve(o.onHover,[t,c,this],this),l&&Ve(o.onClick,[t,c,this],this));let h=!cu(c,s);return(h||r)&&(this._active=c,this._updateHoverStyles(c,s,r)),this._lastEvent=u,h}_getActiveElements(t,r,i,s){if(t.type==="mouseout")return[];if(!i)return r;let o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}return n})();function Nj(){return Oe(Ki.instances,n=>n._plugins.invalidate())}function zJ(n,e,t){let{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=e,l=i/a;n.beginPath(),n.arc(s,o,a,r-l,t+l),c>i?(l=i/c,n.arc(s,o,c,t+l,r-l,!0)):n.arc(s,o,i,t+yt,r-yt),n.closePath(),n.clip()}function WJ(n){return nf(n,["outerStart","outerEnd","innerStart","innerEnd"])}function qJ(n,e,t,r){let i=WJ(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),a=c=>{let l=(t-Math.min(s,c))*r/2;return Lt(c,0,Math.min(s,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Lt(i.innerStart,0,o),innerEnd:Lt(i.innerEnd,0,o)}}function du(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function u_(n,e,t,r,i,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=e,h=Math.max(e.outerRadius+r+t-l,0),f=u>0?u+r+t+l:0,p=0,m=i-c;if(r){let Re=u>0?u-r:0,nt=h>0?h-r:0,Ge=(Re+nt)/2,nn=Ge!==0?m*Ge/(Ge+r):m;p=(m-nn)/2}let v=Math.max(.001,m*h-t/Je)/h,_=(m-v)/2,C=c+_+p,x=i-_-p,{outerStart:N,outerEnd:j,innerStart:L,innerEnd:B}=qJ(e,f,h,x-C),D=h-N,w=h-j,I=C+N/D,S=x-j/w,A=f+L,P=f+B,T=C+L/A,gt=x-B/P;if(n.beginPath(),s){let Re=(I+S)/2;if(n.arc(o,a,h,I,Re),n.arc(o,a,h,Re,S),j>0){let At=du(w,S,o,a);n.arc(At.x,At.y,j,S,x+yt)}let nt=du(P,x,o,a);if(n.lineTo(nt.x,nt.y),B>0){let At=du(P,gt,o,a);n.arc(At.x,At.y,B,x+yt,gt+Math.PI)}let Ge=(x-B/f+(C+L/f))/2;if(n.arc(o,a,f,x-B/f,Ge,!0),n.arc(o,a,f,Ge,C+L/f,!0),L>0){let At=du(A,T,o,a);n.arc(At.x,At.y,L,T+Math.PI,C-yt)}let nn=du(D,C,o,a);if(n.lineTo(nn.x,nn.y),N>0){let At=du(D,I,o,a);n.arc(At.x,At.y,N,C-yt,I)}}else{n.moveTo(o,a);let Re=Math.cos(I)*h+o,nt=Math.sin(I)*h+a;n.lineTo(Re,nt);let Ge=Math.cos(S)*h+o,nn=Math.sin(S)*h+a;n.lineTo(Ge,nn)}n.closePath()}function GJ(n,e,t,r,i){let{fullCircles:s,startAngle:o,circumference:a}=e,c=e.endAngle;if(s){u_(n,e,t,r,c,i);for(let l=0;l<s;++l)n.fill();isNaN(a)||(c=o+(a%et||et))}return u_(n,e,t,r,c,i),n.fill(),c}function KJ(n,e,t,r,i){let{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=c,p=c.borderAlign==="inner";if(!l)return;n.setLineDash(h||[]),n.lineDashOffset=f,p?(n.lineWidth=l*2,n.lineJoin=u||"round"):(n.lineWidth=l,n.lineJoin=u||"bevel");let m=e.endAngle;if(s){u_(n,e,t,r,m,i);for(let v=0;v<s;++v)n.stroke();isNaN(a)||(m=o+(a%et||et))}p&&zJ(n,e,m),s||(u_(n,e,t,r,m,i),n.stroke())}var gf=class extends li{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){let i=this.getProps(["x","y"],r),{angle:s,distance:o}=Mv(i,{x:e,y:t}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,p=oe(h,c-a),m=Ja(s,a,c)&&a!==c,v=p>=et||m,_=ci(o,l+f,u+f);return v&&_}getCenterPoint(e){let{x:t,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,u=(i+s)/2,h=(o+a+l+c)/2;return{x:t+Math.cos(u)*h,y:r+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:r}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>et?Math.floor(r/et):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);let c=1-Math.sin(Math.min(Je,r||0)),l=i*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,GJ(e,this,l,s,o),KJ(e,this,l,s,o),e.restore()}};function vB(n,e,t=e){n.lineCap=oe(t.borderCapStyle,e.borderCapStyle),n.setLineDash(oe(t.borderDash,e.borderDash)),n.lineDashOffset=oe(t.borderDashOffset,e.borderDashOffset),n.lineJoin=oe(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=oe(t.borderWidth,e.borderWidth),n.strokeStyle=oe(t.borderColor,e.borderColor)}function YJ(n,e,t){n.lineTo(t.x,t.y)}function QJ(n){return n.stepped?IS:n.tension||n.cubicInterpolationMode==="monotone"?DS:YJ}function _B(n,e,t={}){let r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,c=Math.max(i,o),l=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:c,loop:e.loop,ilen:l<c&&!u?r+l-c:l-c}}function XJ(n,e,t,r){let{points:i,options:s}=e,{count:o,start:a,loop:c,ilen:l}=_B(i,t,r),u=QJ(s),{move:h=!0,reverse:f}=r||{},p,m,v;for(p=0;p<=l;++p)m=i[(a+(f?l-p:p))%o],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):u(n,v,m,f,s.stepped),v=m);return c&&(m=i[(a+(f?l:0))%o],u(n,v,m,f,s.stepped)),!!c}function ZJ(n,e,t,r){let i=e.points,{count:s,start:o,ilen:a}=_B(i,t,r),{move:c=!0,reverse:l}=r||{},u=0,h=0,f,p,m,v,_,C,x=j=>(o+(l?a-j:j))%s,N=()=>{v!==_&&(n.lineTo(u,_),n.lineTo(u,v),n.lineTo(u,C))};for(c&&(p=i[x(0)],n.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[x(f)],p.skip)continue;let j=p.x,L=p.y,B=j|0;B===m?(L<v?v=L:L>_&&(_=L),u=(h*u+j)/++h):(N(),n.lineTo(j,L),m=B,h=0,v=_=L),C=L}N()}function ex(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?ZJ:XJ}function JJ(n){return n.stepped?RS:n.tension||n.cubicInterpolationMode==="monotone"?PS:Ms}function eee(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),vB(n,e.options),n.stroke(i)}function tee(n,e,t,r){let{segments:i,options:s}=e,o=ex(e);for(let a of i)vB(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}var nee=typeof Path2D=="function";function ree(n,e,t,r){nee&&!e.options.segment?eee(n,e,t,r):tee(n,e,t,r)}var $o=(()=>{class n extends li{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let s=i.spanGaps?this._loop:this._fullLoop;xS(this._points,i,t,s,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kS(this,this.options.segment))}first(){let t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){let t=this.segments,r=this.points,i=t.length;return i&&r[t[i-1].end]}interpolate(t,r){let i=this.options,s=t[r],o=this.points,a=Xv(this,{property:r,start:s,end:s});if(!a.length)return;let c=[],l=JJ(i),u,h;for(u=0,h=a.length;u<h;++u){let{start:f,end:p}=a[u],m=o[f],v=o[p];if(m===v){c.push(m);continue}let _=Math.abs((s-m[r])/(v[r]-m[r])),C=l(m,v,_,i.stepped);C[r]=t[r],c.push(C)}return c.length===1?c[0]:c}pathSegment(t,r,i){return ex(this)(t,this,r,i)}path(t,r,i){let s=this.segments,o=ex(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let c of s)a&=o(t,this,c,{start:r,end:r+i-1});return!!a}draw(t,r,i,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),ree(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function Oj(n,e,t,r){let i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}var oc=(()=>{class n extends li{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return Oj(this,t,"x",r)}inYRange(t,r){return Oj(this,t,"y",r)}getCenterPoint(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);let i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){let i=this.options;this.skip||i.radius<.1||!oi(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,tf(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function bB(n,e){let{x:t,y:r,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],e),a,c,l,u,h;return n.horizontal?(h=o/2,a=Math.min(t,i),c=Math.max(t,i),l=r-h,u=r+h):(h=s/2,a=t-h,c=t+h,l=Math.min(r,i),u=Math.max(r,i)),{left:a,top:l,right:c,bottom:u}}function Bo(n,e,t,r){return n?0:Lt(e,t,r)}function iee(n,e,t){let r=n.options.borderWidth,i=n.borderSkipped,s=$v(r);return{t:Bo(i.top,s.top,0,t),r:Bo(i.right,s.right,0,e),b:Bo(i.bottom,s.bottom,0,t),l:Bo(i.left,s.left,0,e)}}function see(n,e,t){let{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=ks(i),o=Math.min(e,t),a=n.borderSkipped,c=r||we(i);return{topLeft:Bo(!c||a.top||a.left,s.topLeft,0,o),topRight:Bo(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Bo(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Bo(!c||a.bottom||a.right,s.bottomRight,0,o)}}function oee(n){let e=bB(n),t=e.right-e.left,r=e.bottom-e.top,i=iee(n,t/2,r/2),s=see(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function US(n,e,t,r){let i=e===null,s=t===null,a=n&&!(i&&s)&&bB(n,r);return a&&(i||ci(e,a.left,a.right))&&(s||ci(t,a.top,a.bottom))}function aee(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function cee(n,e){n.rect(e.x,e.y,e.w,e.h)}function $S(n,e,t={}){let r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,o=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+o,radius:n.radius}}var mf=class extends li{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=oee(this),a=aee(o.radius)?tc:cee;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,$S(o,t,s)),e.clip(),a(e,$S(s,-t,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,$S(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return US(this,e,t,r)}inXRange(e,t){return US(this,e,null,t)}inYRange(e,t){return US(this,null,e,t)}getCenterPoint(e){let{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},lee=Object.freeze({__proto__:null,ArcElement:gf,BarElement:mf,LineElement:$o,PointElement:oc}),tx=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Fj=tx.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function wB(n){return tx[n%tx.length]}function EB(n){return Fj[n%Fj.length]}function uee(n,e){return n.borderColor=wB(e),n.backgroundColor=EB(e),++e}function dee(n,e){return n.backgroundColor=n.data.map(()=>wB(e++)),e}function hee(n,e){return n.backgroundColor=n.data.map(()=>EB(e++)),e}function fee(n){let e=0;return(t,r)=>{let i=n.getDatasetMeta(r).controller;i instanceof cx?e=dee(t,e):i instanceof lB?e=hee(t,e):i&&(e=uee(t,e))}}function Lj(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function pee(n){return n&&(n.borderColor||n.backgroundColor)}function gee(){return tt.borderColor!=="rgba(0,0,0,0.1)"||tt.backgroundColor!=="rgba(0,0,0,0.1)"}var mee={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:r},options:i}=n.config,{elements:s}=i,o=Lj(r)||pee(i)||s&&Lj(s)||gee();if(!t.forceOverride&&o)return;let a=fee(n);r.forEach(a)}};function yee(n,e,t,r,i){let s=i.samples||r;if(s>=t)return n.slice(e,e+t);let o=[],a=(t-2)/(s-2),c=0,l=e+t-1,u=e,h,f,p,m,v;for(o[c++]=n[u],h=0;h<s-2;h++){let _=0,C=0,x,N=Math.floor((h+1)*a)+1+e,j=Math.min(Math.floor((h+2)*a)+1,t)+e,L=j-N;for(x=N;x<j;x++)_+=n[x].x,C+=n[x].y;_/=L,C/=L;let B=Math.floor(h*a)+1+e,D=Math.min(Math.floor((h+1)*a)+1,t)+e,{x:w,y:I}=n[u];for(p=m=-1,x=B;x<D;x++)m=.5*Math.abs((w-_)*(n[x].y-I)-(w-n[x].x)*(C-I)),m>p&&(p=m,f=n[x],v=x);o[c++]=f,u=v}return o[c++]=n[l],o}function vee(n,e,t,r){let i=0,s=0,o,a,c,l,u,h,f,p,m,v,_=[],C=e+t-1,x=n[e].x,j=n[C].x-x;for(o=e;o<e+t;++o){a=n[o],c=(a.x-x)/j*r,l=a.y;let L=c|0;if(L===u)l<m?(m=l,h=o):l>v&&(v=l,f=o),i=(s*i+a.x)/++s;else{let B=o-1;if(!ae(h)&&!ae(f)){let D=Math.min(h,f),w=Math.max(h,f);D!==p&&D!==B&&_.push(fe(z({},n[D]),{x:i})),w!==p&&w!==B&&_.push(fe(z({},n[w]),{x:i}))}o>0&&B!==p&&_.push(n[B]),_.push(a),u=L,s=0,m=v=l,h=f=p=o}}return _}function IB(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Vj(n){n.data.datasets.forEach(e=>{IB(e)})}function _ee(n,e){let t=e.length,r=0,i,{iScale:s}=n,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(r=Lt(si(e,s.axis,o).lo,0,t-1)),l?i=Lt(si(e,s.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var bee={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Vj(n);return}let r=n.width;n.data.datasets.forEach((i,s)=>{let{_data:o,indexAxis:a}=i,c=n.getDatasetMeta(s),l=o||i.data;if(qe([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=n.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:f}=_ee(c,l),p=t.threshold||4*r;if(f<=p){IB(i);return}ae(o)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let m;switch(t.algorithm){case"lttb":m=yee(l,h,f,r,t);break;case"min-max":m=vee(l,h,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=m})},destroy(n){Vj(n)}};function wee(n,e,t){let r=n.segments,i=n.points,s=e.points,o=[];for(let a of r){let{start:c,end:l}=a;l=lx(c,l,i);let u=nx(t,i[c],i[l],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[c],end:i[l]});continue}let h=Xv(e,u);for(let f of h){let p=nx(t,s[f.start],s[f.end],f.loop),m=Qv(a,i,p);for(let v of m)o.push({source:v,target:f,start:{[t]:jj(u,p,"start",Math.max)},end:{[t]:jj(u,p,"end",Math.min)}})}}return o}function nx(n,e,t,r){if(r)return;let i=e[n],s=t[n];return n==="angle"&&(i=Vn(i),s=Vn(s)),{property:n,start:i,end:s}}function Eee(n,e){let{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=lx(o,a,i);let c=i[o],l=i[a];r!==null?(s.push({x:c.x,y:r}),s.push({x:l.x,y:r})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:l.y}))}),s}function lx(n,e,t){for(;e>n;e--){let r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function jj(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function DB(n,e){let t=[],r=!1;return Ze(n)?(r=!0,t=n):t=Eee(n,e),t.length?new $o({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function Bj(n){return n&&n.fill!==!1}function Iee(n,e,t){let i=n[e].fill,s=[e],o;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!pt(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Dee(n,e,t){let r=xee(n);if(we(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return pt(i)&&Math.floor(i)===i?Cee(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Cee(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function Tee(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:we(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function See(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:we(n)?r=n.value:r=e.getBaseValue(),r}function xee(n){let e=n.options,t=e.fill,r=oe(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Aee(n){let{scale:e,index:t,line:r}=n,i=[],s=r.segments,o=r.points,a=Mee(e,t);a.push(DB({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){let l=s[c];for(let u=l.start;u<=l.end;u++)Ree(i,o[u],a)}return new $o({points:i,options:{}})}function Mee(n,e){let t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function Ree(n,e,t){let r=[];for(let i=0;i<t.length;i++){let s=t[i],{first:o,last:a,point:c}=Pee(s,e,"x");if(!(!c||o&&a)){if(o)r.unshift(c);else if(n.push(c),!a)break}}n.push(...r)}function Pee(n,e,t){let r=n.interpolate(e,t);if(!r)return{};let i=r[t],s=n.segments,o=n.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let u=s[l],h=o[u.start][t],f=o[u.end][t];if(ci(i,h,f)){a=i===h,c=i===f;break}}return{first:a,last:c,point:r}}var d_=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){let{x:i,y:s,radius:o}=this;return t=t||{start:0,end:et},e.arc(i,s,o,t.end,t.start,!0),!r.bounds}interpolate(e){let{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}};function kee(n){let{chart:e,fill:t,line:r}=n;if(pt(t))return Nee(e,t);if(t==="stack")return Aee(n);if(t==="shape")return!0;let i=Oee(n);return i instanceof d_?i:DB(i,r)}function Nee(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function Oee(n){return(n.scale||{}).getPointPositionForValue?Lee(n):Fee(n)}function Fee(n){let{scale:e={},fill:t}=n,r=Tee(t,e);if(pt(r)){let i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function Lee(n){let{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=See(t,e,s),a=[];if(r.grid.circular){let c=e.getPointPositionForValue(0,s);return new d_({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}function HS(n,e,t){let r=kee(e),{chart:i,index:s,line:o,scale:a,axis:c}=e,l=o.options,u=l.fill,h=l.backgroundColor,{above:f=h,below:p=h}=u||{},m=i.getDatasetMeta(s),v=Zv(i,m);r&&o.points.length&&(lu(n,t),Vee(n,{line:o,target:r,above:f,below:p,area:t,scale:a,axis:c,clip:v}),uu(n))}function Vee(n,e){let{line:t,target:r,above:i,below:s,area:o,scale:a,clip:c}=e,l=t._loop?"angle":e.axis;n.save(),l==="x"&&s!==i&&(Uj(n,r,o.top),$j(n,{line:t,target:r,color:i,scale:a,property:l,clip:c}),n.restore(),n.save(),Uj(n,r,o.bottom)),$j(n,{line:t,target:r,color:s,scale:a,property:l,clip:c}),n.restore()}function Uj(n,e,t){let{segments:r,points:i}=e,s=!0,o=!1;n.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],h=i[lx(c,l,i)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function $j(n,e){let{line:t,target:r,property:i,color:s,scale:o,clip:a}=e,c=wee(t,r,i);for(let{source:l,target:u,start:h,end:f}of c){let{style:{backgroundColor:p=s}={}}=l,m=r!==!0;n.save(),n.fillStyle=p,jee(n,o,a,m&&nx(i,h,f)),n.beginPath();let v=!!t.pathSegment(n,l),_;if(m){v?n.closePath():Hj(n,r,f,i);let C=!!r.pathSegment(n,u,{move:v,reverse:!0});_=v&&C,_||Hj(n,r,h,i)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function jee(n,e,t,r){let i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let c,l,u,h;s==="x"?(c=o,l=i.top,u=a,h=i.bottom):(c=i.left,l=o,u=i.right,h=a),n.beginPath(),t&&(c=Math.max(c,t.left),u=Math.min(u,t.right),l=Math.max(l,t.top),h=Math.min(h,t.bottom)),n.rect(c,l,u-c,h-l),n.clip()}}function Hj(n,e,t,r){let i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var Bee={id:"filler",afterDatasetsUpdate(n,e,t){let r=(n.data.datasets||[]).length,i=[],s,o,a,c;for(o=0;o<r;++o)s=n.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof $o&&(c={visible:n.isDatasetVisible(o),index:o,fill:Dee(a,o,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=Iee(i,o,t.propagate))},beforeDraw(n,e,t){let r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){let a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&HS(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let s=r[i].$filler;Bj(s)&&HS(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){let r=e.meta.$filler;!Bj(r)||t.drawTime!=="beforeDatasetDraw"||HS(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},zj=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},Uee=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,h_=class extends li{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Ve(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let r=e.labels,i=vt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=zj(r,s),l,u;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,s,a,c)+10):(u=this.maxHeight,l=this._fitCols(o,i,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+a,h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,v)=>{let _=r+t/2+s.measureText(m.text).width;(v===0||l[l.length-1]+_+2*a>o)&&(h+=u,l[l.length-(v>0?0:1)]=0,p+=u,f++),c[v]={left:0,top:p,row:f,width:_,height:i},l[l.length-1]+=_+a}),h}_fitCols(e,t,r,i){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-e,h=a,f=0,p=0,m=0,v=0;return this.legendItems.forEach((_,C)=>{let{itemWidth:x,itemHeight:N}=$ee(r,t,s,_,i);C>0&&p+N+2*a>u&&(h+=f+a,l.push({width:f,height:p}),m+=f+a,v++,f=p=0),c[C]={left:m,top:p,col:v,width:x,height:N},f=Math.max(f,x),p+=N+a}),h+=f,l.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=jo(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=tn(r,this.left+i,this.right-this.lineWidths[a]);for(let l of t)a!==l.row&&(a=l.row,c=tn(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+e+i,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+i}else{let a=0,c=tn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(let l of t)l.col!==a&&(a=l.col,c=tn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;lu(e,this),this._draw(),uu(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=tt.color,c=jo(e.rtl,this.left,this.width),l=vt(o.font),{padding:u}=o,h=l.size,f=h/2,p;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:m,boxHeight:v,itemHeight:_}=zj(o,h),C=function(B,D,w){if(isNaN(m)||m<=0||isNaN(v)||v<0)return;i.save();let I=oe(w.lineWidth,1);if(i.fillStyle=oe(w.fillStyle,a),i.lineCap=oe(w.lineCap,"butt"),i.lineDashOffset=oe(w.lineDashOffset,0),i.lineJoin=oe(w.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=oe(w.strokeStyle,a),i.setLineDash(oe(w.lineDash,[])),o.usePointStyle){let S={radius:v*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:I},A=c.xPlus(B,m/2),P=D+f;Uv(i,S,A,P,o.pointStyleWidth&&m)}else{let S=D+Math.max((h-v)/2,0),A=c.leftForLtr(B,m),P=ks(w.borderRadius);i.beginPath(),Object.values(P).some(T=>T!==0)?tc(i,{x:A,y:S,w:m,h:v,radius:P}):i.rect(A,S,m,v),i.fill(),I!==0&&i.stroke()}i.restore()},x=function(B,D,w){Ps(i,w.text,B,D+_/2,l,{strikethrough:w.hidden,textAlign:c.textAlign(w.textAlign)})},N=this.isHorizontal(),j=this._computeTitleHeight();N?p={x:tn(s,this.left+u,this.right-r[0]),y:this.top+u+j,line:0}:p={x:this.left+u,y:tn(s,this.top+j+u,this.bottom-t[0].height),line:0},Kv(this.ctx,e.textDirection);let L=_+u;this.legendItems.forEach((B,D)=>{i.strokeStyle=B.fontColor,i.fillStyle=B.fontColor;let w=i.measureText(B.text).width,I=c.textAlign(B.textAlign||(B.textAlign=o.textAlign)),S=m+f+w,A=p.x,P=p.y;c.setWidth(this.width),N?D>0&&A+S+u>this.right&&(P=p.y+=L,p.line++,A=p.x=tn(s,this.left+u,this.right-r[p.line])):D>0&&P+L>this.bottom&&(A=p.x=A+t[p.line].width+u,p.line++,P=p.y=tn(s,this.top+j+u,this.bottom-t[p.line].height));let T=c.x(A);if(C(T,P,B),A=wS(I,A+m+f,N?A+S:this.right,e.rtl),x(c.x(A),P,B),N)p.x+=S+u;else if(typeof B.text!="string"){let gt=l.lineHeight;p.y+=CB(B,gt)+u}else p.y+=L}),Yv(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,r=vt(t.font),i=Vt(t.padding);if(!t.display)return;let s=jo(e.rtl,this.left,this.width),o=this.ctx,a=t.position,c=r.size/2,l=i.top+c,u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+l,h=tn(e.align,h,this.right-f);else{let m=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);u=l+tn(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}let p=tn(a,h,h+f);o.textAlign=s.textAlign(Jh(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,Ps(o,t.text,p,u,r)}_computeTitleHeight(){let e=this.options.title,t=vt(e.font),r=Vt(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(ci(e,this.left,this.right)&&ci(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ci(e,i.left,i.left+i.width)&&ci(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){let t=this.options;if(!Wee(e.type,t))return;let r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,s=Uee(i,r);i&&!s&&Ve(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Ve(t.onHover,[e,r,this],this)}else r&&Ve(t.onClick,[e,r,this],this)}};function $ee(n,e,t,r,i){let s=Hee(r,n,e,t),o=zee(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Hee(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function zee(n,e,t){let r=n;return typeof e.text!="string"&&(r=CB(e,t)),r}function CB(n,e){let t=n.text?n.text.length:0;return e*t}function Wee(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var wf={id:"legend",_element:h_,start(n,e,t){let r=n.legend=new h_({ctx:n.ctx,options:t,chart:n});Cn.configure(n,r,t),Cn.addBox(n,r)},stop(n){Cn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let r=n.legend;Cn.configure(n,r,t),r.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),u=Vt(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},yf=class extends li{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=Ze(r.text)?r.text.length:1;this._padding=Vt(r.padding);let s=i*vt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align,c=0,l,u,h;return this.isHorizontal()?(u=tn(a,r,s),h=t+e,l=s-r):(o.position==="left"?(u=r+e,h=tn(a,i,t),c=Je*-.5):(u=s-e,h=tn(a,t,i),c=Je*.5),l=i-t),{titleX:u,titleY:h,maxWidth:l,rotation:c}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let r=vt(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);Ps(e,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:l,textAlign:Jh(t.align),textBaseline:"middle",translation:[o,a]})}};function qee(n,e){let t=new yf({ctx:n.ctx,options:e,chart:n});Cn.configure(n,t,e),Cn.addBox(n,t),n.titleBlock=t}var Ef={id:"title",_element:yf,start(n,e,t){qee(n,t)},stop(n){let e=n.titleBlock;Cn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let r=n.titleBlock;Cn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},n_=new WeakMap,Gee={id:"subtitle",start(n,e,t){let r=new yf({ctx:n.ctx,options:t,chart:n});Cn.configure(n,r,t),Cn.addBox(n,r),n_.set(n,r)},stop(n){Cn.removeBox(n,n_.get(n)),n_.delete(n)},beforeUpdate(n,e,t){let r=n_.get(n);Cn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ff={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){let c=n[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=Yh(e,l);u<i&&(i=u,a=c)}}if(a){let c=a.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function qi(n,e){return e&&(Ze(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Fs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Kee(n,e){let{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Wj(n,e){let t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,c=vt(e.bodyFont),l=vt(e.titleFont),u=vt(e.footerFont),h=s.length,f=i.length,p=r.length,m=Vt(e.padding),v=m.height,_=0,C=r.reduce((j,L)=>j+L.before.length+L.lines.length+L.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,h&&(v+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),C){let j=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;v+=p*j+(C-p)*c.lineHeight+(C-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0,N=function(j){_=Math.max(_,t.measureText(j).width+x)};return t.save(),t.font=l.string,Oe(n.title,N),t.font=c.string,Oe(n.beforeBody.concat(n.afterBody),N),x=e.displayColors?o+2+e.boxPadding:0,Oe(r,j=>{Oe(j.before,N),Oe(j.lines,N),Oe(j.after,N)}),x=0,t.font=u.string,Oe(n.footer,N),t.restore(),_+=m.width,{width:_,height:v}}function Yee(n,e){let{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Qee(n,e,t,r){let{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function Xee(n,e,t,r){let{x:i,width:s}=t,{width:o,chartArea:{left:a,right:c}}=n,l="center";return r==="center"?l=i<=(a+c)/2?"left":"right":i<=s/2?l="left":i>=o-s/2&&(l="right"),Qee(l,n,e,t)&&(l="center"),l}function qj(n,e,t){let r=t.yAlign||e.yAlign||Yee(n,t);return{xAlign:t.xAlign||e.xAlign||Xee(n,e,t,r),yAlign:r}}function Zee(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function Jee(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function Gj(n,e,t,r){let{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:c}=t,l=i+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=ks(o),m=Zee(e,a),v=Jee(e,c,l);return c==="center"?a==="left"?m+=l:a==="right"&&(m-=l):a==="left"?m-=Math.max(u,f)+i:a==="right"&&(m+=Math.max(h,p)+i),{x:Lt(m,0,r.width-e.width),y:Lt(v,0,r.height-e.height)}}function r_(n,e,t){let r=Vt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Kj(n){return qi([],Fs(n))}function ete(n,e,t){return Wi(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Yj(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var TB={beforeTitle:ai,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:ai,beforeBody:ai,beforeLabel:ai,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return ae(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ai,afterBody:ai,beforeFooter:ai,footer:ai,afterFooter:ai};function Xn(n,e,t,r){let i=n[e].call(t,r);return typeof i>"u"?TB[e].call(t,r):i}var Qj=(()=>{class n extends li{static positioners=ff;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new a_(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=ete(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){let{callbacks:i}=r,s=Xn(i,"beforeTitle",this,t),o=Xn(i,"title",this,t),a=Xn(i,"afterTitle",this,t),c=[];return c=qi(c,Fs(s)),c=qi(c,Fs(o)),c=qi(c,Fs(a)),c}getBeforeBody(t,r){return Kj(Xn(r.callbacks,"beforeBody",this,t))}getBody(t,r){let{callbacks:i}=r,s=[];return Oe(t,o=>{let a={before:[],lines:[],after:[]},c=Yj(i,o);qi(a.before,Fs(Xn(c,"beforeLabel",this,o))),qi(a.lines,Xn(c,"label",this,o)),qi(a.after,Fs(Xn(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,r){return Kj(Xn(r.callbacks,"afterBody",this,t))}getFooter(t,r){let{callbacks:i}=r,s=Xn(i,"beforeFooter",this,t),o=Xn(i,"footer",this,t),a=Xn(i,"afterFooter",this,t),c=[];return c=qi(c,Fs(s)),c=qi(c,Fs(o)),c=qi(c,Fs(a)),c}_createItems(t){let r=this._active,i=this.chart.data,s=[],o=[],a=[],c=[],l,u;for(l=0,u=r.length;l<u;++l)c.push(Kee(this.chart,r[l]));return t.filter&&(c=c.filter((h,f,p)=>t.filter(h,f,p,i))),t.itemSort&&(c=c.sort((h,f)=>t.itemSort(h,f,i))),Oe(c,h=>{let f=Yj(t.callbacks,h);s.push(Xn(f,"labelColor",this,h)),o.push(Xn(f,"labelPointStyle",this,h)),a.push(Xn(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(t,r){let i=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=ff[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=Wj(this,i),u=Object.assign({},c,l),h=qj(this.chart,i,u),f=Gj(i,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,s){let o=this.getCaretPosition(t,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(t,r,i){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:f}=ks(c),{x:p,y:m}=t,{width:v,height:_}=r,C,x,N,j,L,B;return o==="center"?(L=m+_/2,s==="left"?(C=p,x=C-a,j=L+a,B=L-a):(C=p+v,x=C+a,j=L-a,B=L+a),N=C):(s==="left"?x=p+Math.max(l,h)+a:s==="right"?x=p+v-Math.max(u,f)-a:x=this.caretX,o==="top"?(j=m,L=j-a,C=x-a,N=x+a):(j=m+_,L=j+a,C=x+a,N=x-a),B=j),{x1:C,x2:x,x3:N,y1:j,y2:L,y3:B}}drawTitle(t,r,i){let s=this.title,o=s.length,a,c,l;if(o){let u=jo(i.rtl,this.x,this.width);for(t.x=r_(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=vt(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===o&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,r,i,s,o){let a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=o,h=vt(o.bodyFont),f=r_(this,"left",o),p=s.x(f),m=l<h.lineHeight?(h.lineHeight-l)/2:0,v=r.y+m;if(o.usePointStyle){let _={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=s.leftForLtr(p,u)+u/2,x=v+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,tf(t,_,C,x),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,tf(t,_,C,x)}else{t.lineWidth=we(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let _=s.leftForLtr(p,u),C=s.leftForLtr(s.xPlus(p,1),u-2),x=ks(a.borderRadius);Object.values(x).some(N=>N!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,tc(t,{x:_,y:v,w:u,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),tc(t,{x:C,y:v+1,w:u-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,v,u,l),t.strokeRect(_,v,u,l),t.fillStyle=a.backgroundColor,t.fillRect(C,v+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:h}=i,f=vt(i.bodyFont),p=f.lineHeight,m=0,v=jo(i.rtl,this.x,this.width),_=function(I){r.fillText(I,v.x(t.x+m),t.y+p/2),t.y+=p+o},C=v.textAlign(a),x,N,j,L,B,D,w;for(r.textAlign=a,r.textBaseline="middle",r.font=f.string,t.x=r_(this,C,i),r.fillStyle=i.bodyColor,Oe(this.beforeBody,_),m=c&&C!=="right"?a==="center"?u/2+h:u+2+h:0,L=0,D=s.length;L<D;++L){for(x=s[L],N=this.labelTextColors[L],r.fillStyle=N,Oe(x.before,_),j=x.lines,c&&j.length&&(this._drawColorBox(r,t,L,v,i),p=Math.max(f.lineHeight,l)),B=0,w=j.length;B<w;++B)_(j[B]),p=f.lineHeight;Oe(x.after,_)}m=0,p=f.lineHeight,Oe(this.afterBody,_),t.y-=o}drawFooter(t,r,i){let s=this.footer,o=s.length,a,c;if(o){let l=jo(i.rtl,this.x,this.width);for(t.x=r_(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=vt(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,r,i,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=t,{width:u,height:h}=i,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:v}=ks(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(c+f,l),a==="top"&&this.drawCaret(t,r,i,s),r.lineTo(c+u-p,l),r.quadraticCurveTo(c+u,l,c+u,l+p),a==="center"&&o==="right"&&this.drawCaret(t,r,i,s),r.lineTo(c+u,l+h-v),r.quadraticCurveTo(c+u,l+h,c+u-v,l+h),a==="bottom"&&this.drawCaret(t,r,i,s),r.lineTo(c+m,l+h),r.quadraticCurveTo(c,l+h,c,l+h-m),a==="center"&&o==="left"&&this.drawCaret(t,r,i,s),r.lineTo(c,l+f),r.quadraticCurveTo(c,l,c+f,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){let r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){let a=ff[t.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=Wj(this,t),l=Object.assign({},a,this._size),u=qj(r,t,l),h=Gj(t,l,u,r);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=Vt(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,r),Kv(t,r.textDirection),o.y+=a.top,this.drawTitle(o,t,r),this.drawBody(o,t,r),this.drawFooter(o,t,r),Yv(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){let i=this._active,s=t.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),o=!cu(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(t,o,r,i),c=this._positionChanged(a,t),l=r||!cu(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,i,s){let o=this.options;if(t.type==="mouseout")return[];if(!s)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(t,r){let{caretX:i,caretY:s,options:o}=this,a=ff[o.position].call(this,t,r);return a!==!1&&(i!==a.x||s!==a.y)}}return n})(),If={id:"tooltip",_element:Qj,positioners:ff,afterInit(n,e,t){t&&(n.tooltip=new Qj({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",fe(z({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:TB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},tte=Object.freeze({__proto__:null,Colors:mee,Decimation:bee,Filler:Bee,Legend:wf,SubTitle:Gee,Title:Ef,Tooltip:If}),nte=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function rte(n,e,t,r){let i=n.indexOf(e);if(i===-1)return nte(n,e,t,r);let s=n.lastIndexOf(e);return i!==s?t:i}var ite=(n,e)=>n===null?null:Lt(Math.round(n),0,e);function Xj(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var Df=(()=>{class n extends ic{static id="category";static defaults={ticks:{callback:Xj}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(ae(t))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===t?r:rte(i,t,oe(r,t),this._addedLabels),ite(r,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){let t=this.min,r=this.max,i=this.options.offset,s=[],o=this.getLabels();o=t===0&&r===o.length-1?o:o.slice(t,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=r;a++)s.push({value:a});return s}getLabelForValue(t){return Xj.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function ste(n,e){let t=[],{bounds:i,step:s,min:o,max:a,precision:c,count:l,maxTicks:u,maxDigits:h,includeBounds:f}=n,p=s||1,m=u-1,{min:v,max:_}=e,C=!ae(o),x=!ae(a),N=!ae(l),j=(_-v)/(h+1),L=Sv((_-v)/m/p)*p,B,D,w,I;if(L<1e-14&&!C&&!x)return[{value:v},{value:_}];I=Math.ceil(_/L)-Math.floor(v/L),I>m&&(L=Sv(I*L/m/p)*p),ae(c)||(B=Math.pow(10,c),L=Math.ceil(L*B)/B),i==="ticks"?(D=Math.floor(v/L)*L,w=Math.ceil(_/L)*L):(D=v,w=_),C&&x&&s&&gS((a-o)/s,L/1e3)?(I=Math.round(Math.min((a-o)/L,u)),L=(a-o)/I,D=o,w=a):N?(D=C?o:D,w=x?a:w,I=l-1,L=(w-D)/I):(I=(w-D)/L,Za(I,Math.round(I),L/1e3)?I=Math.round(I):I=Math.ceil(I));let S=Math.max(Av(L),Av(D));B=Math.pow(10,ae(c)?S:c),D=Math.round(D*B)/B,w=Math.round(w*B)/B;let A=0;for(C&&(f&&D!==o?(t.push({value:o}),D<o&&A++,Za(Math.round((D+A*L)*B)/B,o,Zj(o,j,n))&&A++):D<o&&A++);A<I;++A){let P=Math.round((D+A*L)*B)/B;if(x&&P>a)break;t.push({value:P})}return x&&f&&w!==a?t.length&&Za(t[t.length-1].value,a,Zj(a,j,n))?t[t.length-1].value=a:t.push({value:a}):(!x||w===a)&&t.push({value:w}),t}function Zj(n,e,{horizontal:t,minRotation:r}){let i=gr(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}var fu=class extends ic{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ae(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:s}=this,o=c=>i=t?i:c,a=c=>s=r?s:c;if(e){let c=kr(i),l=kr(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(i-c)}this.min=i,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=ste(i,s);return e.bounds==="ticks"&&xv(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return ec(e,this.chart.options.locale,this.options.ticks.format)}},sc=class extends fu{static id="linear";static defaults={ticks:{callback:ef.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=pt(e)?e:0,this.max=pt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,r=gr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},vf=n=>Math.floor(Hi(n)),rc=(n,e)=>Math.pow(10,vf(n)+e);function Jj(n){return n/Math.pow(10,vf(n))===1}function eB(n,e,t){let r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function ote(n,e){let t=e-n,r=vf(t);for(;eB(n,e,r)>10;)r++;for(;eB(n,e,r)<10;)r--;return Math.min(r,vf(n))}function ate(n,{min:e,max:t}){e=jn(n.min,e);let r=[],i=vf(e),s=ote(e,t),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=i>s?Math.pow(10,i):0,l=Math.round((e-c)*o)/o,u=Math.floor((e-c)/a/10)*a*10,h=Math.floor((l-u)/Math.pow(10,s)),f=jn(n.min,Math.round((c+u+h*Math.pow(10,s))*o)/o);for(;f<t;)r.push({value:f,major:Jj(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((c+u+h*Math.pow(10,s))*o)/o;let p=jn(n.max,f);return r.push({value:p,major:Jj(p),significand:h}),r}var rx=class extends ic{static id="logarithmic";static defaults={ticks:{callback:ef.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let r=fu.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return pt(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=pt(e)?Math.max(0,e):null,this.max=pt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!pt(this._userMin)&&(this.min=e===rc(this.min,0)?rc(this.min,-1):rc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,s=a=>r=e?r:a,o=a=>i=t?i:a;r===i&&(r<=0?(s(1),o(10)):(s(rc(r,-1)),o(rc(i,1)))),r<=0&&s(rc(i,-1)),i<=0&&o(rc(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},r=ate(t,this);return e.bounds==="ticks"&&xv(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":ec(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Hi(e),this._valueRange=Hi(this.max)-Hi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Hi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function ix(n){let e=n.ticks;if(e.display&&n.display){let t=Vt(e.backdropPadding);return oe(e.font&&e.font.size,tt.font.size)+t.height}return 0}function cte(n,e,t){return t=Ze(t)?t:[t],{w:ES(n,e.string,t),h:t.length*e.lineHeight}}function tB(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function lte(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Je/s:0;for(let c=0;c<s;c++){let l=o.setContext(n.getPointLabelContext(c));i[c]=l.padding;let u=n.getPointPosition(c,n.drawingArea+i[c],a),h=vt(l.font),f=cte(n.ctx,h,n._pointLabels[c]);r[c]=f;let p=Vn(n.getIndexAngle(c)+a),m=Math.round(Xh(p)),v=tB(m,u.x,f.w,0,180),_=tB(m,u.y,f.h,90,270);ute(t,e,p,v,_)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=fte(n,r,i)}function ute(n,e,t,r,i){let s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),a=0,c=0;r.start<e.l?(a=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function dte(n,e,t){let r=n.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=t,c=n.getPointPosition(e,r+i+o,s),l=Math.round(Xh(Vn(c.angle+yt))),u=mte(c.y,a.h,l),h=pte(l),f=gte(c.x,a.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function hte(n,e){if(!e)return!0;let{left:t,top:r,right:i,bottom:s}=n;return!(oi({x:t,y:r},e)||oi({x:t,y:s},e)||oi({x:i,y:r},e)||oi({x:i,y:s},e))}function fte(n,e,t){let r=[],i=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:ix(s)/2,additionalAngle:o?Je/i:0},l;for(let u=0;u<i;u++){c.padding=t[u],c.size=e[u];let h=dte(n,u,c);r.push(h),a==="auto"&&(h.visible=hte(h,l),h.visible&&(l=h))}return r}function pte(n){return n===0||n===180?"center":n<180?"left":"right"}function gte(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function mte(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function yte(n,e,t){let{left:r,top:i,right:s,bottom:o}=t,{backdropColor:a}=e;if(!ae(a)){let c=ks(e.borderRadius),l=Vt(e.backdropPadding);n.fillStyle=a;let u=r-l.left,h=i-l.top,f=s-r+l.width,p=o-i+l.height;Object.values(c).some(m=>m!==0)?(n.beginPath(),tc(n,{x:u,y:h,w:f,h:p,radius:c}),n.fill()):n.fillRect(u,h,f,p)}}function vte(n,e){let{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){let s=n._pointLabelItems[i];if(!s.visible)continue;let o=r.setContext(n.getPointLabelContext(i));yte(t,o,s);let a=vt(o.font),{x:c,y:l,textAlign:u}=s;Ps(t,n._pointLabels[i],c,l+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function SB(n,e,t,r){let{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,et);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=n.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function _te(n,e,t,r,i){let s=n.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!r||!a||!c||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),SB(n,t,o,r),s.closePath(),s.stroke(),s.restore())}function bte(n,e,t){return Wi(n,{label:t,index:e,type:"pointLabel"})}var sx=class extends fu{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ef.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Vt(ix(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=pt(e)&&!isNaN(e)?e:0,this.max=pt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ix(this.options))}generateTickLabels(e){fu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{let i=Ve(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){let e=this.options;e.display&&e.pointLabels.display?lte(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){let t=et/(this._pointLabels.length||1),r=this.options.startAngle||0;return Vn(e*t+gr(r))}getDistanceFromCenterForValue(e){if(ae(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ae(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let r=t[e];return bte(this.getContext(),e,r)}}getPointPosition(e,t,r=0){let i=this.getIndexAngle(e)-yt+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),SB(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:r,grid:i,border:s}=t,o=this._pointLabels.length,a,c,l;if(t.pointLabels.display&&vte(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);let f=this.getContext(h),p=i.setContext(f),m=s.setContext(f);_te(this,p,c,o,m)}}),r.display){for(e.save(),a=o-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;let i=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=r.setContext(this.getContext(c)),u=vt(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let h=Vt(l.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Ps(e,a.label,0,-s,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},f_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zn=Object.keys(f_);function nB(n,e){return n-e}function rB(n,e){if(ae(e))return null;let t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts,o=e;return typeof r=="function"&&(o=r(o)),pt(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(Lo(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function iB(n,e,t,r){let i=Zn.length;for(let s=Zn.indexOf(n);s<i-1;++s){let o=f_[Zn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return Zn[s]}return Zn[i-1]}function wte(n,e,t,r,i){for(let s=Zn.length-1;s>=Zn.indexOf(t);s--){let o=Zn[s];if(f_[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Zn[t?Zn.indexOf(t):0]}function Ete(n){for(let e=Zn.indexOf(n)+1,t=Zn.length;e<t;++e)if(f_[Zn[e]].common)return Zn[e]}function sB(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:r,hi:i}=Zh(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function Ite(n,e,t,r){let i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value,a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=t[a],c>=0&&(e[c].major=!0);return e}function oB(n,e,t){let r=[],i={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!t?r:Ite(n,r,i,t)}var ox=(()=>{class n extends ic{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){let i=t.time||(t.time={}),s=this._adapter=new BZ._date(t.adapters.date);s.init(r),Qa(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:rB(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,r=this._adapter,i=t.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!c&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=pt(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=pt(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let t=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){let t=this.options,r=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=vS(s,o,a);return this._unit=r.unit||(i.autoSkip?iB(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):wte(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Ete(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),oB(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?r=1-s:r=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;r=Lt(r,0,a),i=Lt(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let t=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||iB(o.minUnit,r,i,this._getLabelCapacity(r)),c=oe(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,u=Lo(l)||l===!0,h={},f=r,p,m;if(u&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,u?"day":a),t.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);let v=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,m=0;p<i;p=+t.add(p,c,a),m++)sB(h,p,v);return(p===i||s.bounds==="ticks"||m===1)&&sB(h,p,v),Object.keys(h).sort(nB).map(_=>+_)}getLabelForValue(t){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(t,i.tooltipFormat):r.format(t,i.displayFormats.datetime)}format(t,r){let s=this.options.time.displayFormats,o=this._unit,a=r||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,r,i,s){let o=this.options,a=o.ticks.callback;if(a)return Ve(a,[t,r,i],this);let c=o.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&c[l],f=u&&c[u],p=i[r],m=u&&f&&p&&p.major;return this._adapter.format(t,s||(m?f:h))}generateTickLabels(t){let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r],s.label=this._tickFormatFunction(s.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let r=this.options.ticks,i=this.ctx.measureText(t).width,s=gr(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(t){let r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(t,0,oB(this,[t],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],r,i;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)t=t.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],r,i;if(t.length)return t;let s=this.getLabels();for(r=0,i=s.length;r<i;++r)t.push(rB(this,s[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Pv(t.sort(nB))}}return n})();function i_(n,e,t){let r=0,i=n.length-1,s,o,a,c;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=si(n,"pos",e)),{pos:s,time:a}=n[r],{pos:o,time:c}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=si(n,"time",e)),{time:s,pos:a}=n[r],{time:o,pos:c}=n[i]);let l=o-s;return l?a+(c-a)*(e-s)/l:a}var ax=class extends ox{static id="timeseries";static defaults=ox.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=i_(t,this.min),this._tableRange=i_(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:r}=this,i=[],s=[],o,a,c,l,u;for(o=0,a=e.length;o<a;++o)l=e[o],l>=t&&l<=r&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],c=i[o-1],l=i[o],Math.round((u+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let e=this.min,t=this.max,r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(i_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return i_(this._table,r*this._tableRange+this._minPos,!0)}},Dte=Object.freeze({__proto__:null,CategoryScale:Df,LinearScale:sc,LogarithmicScale:rx,RadialLinearScale:sx,TimeScale:ox,TimeSeriesScale:ax}),xB=[jZ,lee,tte,Dte];var AB=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),Tf={toTextLines:function(n){var e=[],t;for(n=[].concat(n);n.length;)t=n.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?n.push.apply(n,t):ae(n)||e.unshift(""+t);return e},textSize:function(n,e,t){var r=[].concat(e),i=r.length,s=n.font,o=0,a;for(n.font=t.string,a=0;a<i;++a)o=Math.max(n.measureText(r[a]).width,o);return n.font=s,{height:i*t.lineHeight,width:o}},bound:function(n,e,t){return Math.max(n,Math.min(e,t))},arrayDiff:function(n,e){var t=n.slice(),r=[],i,s,o,a;for(i=0,o=e.length;i<o;++i)a=e[i],s=t.indexOf(a),s===-1?r.push([a,1]):t.splice(s,1);for(i=0,o=t.length;i<o;++i)r.push([t[i],-1]);return r},rasterize:function(n){return Math.round(n*AB)/AB}};function ux(n,e){var t=e.x,r=e.y;if(t===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=n.x-t,s=n.y-r,o=Math.sqrt(i*i+s*s);return{x:o?i/o:0,y:o?s/o:-1}}function Cte(n,e,t,r,i){switch(i){case"center":t=r=0;break;case"bottom":t=0,r=1;break;case"right":t=1,r=0;break;case"left":t=-1,r=0;break;case"top":t=0,r=-1;break;case"start":t=-t,r=-r;break;case"end":break;default:i*=Math.PI/180,t=Math.cos(i),r=Math.sin(i);break}return{x:n,y:e,vx:t,vy:r}}var Tte=0,RB=1,PB=2,kB=4,NB=8;function p_(n,e,t){var r=Tte;return n<t.left?r|=RB:n>t.right&&(r|=PB),e<t.top?r|=NB:e>t.bottom&&(r|=kB),r}function Ste(n,e){for(var t=n.x0,r=n.y0,i=n.x1,s=n.y1,o=p_(t,r,e),a=p_(i,s,e),c,l,u;!(!(o|a)||o&a);)c=o||a,c&NB?(l=t+(i-t)*(e.top-r)/(s-r),u=e.top):c&kB?(l=t+(i-t)*(e.bottom-r)/(s-r),u=e.bottom):c&PB?(u=r+(s-r)*(e.right-t)/(i-t),l=e.right):c&RB&&(u=r+(s-r)*(e.left-t)/(i-t),l=e.left),c===o?(t=l,r=u,o=p_(t,r,e)):(i=l,s=u,a=p_(i,s,e));return{x0:t,x1:i,y0:r,y1:s}}function g_(n,e){var t=e.anchor,r=n,i,s;return e.clamp&&(r=Ste(r,e.area)),t==="start"?(i=r.x0,s=r.y0):t==="end"?(i=r.x1,s=r.y1):(i=(r.x0+r.x1)/2,s=(r.y0+r.y1)/2),Cte(i,s,n.vx,n.vy,e.align)}var m_={arc:function(n,e){var t=(n.startAngle+n.endAngle)/2,r=Math.cos(t),i=Math.sin(t),s=n.innerRadius,o=n.outerRadius;return g_({x0:n.x+r*s,y0:n.y+i*s,x1:n.x+r*o,y1:n.y+i*o,vx:r,vy:i},e)},point:function(n,e){var t=ux(n,e.origin),r=t.x*n.options.radius,i=t.y*n.options.radius;return g_({x0:n.x-r,y0:n.y-i,x1:n.x+r,y1:n.y+i,vx:t.x,vy:t.y},e)},bar:function(n,e){var t=ux(n,e.origin),r=n.x,i=n.y,s=0,o=0;return n.horizontal?(r=Math.min(n.x,n.base),s=Math.abs(n.base-n.x)):(i=Math.min(n.y,n.base),o=Math.abs(n.base-n.y)),g_({x0:r,y0:i+o,x1:r+s,y1:i,vx:t.x,vy:t.y},e)},fallback:function(n,e){var t=ux(n,e.origin);return g_({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},e)}},Ls=Tf.rasterize;function xte(n){var e=n.borderWidth||0,t=n.padding,r=n.size.height,i=n.size.width,s=-i/2,o=-r/2;return{frame:{x:s-t.left-e,y:o-t.top-e,w:i+t.width+e*2,h:r+t.height+e*2},text:{x:s,y:o,w:i,h:r}}}function Ate(n,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var r=t.getBasePixel();return n.horizontal?{x:r,y:null}:{x:null,y:r}}function Mte(n){return n instanceof gf?m_.arc:n instanceof oc?m_.point:n instanceof mf?m_.bar:m_.fallback}function Rte(n,e,t,r,i,s){var o=Math.PI/2;if(s){var a=Math.min(s,i/2,r/2),c=e+a,l=t+a,u=e+r-a,h=t+i-a;n.moveTo(e,l),c<u&&l<h?(n.arc(c,l,a,-Math.PI,-o),n.arc(u,l,a,-o,0),n.arc(u,h,a,0,o),n.arc(c,h,a,o,Math.PI)):c<u?(n.moveTo(c,t),n.arc(u,l,a,-o,o),n.arc(c,l,a,o,Math.PI+o)):l<h?(n.arc(c,l,a,-Math.PI,0),n.arc(c,h,a,0,Math.PI)):n.arc(c,l,a,-Math.PI,Math.PI),n.closePath(),n.moveTo(e,t)}else n.rect(e,t,r,i)}function Pte(n,e,t){var r=t.backgroundColor,i=t.borderColor,s=t.borderWidth;!r&&(!i||!s)||(n.beginPath(),Rte(n,Ls(e.x)+s/2,Ls(e.y)+s/2,Ls(e.w)-s,Ls(e.h)-s,t.borderRadius),n.closePath(),r&&(n.fillStyle=r,n.fill()),i&&s&&(n.strokeStyle=i,n.lineWidth=s,n.lineJoin="miter",n.stroke()))}function kte(n,e,t){var r=t.lineHeight,i=n.w,s=n.x,o=n.y+r/2;return e==="center"?s+=i/2:(e==="end"||e==="right")&&(s+=i),{h:r,w:i,x:s,y:o}}function Nte(n,e,t){var r=n.shadowBlur,i=t.stroked,s=Ls(t.x),o=Ls(t.y),a=Ls(t.w);i&&n.strokeText(e,s,o,a),t.filled&&(r&&i&&(n.shadowBlur=0),n.fillText(e,s,o,a),r&&i&&(n.shadowBlur=r))}function Ote(n,e,t,r){var i=r.textAlign,s=r.color,o=!!s,a=r.font,c=e.length,l=r.textStrokeColor,u=r.textStrokeWidth,h=l&&u,f;if(!(!c||!o&&!h))for(t=kte(t,i,a),n.font=a.string,n.textAlign=i,n.textBaseline="middle",n.shadowBlur=r.textShadowBlur,n.shadowColor=r.textShadowColor,o&&(n.fillStyle=s),h&&(n.lineJoin="round",n.lineWidth=u,n.strokeStyle=l),f=0,c=e.length;f<c;++f)Nte(n,e[f],{stroked:h,filled:o,w:t.w,x:t.x,y:t.y+t.h*f})}var OB=function(n,e,t,r){var i=this;i._config=n,i._index=r,i._model=null,i._rects=null,i._ctx=e,i._el=t};pr(OB.prototype,{_modelize:function(n,e,t,r){var i=this,s=i._index,o=vt(qe([t.font,{}],r,s)),a=qe([t.color,tt.color],r,s);return{align:qe([t.align,"center"],r,s),anchor:qe([t.anchor,"center"],r,s),area:r.chart.chartArea,backgroundColor:qe([t.backgroundColor,null],r,s),borderColor:qe([t.borderColor,null],r,s),borderRadius:qe([t.borderRadius,0],r,s),borderWidth:qe([t.borderWidth,0],r,s),clamp:qe([t.clamp,!1],r,s),clip:qe([t.clip,!1],r,s),color:a,display:n,font:o,lines:e,offset:qe([t.offset,4],r,s),opacity:qe([t.opacity,1],r,s),origin:Ate(i._el,r),padding:Vt(qe([t.padding,4],r,s)),positioner:Mte(i._el),rotation:qe([t.rotation,0],r,s)*(Math.PI/180),size:Tf.textSize(i._ctx,e,o),textAlign:qe([t.textAlign,"start"],r,s),textShadowBlur:qe([t.textShadowBlur,0],r,s),textShadowColor:qe([t.textShadowColor,a],r,s),textStrokeColor:qe([t.textStrokeColor,a],r,s),textStrokeWidth:qe([t.textStrokeWidth,0],r,s)}},update:function(n){var e=this,t=null,r=null,i=e._index,s=e._config,o,a,c,l=qe([s.display,!0],n,i);l&&(o=n.dataset.data[i],a=oe(Ve(s.formatter,[o,n]),o),c=ae(a)?[]:Tf.toTextLines(a),c.length&&(t=e._modelize(l,c,s,n),r=xte(t))),e._model=t,e._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,e){var t=this,r=n.ctx,i=t._model,s=t._rects,o;this.visible()&&(r.save(),i.clip&&(o=i.area,r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()),r.globalAlpha=Tf.bound(0,i.opacity,1),r.translate(Ls(e.x),Ls(e.y)),r.rotate(i.rotation),Pte(r,s.frame,i),Ote(r,i.lines,s.text,i),r.restore())}});var Fte=Number.MIN_SAFE_INTEGER||-9007199254740991,Lte=Number.MAX_SAFE_INTEGER||9007199254740991;function Cf(n,e,t){var r=Math.cos(t),i=Math.sin(t),s=e.x,o=e.y;return{x:s+r*(n.x-s)-i*(n.y-o),y:o+i*(n.x-s)+r*(n.y-o)}}function MB(n,e){var t=Lte,r=Fte,i=e.origin,s,o,a,c,l;for(s=0;s<n.length;++s)o=n[s],a=o.x-i.x,c=o.y-i.y,l=e.vx*a+e.vy*c,t=Math.min(t,l),r=Math.max(r,l);return{min:t,max:r}}function y_(n,e){var t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);return{vx:(e.x-n.x)/i,vy:(e.y-n.y)/i,origin:n,ln:i}}var FB=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};pr(FB.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,e,t){this._rotation=t,this._rect={x:e.x+n.x,y:e.y+n.y,w:e.w,h:e.h}},contains:function(n){var e=this,t=1,r=e._rect;return n=Cf(n,e.center(),-e._rotation),!(n.x<r.x-t||n.y<r.y-t||n.x>r.x+r.w+t*2||n.y>r.y+r.h+t*2)},intersects:function(n){var e=this._points(),t=n._points(),r=[y_(e[0],e[1]),y_(e[0],e[3])],i,s,o;for(this._rotation!==n._rotation&&r.push(y_(t[0],t[1]),y_(t[0],t[3])),i=0;i<r.length;++i)if(s=MB(e,r[i]),o=MB(t,r[i]),s.max<o.min||o.max<s.min)return!1;return!0},_points:function(){var n=this,e=n._rect,t=n._rotation,r=n.center();return[Cf({x:e.x,y:e.y},r,t),Cf({x:e.x+e.w,y:e.y},r,t),Cf({x:e.x+e.w,y:e.y+e.h},r,t),Cf({x:e.x,y:e.y+e.h},r,t)]}});function LB(n,e,t){var r=e.positioner(n,e),i=r.vx,s=r.vy;if(!i&&!s)return{x:r.x,y:r.y};var o=t.w,a=t.h,c=e.rotation,l=Math.abs(o/2*Math.cos(c))+Math.abs(a/2*Math.sin(c)),u=Math.abs(o/2*Math.sin(c))+Math.abs(a/2*Math.cos(c)),h=1/Math.max(Math.abs(i),Math.abs(s));return l*=i*h,u*=s*h,l+=e.offset*i,u+=e.offset*s,{x:r.x+l,y:r.y+u}}function Vte(n,e){var t,r,i,s;for(t=n.length-1;t>=0;--t)for(i=n[t].$layout,r=t-1;r>=0&&i._visible;--r)s=n[r].$layout,s._visible&&i._box.intersects(s._box)&&e(i,s);return n}function jte(n){var e,t,r,i,s,o,a;for(e=0,t=n.length;e<t;++e)r=n[e],i=r.$layout,i._visible&&(a=new Proxy(r._el,{get:(c,l)=>c.getProps([l],!0)[l]}),s=r.geometry(),o=LB(a,r.model(),s),i._box.update(o,s,r.rotation()));return Vte(n,function(c,l){var u=c._hidable,h=l._hidable;u&&h||h?l._visible=!1:u&&(c._visible=!1)})}var Sf={prepare:function(n){var e=[],t,r,i,s,o;for(t=0,i=n.length;t<i;++t)for(r=0,s=n[t].length;r<s;++r)o=n[t][r],e.push(o),o.$layout={_box:new FB,_hidable:!1,_visible:!0,_set:t,_idx:o._index};return e.sort(function(a,c){var l=a.$layout,u=c.$layout;return l._idx===u._idx?u._set-l._set:u._idx-l._idx}),this.update(e),e},update:function(n){var e=!1,t,r,i,s,o;for(t=0,r=n.length;t<r;++t)i=n[t],s=i.model(),o=i.$layout,o._hidable=s&&s.display==="auto",o._visible=i.visible(),e|=o._hidable;e&&jte(n)},lookup:function(n,e){var t,r;for(t=n.length-1;t>=0;--t)if(r=n[t].$layout,r&&r._visible&&r._box.contains(e))return n[t];return null},draw:function(n,e){var t,r,i,s,o,a;for(t=0,r=e.length;t<r;++t)i=e[t],s=i.$layout,s._visible&&(o=i.geometry(),a=LB(i._el,i.model(),o),s._box.update(a,o,i.rotation()),i.draw(n,a))}},Bte=function(n){if(ae(n))return null;var e=n,t,r,i;if(we(n))if(!ae(n.label))e=n.label;else if(!ae(n.r))e=n.r;else for(e="",t=Object.keys(n),i=0,r=t.length;i<r;++i)e+=(i!==0?", ":"")+t[i]+": "+n[t[i]];return""+e},Ute={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:Bte,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Jn="$datalabels",VB="$default";function $te(n,e){var t=n.datalabels,r={},i=[],s,o;return t===!1?null:(t===!0&&(t={}),e=pr({},[e,t]),s=e.labels||{},o=Object.keys(s),delete e.labels,o.length?o.forEach(function(a){s[a]&&i.push(pr({},[e,s[a],{_key:a}]))}):i.push(e),r=i.reduce(function(a,c){return Oe(c.listeners||{},function(l,u){a[u]=a[u]||{},a[u][c._key||VB]=l}),delete c.listeners,a},{}),{labels:i,listeners:r})}function dx(n,e,t,r){if(e){var i=t.$context,s=t.$groups,o;e[s._set]&&(o=e[s._set][s._key],o&&Ve(o,[i,r])===!0&&(n[Jn]._dirty=!0,t.update(i)))}}function Hte(n,e,t,r,i){var s,o;!t&&!r||(t?r?t!==r&&(o=s=!0):o=!0:s=!0,o&&dx(n,e.leave,t,i),s&&dx(n,e.enter,r,i))}function zte(n,e){var t=n[Jn],r=t._listeners,i,s;if(!(!r.enter&&!r.leave)){if(e.type==="mousemove")s=Sf.lookup(t._labels,e);else if(e.type!=="mouseout")return;i=t._hovered,t._hovered=s,Hte(n,r,i,s,e)}}function Wte(n,e){var t=n[Jn],r=t._listeners.click,i=r&&Sf.lookup(t._labels,e);i&&dx(n,r,i,e)}var hx={id:"datalabels",defaults:Ute,beforeInit:function(n){n[Jn]={_actives:[]}},beforeUpdate:function(n){var e=n[Jn];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(n,e,t){var r=e.index,i=n[Jn],s=i._datasets[r]=[],o=n.isDatasetVisible(r),a=n.data.datasets[r],c=$te(a,t),l=e.meta.data||[],u=n.ctx,h,f,p,m,v,_,C,x;for(u.save(),h=0,p=l.length;h<p;++h)if(C=l[h],C[Jn]=[],o&&C&&n.getDataVisibility(h)&&!C.skip)for(f=0,m=c.labels.length;f<m;++f)v=c.labels[f],_=v._key,x=new OB(v,u,C,h),x.$groups={_set:r,_key:_||VB},x.$context={active:!1,chart:n,dataIndex:h,dataset:a,datasetIndex:r},x.update(x.$context),C[Jn].push(x),s.push(x);u.restore(),pr(i._listeners,c.listeners,{merger:function(N,j,L){j[N]=j[N]||{},j[N][e.index]=L[N],i._listened=!0}})},afterUpdate:function(n){n[Jn]._labels=Sf.prepare(n[Jn]._datasets)},afterDatasetsDraw:function(n){Sf.draw(n,n[Jn]._labels)},beforeEvent:function(n,e){if(n[Jn]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":zte(n,t);break;case"click":Wte(n,t);break}}},afterEvent:function(n){var e=n[Jn],t=e._actives,r=e._actives=n.getActiveElements(),i=Tf.arrayDiff(t,r),s,o,a,c,l,u,h;for(s=0,o=i.length;s<o;++s)if(l=i[s],l[1])for(h=l[0].element[Jn]||[],a=0,c=h.length;a<c;++a)u=h[a],u.$context.active=l[1]===1,u.update(u.$context);(e._dirty||i.length)&&(Sf.update(e._labels),n.render()),delete e._dirty}};var v_=class n{transform(e,t){return typeof e!="number"||t?e:Math.round(e*.453592)}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Qc({name:"weightNumberConverter",type:n,pure:!0})};var qte=["pieCanvas"];function Gte(n,e){n&1&&(R(0,"p",1),k(1,"Loading"),M())}function Kte(n,e){n&1&&(R(0,"p",1),k(1,` There are no muscle groups worked so the pie chart is empty.
`),M())}var __=class n{constructor(e){this.intervalService=e;Ki.register(...xB,hx)}startDate;endDate;usinglbs;volumeMuscleGroupMap=new Map;pieCanvas;pieChart=null;viewInitialized=!1;shouldShowChart=!0;isLoaded=!0;weightNumberConverterPipe=new v_;ngAfterViewInit(){this.viewInitialized=!0,this.startDate&&this.endDate&&this.loadVolumeData()}ngOnChanges(){this.startDate&&this.endDate&&this.viewInitialized&&this.loadVolumeData()}loadVolumeData(){return E(this,null,function*(){this.isLoaded=!1,this.volumeMuscleGroupMap=yield this.intervalService.GetVolumeMuscleGroup(this.startDate,this.endDate),this.updateChart(),this.isLoaded=!0})}updateChart(){this.pieChart&&this.pieChart.destroy();let e=["Chest","Back","Biceps","Triceps","Glutes/Quads","Hamstrings/Calves"],t=Array.from(this.volumeMuscleGroupMap.values()),r=t.map(l=>this.weightNumberConverterPipe.transform(l,this.usinglbs)),i=t.reduce((l,u)=>l+u,0),s=[],o=[];if(e.forEach((l,u)=>{r[u]>0&&(s.push(l),o.push(r[u]))}),this.shouldShowChart=i>0&&o.length>0,!this.shouldShowChart)return;let a=this.usinglbs?"lbs":"kg",c={id:"totalBottomLeftPlugin",afterDraw(l){let{ctx:u,chartArea:h}=l;u.save(),u.font="bold 14px sans-serif",u.fillStyle="#f0f0f0",u.textAlign="left",u.textBaseline="bottom";let f=h.left+10,p=h.bottom-10;u.fillText(`Total: ${i} ${a}`,f,p),u.restore()}};this.pieChart=new Ki(this.pieCanvas.nativeElement,{type:"pie",data:{labels:s,datasets:[{data:o,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]}]},options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"#f0f0f0"}},datalabels:{color:"#f0f0f0",font:{weight:"bold"},formatter:(l,u)=>{let h=(l/i*100).toFixed(1),f=this.usinglbs?"lbs":"kg";return`${l} ${f}
(${h}%)`}}}},plugins:[hx,c]})}static \u0275fac=function(t){return new(t||n)(Q(Ui))};static \u0275cmp=be({type:n,selectors:[["app-percentage-muscle-group-worked"]],viewQuery:function(t,r){if(t&1&&wi(qte,5),t&2){let i;wr(i=Er())&&(r.pieCanvas=i.first)}},inputs:{startDate:"startDate",endDate:"endDate",usinglbs:"usinglbs"},features:[Gt],decls:7,vars:2,consts:[["pieCanvas",""],[1,"text-center"],[1,"d-flex","justify-content-center"],[1,"w-50","h-auto",3,"hidden"]],template:function(t,r){t&1&&(R(0,"h2",1),k(1,"Percentage of Muscle Groups Worked"),M(),R(2,"div",2),Te(3,"canvas",3,0),M(),Pe(5,Gte,2,0,"p",1)(6,Kte,2,0,"p",1)),t&2&&($(3),Me("hidden",!r.shouldShowChart||!r.isLoaded),$(2),dt(r.isLoaded==!1?5:r.shouldShowChart==!1?6:-1))},styles:["h2[_ngcontent-%COMP%]{font-size:3rem;color:#f0f0f0}p[_ngcontent-%COMP%]{color:#f0f0f0}"]})};function Yte(n,e){if(n&1&&Te(0,"app-volume-muscle-group",13)(1,"app-percentage-muscle-group-worked",13)(2,"app-volume-exercise",13),n&2){let t=pe();Me("startDate",t.startDate)("endDate",t.endDate)("usinglbs",t.usinglbs),$(),Me("startDate",t.startDate)("endDate",t.endDate)("usinglbs",t.usinglbs),$(),Me("startDate",t.startDate)("endDate",t.endDate)("usinglbs",t.usinglbs)}}var b_=class n{constructor(e,t){this.dataService=e;this.router=t}startDate=new Date;endDate=new Date;showStats=!1;userSubscription;user=null;usinglbs=!0;auth=F(hn);authService=F(We);ngOnInit(){this.userSubscription=this.authService.user.subscribe(e=>{e==null?this.router.navigate(["login-page"]):(this.user=e,e.units==="kg"&&(this.usinglbs=!1))})}onSubmit(e){this.showStats=!1;let t=new Date,r=new Date(e.value.startDate),i=new Date(e.value.endDate);if(isNaN(r.getTime())||isNaN(i.getTime())){alert("Please enter valid dates.");return}if(i>t){alert("End date must be today or earlier.");return}if(r>=i){alert("The end date must be later than the start date.");return}this.startDate=r,this.endDate=i,this.showStats=!0}ngOnDestroy(){this.userSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(Q(Qn),Q(Xe))};static \u0275cmp=be({type:n,selectors:[["app-interval-stats-page"]],decls:24,vars:1,consts:[["dateForm","ngForm"],[1,"w-100","min-vh-100","page"],[1,"text-center"],[1,"container"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-group"],["for","start-date",1,"me-2"],["type","date","id","start-date","name","startDate","ngModel","","required",""],["for","end-date",1,"me-2"],["type","date","id","end-date","name","endDate","ngModel","","required",""],["type","submit",1,"btn","btn-primary"],[3,"startDate","endDate","usinglbs"]],template:function(t,r){if(t&1){let i=Rt();R(0,"div",1)(1,"h1",2),k(2,"Stats for Specified Interval"),M(),R(3,"div",3)(4,"form",4,0),le("ngSubmit",function(){Ue(i);let o=Xc(5);return $e(r.onSubmit(o))}),R(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),k(10,"Start Date:"),M(),Te(11,"input",9)(12,"br")(13,"br"),M()(),R(14,"div",6)(15,"div",7)(16,"label",10),k(17,"End Date:"),M(),Te(18,"input",11)(19,"br")(20,"br"),M()()(),R(21,"button",12),k(22,"Submit"),M()(),Pe(23,Yte,3,9),M()()}t&2&&($(23),dt(r.showStats?23:-1))},dependencies:[pv,Xt,Mi,Tr,Sr,Ai,Zr,cr,Xr,gv,__],styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b}h1[_ngcontent-%COMP%]{font-size:5rem;color:#f0f0f0}label[_ngcontent-%COMP%]{font-size:1rem;color:#f0f0f0}"]})};var Qte=(n,e)=>e[0];function Xte(n,e){if(n&1&&(R(0,"tr")(1,"td"),k(2),M(),R(3,"td"),k(4),Pt(5,"weightUnit"),M(),R(6,"td"),k(7),Pt(8,"weightUnit"),M(),R(9,"td"),k(10),Pt(11,"weightUnit"),M(),R(12,"td"),k(13),Pt(14,"weightUnit"),M()()),n&2){let t=e.$implicit,r=pe(2);$(2),Qe(r.getMuscleGroupName(t[0])),$(2),Qe(Qt(5,5,t[1].volumeFirstInterval,r.usinglbs)),$(3),Qe(Qt(8,8,t[1].volumeLastInterval,r.usinglbs)),$(3),Qe(Qt(11,11,t[1].volumeMax,r.usinglbs)),$(3),Qe(Qt(14,14,t[1].volumeMin,r.usinglbs))}}function Zte(n,e){if(n&1&&(R(0,"table",1)(1,"thead")(2,"tr")(3,"th"),k(4,"Muscle Group"),M(),R(5,"th"),k(6,"First Interval Volume"),M(),R(7,"th"),k(8,"Last Interval Volume"),M(),R(9,"th"),k(10,"Max Volume"),M(),R(11,"th"),k(12,"Min Volume"),M()()(),R(13,"tbody"),kn(14,Xte,15,17,"tr",null,Qte),M()()),n&2){let t=pe();$(14),Nn(t.intervalProgressMap.entries())}}function Jte(n,e){n&1&&(R(0,"p",2),k(1,"Loading"),M())}var w_=class n{constructor(e){this.intervalService=e}startDate=new Date;numIntervals=0;numDays=0;usinglbs;intervalProgressMap=new Map;chestMax=1;isLoaded=!0;ngOnChanges(){this.loadData()}loadData(){return E(this,null,function*(){this.isLoaded=!1,this.intervalProgressMap=yield this.intervalService.GetIntervalProgress(this.startDate,this.numDays,this.numIntervals),this.isLoaded=!0})}getMuscleGroupName(e){switch(e){case 1:return"Chest";case 2:return"Back";case 3:return"Biceps";case 4:return"Triceps";case 5:return"Glutes/Quads";case 6:return"Hamstrings/Calves";default:return"Unknown"}}static \u0275fac=function(t){return new(t||n)(Q(Ui))};static \u0275cmp=be({type:n,selectors:[["app-interval-progress-table"]],inputs:{startDate:"startDate",numIntervals:"numIntervals",numDays:"numDays",usinglbs:"usinglbs"},features:[Gt],decls:4,vars:1,consts:[[1,"text-center","mb-5"],[1,"table-bordered","table-striped","table-hover","mt-3"],[1,"text-center"]],template:function(t,r){t&1&&(R(0,"h1",0),k(1,"Progress Report"),M(),Pe(2,Zte,16,0,"table",1)(3,Jte,2,0,"p",2)),t&2&&($(2),dt(r.isLoaded==!0?2:3))},dependencies:[Ri],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#f0f0f0}"]})};function ene(n,e){if(n&1&&Te(0,"app-interval-progress-table",15),n&2){let t=pe();Me("startDate",t.startDate)("numDays",t.numberOfDays)("numIntervals",t.numberOfIntervals)("usinglbs",t.usinglbs)}}var E_=class n{showProgress=!1;startDate=new Date;numberOfIntervals=0;numberOfDays=0;userSubscription;user=null;usinglbs=!0;auth=F(hn);authService=F(We);router=F(Xe);ngOnInit(){this.userSubscription=this.authService.user.subscribe(e=>{e==null?this.router.navigate(["login-page"]):(this.user=e,e.units==="kg"&&(this.usinglbs=!1))})}onSubmit(e){let t=new Date,r=new Date(e.value.startDate),i=e.value.numberDays,s=e.value.numberIntervals;if(console.log(i),isNaN(r.getTime())){alert("Please enter a valid date."),this.showProgress=!1;return}if(gs(r,i*s-1)>t){alert("The last day of the last interval must be today or earlier."),this.showProgress=!1;return}if(i<1){alert("The number of days must be greater than or equal to 1."),this.showProgress=!1;return}if(s<2){alert("The number of intervals must be greater than or equal to 2."),this.showProgress=!1;return}this.startDate=r,this.numberOfDays=i,this.numberOfIntervals=s,this.showProgress=!0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-interval-progress"]],decls:31,vars:1,consts:[["dateForm","ngForm"],[1,"w-100","min-vh-100","page"],[1,"text-center"],[1,"container"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-group"],["for","start-date",1,"me-3"],["type","date","id","start-date","name","startDate","ngModel","","required",""],["for","number-days",1,"me-3"],["type","number","id","number-days","name","numberDays","ngModel","","required",""],["for","number-intervals",1,"me-3"],["type","number","id","number-intervals","name","numberIntervals","ngModel","","required",""],["type","submit",1,"btn","btn-primary"],[3,"startDate","numDays","numIntervals","usinglbs"]],template:function(t,r){if(t&1){let i=Rt();R(0,"div",1)(1,"h1",2),k(2,"Interval Progress"),M(),R(3,"div",3)(4,"form",4,0),le("ngSubmit",function(){Ue(i);let o=Xc(5);return $e(r.onSubmit(o))}),R(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),k(10,"Start Date:"),M(),Te(11,"input",9)(12,"br")(13,"br"),M()(),R(14,"div",6)(15,"div",7)(16,"label",10),k(17,"Number of Days:"),M(),Te(18,"input",11)(19,"br")(20,"br"),M()(),R(21,"div",6)(22,"div",7)(23,"label",12),k(24,"Number of Intervals:"),M(),Te(25,"input",13)(26,"br")(27,"br"),M()()(),R(28,"button",14),k(29,"Submit"),M()(),Pe(30,ene,1,4,"app-interval-progress-table",15),M()()}t&2&&($(30),dt(r.showProgress?30:-1))},dependencies:[Xt,Mi,Tr,Wd,Sr,Ai,Zr,cr,Xr,w_],styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b;max-height:fit-content;min-height:100dvh}h1[_ngcontent-%COMP%]{font-size:5rem;color:#f0f0f0}label[_ngcontent-%COMP%]{font-size:1rem;color:#f0f0f0}"]})};var I_=class n{user=null;userService=F(We);ngOnInit(){console.log("Is user signed in: "+this.userService.userSignedIn()),this.userService.user.subscribe(e=>{this.user=e,console.log(e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-home-page"]],decls:73,vars:0,consts:[[1,"w-100","page"],[1,"container","py-5"],[1,"text-center","mb-5"],[1,"display-4"],[1,"lead"],[1,"mb-5"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),k(4,"Lifting Buddy"),M(),R(5,"p",4),k(6,"Your Digital Workout Companion"),M()(),R(7,"div",5)(8,"h2"),k(9,"What is Lifting Buddy?"),M(),R(10,"p"),k(11," Lifting Buddy is a web-based tool designed to help weightlifters schedule and track their workouts with ease. Whether you're a beginner or experienced lifter, our platform makes logging and analyzing your training more intuitive and effective. "),M()(),R(12,"div",5)(13,"h2"),k(14,"Features"),M(),R(15,"ul")(16,"li"),k(17,"Plan daily exercises with targeted muscle groups."),M(),R(18,"li"),k(19,"Add custom exercises and log sets with reps and weight."),M(),R(20,"li"),k(21," Automatically calculate volume for each exercise and muscle group. "),M(),R(22,"li"),k(23,"View detailed statistics for any time interval."),M(),R(24,"li"),k(25,"Compare progress across different time periods."),M(),R(26,"li"),k(27,"Track progress for any muscle group or workout."),M()()(),R(28,"div",5)(29,"h2"),k(30,"Why Use Lifting Buddy?"),M(),R(31,"p"),k(32," Logging your workouts manually is tedious. Lifting Buddy provides a clean, centralized way to track and visualize your progress. See which muscles you're hitting the most, where you're lagging, and how you\u2019re improving over time. Stay motivated and optimize your routine with data that matters. "),M()(),R(33,"h2"),k(34,"How Does Lifting Buddy Track Progress?"),M(),R(35,"p"),k(36," Lifting buddy tracks progress using statistics based off the total volume worked per muscle group or exercise. The volume for a set is not simply the number of reps multiplied by the weight. It is weighted using an effort factor that increases the volume for fewer reps. "),M(),R(37,"table")(38,"tr")(39,"th"),k(40,"Reps per Set"),M(),R(41,"th"),k(42,"Effort Factor"),M()(),R(43,"tr")(44,"td"),k(45,"1-3"),M(),R(46,"td"),k(47,"2.0"),M()(),R(48,"tr")(49,"td"),k(50,"4-6"),M(),R(51,"td"),k(52,"1.5"),M()(),R(53,"tr")(54,"td"),k(55,"7-10"),M(),R(56,"td"),k(57,"1.2"),M()(),R(58,"tr")(59,"td"),k(60,"11-15"),M(),R(61,"td"),k(62,"1.0"),M()(),R(63,"tr")(64,"td"),k(65,"16+"),M(),R(66,"td"),k(67,"0.8"),M()()(),R(68,"div",5)(69,"h2"),k(70,"Start Tracking Today"),M(),R(71,"p"),k(72," Join other lifters who are taking control of their fitness journey. Sign up or log in to start tracking your workouts and transforming your training insights. "),M()()()())},styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b;max-height:fit-content;min-height:100dvh}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#f0f0f0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid white;padding:8px 12px;text-align:center}"]})};var tne=["calendar"];function nne(n,e){if(n&1){let t=Rt();R(0,"p",2),le("click",function(){let i=Ue(t).$implicit,s=pe();return $e(s.setSelectedDay(i))}),R(1,"span"),k(2),M()()}if(n&2){let t=e.$implicit,r=pe();un("daycell",!r.firefoxStyle)("ffdaycell",r.firefoxStyle)("selected",r.isSelectedDate(t)),$(),rE("color",r.getMuscleGroupColor(t)),un("daycellcolor",r.isExerciseOnDate(t)),$(),$t(" ",t.getUTCDate()," ")}}var xf=class n{calendarScroll;cdr=F(Ei);firefoxStyle=!1;calendarDates;exerciseData;selectedDay;selectedDayChange=new ut;ngOnInit(){let e=window.navigator.userAgent;e.toLowerCase().indexOf("firefox")>-1&&(this.firefoxStyle=!0),console.log("Agent: "+e);let t=new Date;this.selectedDay=t;let r=t.getUTCDay(),i=90;i=i+(r-6),this.calendarDates=[];let s=new Date;for(let o=i;o>=0;o--)s.setTime(t.getTime()),s.setUTCDate(t.getUTCDate()-o),this.calendarDates.push(new Date(s));setTimeout(()=>{this.scrollBottom()},0)}isSelectedDate(e){let t=this.selectedDay?.toISOString().split("T")[0],r=e.toISOString().split("T")[0];return!!t?.match(r)}setSelectedDay(e){this.selectedDay=e,this.selectedDayChange.emit(e)}isExerciseOnDate(e){let t=e.toISOString().split("T")[0];return this.exerciseData?.has(t)}getMuscleGroupColor(e){let t=e.toISOString().split("T")[0],r=this.exerciseData?.get(t),i=new Map;if(r)for(let o of r){let a=o.exercise.muscleGroup,c=i.get(a)||0;i.set(a,c+1)}else return"#f0f0f0";let s=[0,0];for(let o of i.entries())o[1]>s[1]&&(s=o);switch(s[0]){case 1:return"red";case 2:return"blue";case 3:return"yellow";case 4:return"cyan";case 5:return"purple";case 6:return"orange";default:return"#f0f0f0"}}scrollBottom(){let e=this.calendarScroll.nativeElement;e.scrollTop=e.scrollHeight}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-calendar"]],viewQuery:function(t,r){if(t&1&&wi(tne,5),t&2){let i;wr(i=Er())&&(r.calendarScroll=i.first)}},inputs:{exerciseData:"exerciseData",selectedDay:"selectedDay"},outputs:{selectedDayChange:"selectedDayChange"},decls:18,vars:32,consts:[["calendar",""],[3,"daycell","ffdaycell","selected"],[3,"click"]],template:function(t,r){t&1&&(R(0,"div",null,0)(2,"p"),k(3,"Sun"),M(),R(4,"p"),k(5,"Mon"),M(),R(6,"p"),k(7,"Tues"),M(),R(8,"p"),k(9,"Wed"),M(),R(10,"p"),k(11,"Thrus"),M(),R(12,"p"),k(13,"Fri"),M(),R(14,"p"),k(15,"Sat"),M(),kn(16,nne,3,11,"p",1,Sg),M()),t&2&&(un("calendar",!r.firefoxStyle)("ffcalendar",r.firefoxStyle),$(2),un("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),un("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),un("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),un("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),un("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),un("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),un("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),Nn(r.calendarDates))},styles:['.page[_ngcontent-%COMP%]{background-color:#070f2b;padding:1em}.calendar[_ngcontent-%COMP%]{border:4px solid #535c91;border-radius:.5em;width:55dvw;min-width:fit-content;display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:minmax(5em,1em);max-height:55dvh;overflow-y:auto;overflow-x:hidden;background-image:linear-gradient(to bottom right,#9290c3,#070f2b)}.ffcalendar[_ngcontent-%COMP%]{border:4px solid #535c91;border-radius:.5em;width:55dvw;min-width:fit-content;display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:minmax(1em,auto);max-height:55dvh;overflow-y:auto;overflow-x:hidden;background-image:linear-gradient(to bottom right,#9290c3,#070f2b)}.dayheader[_ngcontent-%COMP%]{text-align:center;position:sticky;top:0;padding:1em 1em 2em;background-color:#070f2b;color:#9290c3}.ffheader[_ngcontent-%COMP%]{text-align:center;position:sticky;top:0;padding:1em;background-color:#070f2b;color:#9290c3}.daycell[_ngcontent-%COMP%], .ffdaycell[_ngcontent-%COMP%]{text-align:center;padding:1em;aspect-ratio:1 / 1;color:#f0f0f0;align-items:center;justify-content:center;cursor:pointer}.daycell[_ngcontent-%COMP%]:hover{scale:110%}.daycellcolor[_ngcontent-%COMP%]:after{content:"\\25cf";display:block;font-size:.6em;line-height:1;text-align:center;margin-top:-.2em}.selected[_ngcontent-%COMP%]{scale:110%}']})};var rne=(n,e)=>e.dataId,ine=(n,e)=>e[0];function sne(n,e){if(n&1&&(R(0,"option",11),k(1),M()),n&2){let t=e.$implicit;Me("ngValue",t),$(),Qe(t.name)}}function one(n,e){n&1&&k(0," Cancel ")}function ane(n,e){n&1&&k(0," Add Exercise ")}function cne(n,e){if(n&1&&(R(0,"option",11),k(1),M()),n&2){let t=e.$implicit;$(),Qe(t[0])}}function lne(n,e){if(n&1){let t=Rt();R(0,"div",7)(1,"input",23),Yt("ngModelChange",function(i){Ue(t);let s=pe();return dn(s.exerciseName,i)||(s.exerciseName=i),$e(i)}),M(),R(2,"select",24),Yt("ngModelChange",function(i){Ue(t);let s=pe();return dn(s.exerciseMGroup,i)||(s.exerciseMGroup=i),$e(i)}),R(3,"option",25),k(4,"Muscle Group"),M(),kn(5,cne,2,1,"option",11,ine),M()(),R(7,"div",7)(8,"input",26),Yt("ngModelChange",function(i){Ue(t);let s=pe();return dn(s.exerciseDes,i)||(s.exerciseDes=i),$e(i)}),M()()}if(n&2){let t=pe();$(),Kt("ngModel",t.exerciseName),$(),Kt("ngModel",t.exerciseMGroup),$(3),Nn(t.getMuscleGroups()),$(3),Kt("ngModel",t.exerciseDes)}}function une(n,e){if(n&1){let t=Rt();R(0,"div",27)(1,"label",8),k(2,"Reps:"),M(),R(3,"input",28),Yt("ngModelChange",function(i){let s=Ue(t).$index,o=pe();return dn(o.sets[s].numOfReps,i)||(o.sets[s].numOfReps=i),$e(i)}),M()(),R(4,"div",27)(5,"label",8),k(6,"Weight:"),M(),R(7,"input",29),Yt("ngModelChange",function(i){let s=Ue(t).$index,o=pe();return dn(o.sets[s].weight,i)||(o.sets[s].weight=i),$e(i)}),M()()}if(n&2){let t=e.$index,r=pe();$(3),Kt("ngModel",r.sets[t].numOfReps),$(4),Kt("ngModel",r.sets[t].weight)}}function dne(n,e){if(n&1&&(R(0,"p",21),k(1),M()),n&2){let t=pe();$(),Qe(t.errorMsg)}}var D_=class n{dataService=F(Qn);authService=F(We);exercises;addingExercise=!1;entryError=!1;errorMsg="";selectedExercise;exerciseName="";exerciseMGroup=0;exerciseDes="";numberOfSets=1;setArray=[];sets=[];totalVolume=0;selectedDate;close=new ut;selectExercisePlaceHolder={id:"",name:"Select an Exercise",muscleGroup:0,description:"na"};ngOnInit(){this.dataService.getAllExercises().subscribe(e=>this.exercises=e),this.setNumOfSets("1"),this.selectedExercise=this.selectExercisePlaceHolder}closeMenu(){this.close.emit(!1)}setNumOfSets(e){let t=parseInt(e);if(Number.isNaN(t)){console.error("Input is not a number: "+e);return}this.sets=Array.from({length:t}).map(()=>({dataId:"",weight:0,numOfReps:0}))}getMuscleGroups(){let e=[];return Object.entries(ms).map(t=>{let r=parseInt(t[0]);Number.isNaN(r)&&t[0].toLowerCase()!="unknown"&&e.push([t[0],t[1].valueOf()])}),e}toggleAddExercise(){this.addingExercise=!this.addingExercise,this.addingExercise&&(this.selectedExercise=this.selectExercisePlaceHolder)}addWorkout(){let e=this.authService.getUserId();this.validateInput()&&this.selectedExercise&&(this.dataService.addWorkout(this.selectedExercise,this.sets,e,this.selectedDate),this.closeMenu())}addExercise(){let e=this.exerciseName.trim(),t=this.exerciseDes.trim(),r=parseInt(ms[this.exerciseMGroup]);return console.log(r),e.trim()==""||t.trim()==""?(this.entryError=!0,this.errorMsg="Added exercise needs to have name and description",!1):r==null||r==null||r==0||Number.isNaN(r)?(this.entryError=!0,this.errorMsg="Added exercise needs to have muscle group",!1):(this.selectedExercise={id:"",name:e,muscleGroup:r,description:t},!0)}validateInput(){if(this.addingExercise&&!this.addExercise())return!1;if(console.log("Exercise: "+JSON.stringify(this.selectedExercise)),this.sets)for(let e of this.sets){if(console.log(JSON.stringify(e)),e.weight==0||e.numOfReps==0)return this.entryError=!0,this.errorMsg="Sets weight and or reps cannont 0.",!1;if(!this.isValidNumber(e.weight)||!this.isValidNumber(e.numOfReps))return this.entryError=!0,this.errorMsg="Sets need to be a number",!1}else return this.entryError=!0,this.errorMsg="Sets are not defined.",!1;return!this.selectedExercise||this.selectedExercise===this.selectExercisePlaceHolder?(this.entryError=!0,this.errorMsg="Exercise is not selected.",!1):(this.entryError=!1,!0)}isValidNumber(e){let t=parseInt(e);return!Number.isNaN(t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-addworkout"]],inputs:{selectedDate:"selectedDate"},outputs:{close:"close"},decls:47,vars:9,consts:[["setsSelect",""],[1,"overlay"],[1,"menu"],[1,"topbar"],[1,"menubtn",3,"click"],[1,"formcontainer"],["name","workoutForm",1,"form",3,"ngSubmit"],[1,"formrow"],["for",""],["name","exercise",1,"select",3,"ngModelChange","ngModel","disabled"],["disabled","","selected","",3,"ngValue"],[3,"ngValue"],["type","button",1,"menubtn",3,"click"],["name","","id","","required","",1,"select",3,"change"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"bottombar"],[1,"errormessage",2,"color","red"],["type","submit",1,"menubtn"],["type","text","placeholder","Exercise Name","required","","name","exerciseName",1,"select","nameinput",3,"ngModelChange","ngModel"],["name","exerciseMuscleGroup","id","","required","",1,"select",3,"ngModelChange","ngModel"],["disabled","","selected",""],["type","text","placeholder","Exercise Description","name","exerciseDescription","required","",1,"select","descriptionbox",3,"ngModelChange","ngModel"],[1,"formrow","setrow"],["type","number","name","numOfReps","id","","placeholder","0","required","",1,"select",3,"ngModelChange","ngModel"],["type","number","name","weight","id","","placeholder","0","required","",1,"select",3,"ngModelChange","ngModel"]],template:function(t,r){if(t&1){let i=Rt();R(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3"),k(4),Pt(5,"date"),M(),R(6,"button",4),le("click",function(){return Ue(i),$e(r.closeMenu())}),k(7,"Close"),M()(),Te(8,"hr"),R(9,"div",5)(10,"div")(11,"form",6),le("ngSubmit",function(){return Ue(i),$e(r.addWorkout())}),R(12,"div",7)(13,"label",8),k(14,"Exercise:"),M(),R(15,"select",9),Yt("ngModelChange",function(o){return Ue(i),dn(r.selectedExercise,o)||(r.selectedExercise=o),$e(o)}),R(16,"option",10),k(17," Select an Exercise "),M(),kn(18,sne,2,2,"option",11,ad),M(),R(20,"button",12),le("click",function(){return Ue(i),$e(r.toggleAddExercise())}),Pe(21,one,1,0)(22,ane,1,0),M()(),Pe(23,lne,9,3),R(24,"div",7)(25,"label",8),k(26,"Number of sets:"),M(),R(27,"select",13,0),le("change",function(){Ue(i);let o=Xc(28);return $e(r.setNumOfSets(o.value))}),R(29,"option",14),k(30,"1"),M(),R(31,"option",15),k(32,"2"),M(),R(33,"option",16),k(34,"3"),M(),R(35,"option",17),k(36,"4"),M(),R(37,"option",18),k(38,"5"),M(),R(39,"option",19),k(40,"6"),M()()(),kn(41,une,8,2,null,null,rne),R(43,"div",20),Pe(44,dne,2,1,"p",21),R(45,"button",22),k(46,"Add"),M()()()()()()()}t&2&&($(4),$t("",Vk(5,7,r.selectedDate)," | Add Workout"),$(11),Kt("ngModel",r.selectedExercise),Me("disabled",r.addingExercise),$(),Me("ngValue",r.selectExercisePlaceHolder),$(2),Nn(r.exercises),$(3),dt(r.addingExercise?21:22),$(2),dt(r.addingExercise?23:-1),$(18),Nn(r.sets),$(3),dt(r.entryError?44:-1))},dependencies:[Xt,Mi,fo,po,Tr,Wd,_l,Sr,Ai,Zr,cr,Xr,pd],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100dvh;width:100dvw;background-color:#00000080;z-index:1000}.menu[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:1rem;border-radius:.5em;z-index:1001;box-shadow:0 0 1em #00000040;background-image:linear-gradient(to bottom right,#696969,#000);width:35dvw;min-width:fit-content;height:fit-content}.menu[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#f0f0f0}.topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:2em}.topbar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:center}.menubtn[_ngcontent-%COMP%]{border-radius:.5em;background-color:#1b1a55;border:2px solid #9290c3}.menubtn[_ngcontent-%COMP%]:hover{scale:105%;background-color:#0b0a45}.form[_ngcontent-%COMP%]{margin:1em;height:max-content;width:inherit}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:1em}.formrow[_ngcontent-%COMP%]{display:flex;margin:.5em;width:inherit;justify-content:space-between}.formrow[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0 1em}.select[_ngcontent-%COMP%]{width:max-content;background-color:#1b1a55;border:1px solid #9290c3;border-radius:.5em}.descriptionbox[_ngcontent-%COMP%]{width:inherit;flex-grow:1;height:2em;overflow-y:auto}.bottombar[_ngcontent-%COMP%]{display:flex;margin:.5em;justify-content:end}.errormessage[_ngcontent-%COMP%]{color:red;justify-self:start;align-self:flex-start;flex-grow:1}.formcontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nameinput[_ngcontent-%COMP%]{flex-grow:1;width:inherit}"]})};function hne(n,e){if(n&1){let t=Rt();R(0,"app-addworkout",11),le("close",function(){Ue(t);let i=pe();return $e(i.toggleMenu())}),M()}if(n&2){let t=pe();Me("selectedDate",t.selectedDate)}}function fne(n,e){if(n&1&&(R(0,"div",12),k(1),Pt(2,"weightUnit"),M()),n&2){let t=e.$implicit,r=pe(2);$(),iE(" Reps: ",t.numOfReps,", Weight ",Qt(2,2,t.weight,r.userUnits)," ")}}function pne(n,e){if(n&1){let t=Rt();R(0,"tr")(1,"td"),k(2),M(),R(3,"td"),k(4),M(),R(5,"td"),kn(6,fne,3,5,"div",12,ad),M(),R(8,"td"),k(9),Pt(10,"weightUnit"),M(),R(11,"td")(12,"button",13),le("click",function(){let i=Ue(t).$implicit,s=pe();return $e(s.deleteWorkout(i))}),k(13," Delete "),M()()()}if(n&2){let t=e.$implicit,r=pe();$(2),Qe(t.exercise.name),$(2),Qe(r.getNameOfMuscleGroup(t.exercise.muscleGroup)),$(2),Nn(t.sets),$(3),Qe(Qt(10,3,t.totalVolume,r.userUnits))}}function gne(n,e){n&1&&(R(0,"tr")(1,"td"),k(2,"No exercises for this day."),M()())}var C_=class n{calendarComponent;dataService=F(Qn);userService=F(We);router=F(Xe);userUnits=!0;userID="";today=new Date;selectedDate=new Date;exerciseList;dataMap;isLoadingData=!1;addingWorkout=!1;ngOnInit(){this.dataService.ngOnInit(),this.isLoadingData=!0,this.userService.user.subscribe(e=>{e!=null&&(this.userUnits=e.units=="lbs",this.userID=e.id)}),this.loadData()}loadData(){this.dataService.getAllExercises().subscribe(r=>{this.exerciseList=r});let e=new Date,t=new Date;t.setDate(e.getDate()-100),e.setDate(e.getDate()+1),this.getData(t,e)}toggleMenu(){this.addingWorkout=!this.addingWorkout,setTimeout(()=>this.loadData(),1e3)}getData(e,t){return E(this,null,function*(){e.setDate(e.getDate()+2),t.setDate(t.getDate()-1),this.dataMap=yield this.dataService.getDataInDateRange(e,t),this.isLoadingData=!1,console.log(this.dataMap)})}changeDate(e){this.selectedDate=e}getNameOfMuscleGroup(e){return ms[e]}setDateToday(){this.selectedDate=this.today,this.calendarComponent.scrollBottom()}setsOfCurrentDay(){let e=this.selectedDate.toISOString().split("T")[0],t=[];return this.dataMap&&(t=this.dataMap?.get(e)),t||[]}deleteWorkout(e){return E(this,null,function*(){console.log("Deleting exercise set: "+JSON.stringify(e)),yield this.dataService.deleteExerciseSet(e),this.loadData()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-day-page"]],viewQuery:function(t,r){if(t&1&&wi(xf,5),t&2){let i;wr(i=Er())&&(r.calendarComponent=i.first)}},decls:28,vars:8,consts:[[1,"page"],[3,"selectedDate"],[1,"datebar"],[1,"date"],[1,"todaybtn",3,"click"],[1,"holder"],[3,"selectedDayChange","selectedDay","exerciseData"],[1,"btncontainer"],[1,"addworkout",3,"click"],[1,"etable"],[1,"exercisetable"],[3,"close","selectedDate"],[1,"setsCell"],[1,"deletebtn",3,"click"]],template:function(t,r){t&1&&(R(0,"div",0),Pe(1,hne,1,1,"app-addworkout",1),R(2,"div")(3,"div",2)(4,"p",3),k(5),Pt(6,"date"),M(),R(7,"button",4),le("click",function(){return r.setDateToday()}),k(8,"Today"),M()(),R(9,"div",5)(10,"app-calendar",6),le("selectedDayChange",function(s){return r.changeDate(s)}),Yt("selectedDayChange",function(s){return dn(r.selectedDate,s)||(r.selectedDate=s),s}),M()(),R(11,"div",7)(12,"button",8),le("click",function(){return r.addingWorkout=!0}),k(13," Add Workout "),M()()(),R(14,"div",9)(15,"table",10)(16,"thead")(17,"th"),k(18,"Exercise Name"),M(),R(19,"th"),k(20,"Muscle Group"),M(),R(21,"th"),k(22,"Sets"),M(),R(23,"th"),k(24,"Volume"),M()(),kn(25,pne,14,6,"tr",null,ad,!1,gne,3,0,"tr"),M()()()),t&2&&($(),dt(r.addingWorkout?1:-1),$(4),$t("Date: ",Qt(6,5,r.selectedDate,"mediumDate"),""),$(5),Kt("selectedDay",r.selectedDate),Me("exerciseData",r.dataMap),$(15),Nn(r.setsOfCurrentDay()))},dependencies:[xf,pd,Xt,Ri,D_],styles:[".page[_ngcontent-%COMP%]{padding:2em;background-color:#1b1a55;max-height:fit-content;min-height:100dvh;width:100vw;min-width:fit-content}.page[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#f0f0f0}.exercisetable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#f0f0f0;margin:1em}.etable[_ngcontent-%COMP%]{background-color:#2f2f2f;margin:1em 0;padding:.5em;border-radius:1em 2em 1em 1em;width:fit-content;height:fit-content;border:2px solid #535c91}.exercisetable[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);grid-auto-rows:minmax(3em,auto);width:75dvw;height:inherit}.exercisetable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:1px solid #535c91;padding-left:.2em;border-top:1px solid #535c91}.date[_ngcontent-%COMP%]{font-size:1.25em;color:#f0f0f0;font-weight:600}.datebar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-width:fit-content;max-width:55dvw}.todaybtn[_ngcontent-%COMP%]{margin-left:17em;background-color:#535c91;border:2px solid #9290c3;color:#f0f0f0;border-radius:.5em;padding:.5em;margin-bottom:1em}.todaybtn[_ngcontent-%COMP%]:hover{background-color:#434c81;scale:105%}.holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.btncontainer[_ngcontent-%COMP%]{width:55dvw;display:flex;flex-direction:row;justify-content:end}.addworkout[_ngcontent-%COMP%]{margin:1em 0 0;padding:.5em;background-color:#535c91;border:1px solid #9290c3;width:fit-content;height:fit-content;border-radius:1em;align-self:flex-end;justify-self:end;color:#f0f0f0}.addworkout[_ngcontent-%COMP%]:hover{background-color:#434c81;scale:105%}.loadingtext[_ngcontent-%COMP%]{color:#f0f0f0;margin:1em}.deletebtn[_ngcontent-%COMP%]{margin-left:17em;background-color:#535c91;border:2px solid #9290c3;color:#f0f0f0;border-radius:.5em;padding:.5em;margin-bottom:1em}.deletebtn[_ngcontent-%COMP%]:hover{background-color:#434c81;scale:105%}"]})};var mne=["myChartCanvas"];function yne(n,e){if(n&1&&(R(0,"option",13),k(1),M()),n&2){let t=e.$implicit;Me("value",t.value),$(),$t(" ",t.label," ")}}Ki.register(_f,$o,oc,sc,Df,Ef,If,wf);var jB={0:"Unknown",1:"Chest",2:"Back",3:"Biceps",4:"Triceps",5:"Glutes & Quads",6:"Hamstrings & Calves"},T_=class n{constructor(e,t){this.dataService=e;this.authService=t}myChartCanvas;chart;muscleGroups=[];workoutData=new Map;usePounds=!1;ngOnInit(){(this.authService.getUserSync?.()??null)?.units==="lbs"&&(this.usePounds=!0)}ngAfterViewInit(){let e=this.myChartCanvas.nativeElement.getContext("2d");if(!e){console.error("Canvas context is null");return}this.chart=new Ki(e,{type:"line",data:{labels:[],datasets:[{label:"Muscle Group Progress",data:[],borderColor:"blue",fill:!1,tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Muscle Group Progress Over Time"},tooltip:{callbacks:{label:t=>{let r=t.chart.options.scales?.y?.title?.text||"";return`${t.dataset.label}: ${t.raw} ${r}`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:`Total Volume (${this.usePounds?"lbs":"kg"})`}}}}})}retrieveStatistics(){return E(this,null,function*(){let e=document.getElementById("start-date").value,t=document.getElementById("end-date").value;if(!e||!t){alert("Please provide valid dates.");return}let r=new Date(e),i=new Date(t);if(i<r){alert("End date must be after start date.");return}let s=new Date(r);for(;s<=i;)yield this.dataService.getExerciseSetsForDay(new Date(s)),s.setDate(s.getDate()+1);this.workoutData=yield this.dataService.getDataInDateRange(r,i);let o=new Set,a=new Date(r);for(;a<=i;){let c=a.toISOString().split("T")[0],l=this.workoutData.get(c);l&&l.forEach(u=>{u?.exercise?.muscleGroup!=null&&o.add(u.exercise.muscleGroup)}),a.setDate(a.getDate()+1)}this.muscleGroups=Array.from(o).map(c=>({value:c,label:jB[c]??"Unknown"}))})}onMuscleGroupChange(e){let t=e.target;t&&t.value&&this.plotMuscleGroupProgress(t.value)}plotMuscleGroupProgress(e){let t=parseInt(e,10),r=[],i=[],s=document.getElementById("start-date").value,o=document.getElementById("end-date").value,a=new Date(s),c=new Date(o),l=new Date(a);for(;l<=c;){let h=l.toISOString().split("T")[0],p=(this.workoutData.get(h)||[]).filter(m=>m.exercise.muscleGroup===t).reduce((m,v)=>{let _=v.totalVolume||0;return m+(this.usePounds?Math.round(_/.453592):_)},0);r.push(h),i.push(p),l.setDate(l.getDate()+1)}let u=this.chart.options.scales?.y;u&&typeof u=="object"&&"title"in u&&u.title&&typeof u.title=="object"&&(u.title.text=`Total Volume (${this.usePounds?"lbs":"kg"})`),this.chart.data.labels=r,this.chart.data.datasets[0].label=`${jB[t]} Progress`,this.chart.data.datasets[0].data=i,this.chart.update()}static \u0275fac=function(t){return new(t||n)(Q(Qn),Q(We))};static \u0275cmp=be({type:n,selectors:[["app-muscle-group-progress-page"]],viewQuery:function(t,r){if(t&1&&wi(mne,5),t&2){let i;wr(i=Er())&&(r.myChartCanvas=i.first)}},decls:26,vars:1,consts:[["myChartCanvas",""],[1,"w-100","min-vh-100","page"],[1,"date-picker-container"],[1,"date-picker"],["for","start-date"],["type","date","id","start-date","name","startDate"],["for","end-date"],["type","date","id","end-date","name","endDate"],[1,"btn","btn-primary",3,"click"],["for","muscle-select"],["id","muscle-select",1,"muscle-dropdown",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"chart-container"],[3,"value"]],template:function(t,r){if(t&1){let i=Rt();R(0,"div",1)(1,"h1"),k(2,"Muscle Group Progress"),M(),R(3,"div",2)(4,"div",3)(5,"label",4),k(6,"Start Date:"),M(),Te(7,"input",5),M(),R(8,"div",3)(9,"label",6),k(10,"End Date:"),M(),Te(11,"input",7),M(),R(12,"button",8),le("click",function(){return Ue(i),$e(r.retrieveStatistics())}),k(13," Load Muscle Groups "),M()(),Te(14,"br")(15,"br"),R(16,"div",3)(17,"label",9),k(18,"Muscle Group:"),M(),R(19,"select",10),le("change",function(o){return Ue(i),$e(r.onMuscleGroupChange(o))}),Pe(20,yne,2,2,"option",11),M()(),Te(21,"br")(22,"br"),R(23,"div",12),Te(24,"canvas",null,0),M()()}t&2&&($(20),Me("ngForOf",r.muscleGroups))},dependencies:[tl,el,Xt,fo,po],styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b}h1[_ngcontent-%COMP%]{font-size:5rem;color:#f0f0f0;text-align:center}.date-picker-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:20px 70px}.date-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.chart-container[_ngcontent-%COMP%]{width:100%;max-width:800px;height:400px;margin:auto}canvas[_ngcontent-%COMP%]{background-color:#fff;border:1px solid lightgray;width:100%!important;height:100%!important}.muscle-dropdown[_ngcontent-%COMP%]{width:100px;height:36px;padding:6px 10px;font-size:14px;border-radius:4px;border:1px solid #ccc;box-sizing:border-box}label[_ngcontent-%COMP%]{font-size:1rem;color:#f0f0f0}"]})};var vne=["exerciseChartCanvas"];function _ne(n,e){if(n&1&&(R(0,"option",13),k(1),M()),n&2){let t=e.$implicit;Me("value",t.id),$(),$t(" ",t.name," ")}}Ki.register(_f,$o,oc,sc,Df,Ef,If,wf);var S_=class n{constructor(e,t){this.fetchService=e;this.authService=t}chartCanvas;chart;usePounds=!1;exercises=[];workoutData=new Map;ngOnInit(){this.authService.getUserSync()?.units==="lbs"&&(this.usePounds=!0)}ngAfterViewInit(){let e=this.chartCanvas.nativeElement.getContext("2d");if(!e){console.error("Canvas context is null");return}this.chart=new Ki(e,{type:"line",data:{labels:[],datasets:[{label:"Avg Weight Progress",data:[],borderColor:"blue",fill:!1,tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Exercise Progress Over Time"},tooltip:{callbacks:{label:t=>{let i=(t.chart.options.scales?.y?.title?.text||"").match(/\((.*?)\)/)?.[1]||"";return`${t.dataset.label}: ${t.raw} ${i}`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:`Total Volume (${this.usePounds?"lbs":"kg"})`}}}}})}getDateKey(e){let t=new Date(e);t.setHours(0,0,0,0);let r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${i}-${s}`}convertVolume(e){return this.usePounds?Math.round(e/.453592):e}retrieveExerciseStatistics(){return E(this,null,function*(){let e=document.getElementById("exercise-start-date").value,t=document.getElementById("exercise-end-date").value;if(!e||!t){alert("Please provide valid dates.");return}let r=new Date(e),i=new Date(t);if(i<r){alert("End date must be after start date.");return}let s=this.authService.getUserSync();if(!s){alert("User not authenticated.");return}this.workoutData=yield this.fetchService.getExerciseSetsInDateRange(s.id,r,i);let o=new Map;for(let a of this.workoutData.values())for(let c of a){let l=c.exercise;l?.id&&l.name&&!o.has(l.id)&&o.set(l.id,l.name)}this.exercises=Array.from(o.entries()).map(([a,c])=>({id:a,name:c}))})}onExerciseChange(e){return E(this,null,function*(){let t=e.target;if(!t?.value)return;let r=t.value,i=document.getElementById("exercise-start-date").value,s=document.getElementById("exercise-end-date").value,o=new Date(i),a=new Date(s),c=[],l=[],u=new Date(o);for(;u<=a;){let p=u.toISOString().split("T")[0],v=(this.workoutData.get(p)||[]).filter(N=>N.exercise?.id===r),_=0,C=0;for(let N of v)if(Array.isArray(N.sets))for(let j of N.sets)_+=j.weight||0,C++;let x=C>0?this.convertVolume(_/C):0;c.push(p),l.push(x),u.setDate(u.getDate()+1)}let h=this.exercises.find(p=>p.id===r)?.name??"Exercise",f=this.chart.options.scales?.y;f&&f.title&&(f.title.text=`Average Weight per Set (${this.usePounds?"lbs":"kg"})`),this.chart.data.labels=c,this.chart.data.datasets[0].label=`${h} Avg Weight`,this.chart.data.datasets[0].data=l,this.chart.update("none")})}static \u0275fac=function(t){return new(t||n)(Q(iu),Q(We))};static \u0275cmp=be({type:n,selectors:[["app-exercise-progress-page"]],viewQuery:function(t,r){if(t&1&&wi(vne,5),t&2){let i;wr(i=Er())&&(r.chartCanvas=i.first)}},decls:26,vars:1,consts:[["exerciseChartCanvas",""],[1,"w-100","min-vh-100","page"],[1,"date-picker-container"],[1,"date-picker"],["for","exercise-start-date"],["type","date","id","exercise-start-date","name","startDate"],["for","exercise-end-date"],["type","date","id","exercise-end-date","name","endDate"],[1,"btn","btn-primary",3,"click"],["for","exercise-select"],["id","exercise-select",1,"exercise-dropdown",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"chart-container"],[3,"value"]],template:function(t,r){if(t&1){let i=Rt();R(0,"div",1)(1,"h1"),k(2,"Exercise Progress"),M(),R(3,"div",2)(4,"div",3)(5,"label",4),k(6,"Start Date:"),M(),Te(7,"input",5),M(),R(8,"div",3)(9,"label",6),k(10,"End Date:"),M(),Te(11,"input",7),M(),R(12,"button",8),le("click",function(){return Ue(i),$e(r.retrieveExerciseStatistics())}),k(13," Load Exercises "),M()(),Te(14,"br")(15,"br"),R(16,"div",3)(17,"label",9),k(18,"Exercise:"),M(),R(19,"select",10),le("change",function(o){return Ue(i),$e(r.onExerciseChange(o))}),Pe(20,_ne,2,2,"option",11),M()(),Te(21,"br")(22,"br"),R(23,"div",12),Te(24,"canvas",null,0),M()()}t&2&&($(20),Me("ngForOf",r.exercises))},dependencies:[tl,el,Xt,fo,po],styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b}h1[_ngcontent-%COMP%]{font-size:5rem;color:#f0f0f0;text-align:center}.date-picker-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:20px 50px}.date-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.chart-container[_ngcontent-%COMP%]{width:100%;max-width:800px;height:400px;margin:auto}canvas[_ngcontent-%COMP%]{background-color:#fff;border:1px solid lightgray;width:100%!important;height:100%!important}button[_ngcontent-%COMP%]{margin-left:50px}.exercise-dropdown[_ngcontent-%COMP%]{width:100px;height:36px;padding:6px 10px;font-size:14px;border-radius:4px;border:1px solid #ccc;box-sizing:border-box}label[_ngcontent-%COMP%]{font-size:1rem;color:#f0f0f0}"]})};function bne(n,e){if(n&1&&(R(0,"div")(1,"p")(2,"strong"),k(3,"Email:"),M(),k(4),M(),R(5,"p")(6,"strong"),k(7,"User UID:"),M(),k(8),M()()),n&2){let t=pe();$(4),$t(" ",t.user.email,""),$(4),$t(" ",t.user.id,"")}}var x_=class n{constructor(e){this.router=e}user=null;auth=F(hn);authService=F(We);dataService=F(Qn);preferredUnit="lbs";ngOnInit(){this.getUser()}getUser(){return E(this,null,function*(){this.user=yield ui(this.authService.user),console.log(JSON.stringify(this.user)),this.user==null?this.router.navigate(["login-page"]):(this.user.units==="kg"||this.user.units==="lbs")&&(this.preferredUnit=this.user.units)})}onUnitChange(e){let t=e.target;this.preferredUnit=t.value,this.user&&(this.authService.setUserUnits(this.preferredUnit),this.authService.saveUser()),console.log("Preferred unit set to:",this.preferredUnit)}logout(){cy(this.auth).then(()=>{sessionStorage.removeItem("user"),this.router.navigate(["/login-page"])}).catch(e=>{console.error("Error during logout: ",e)})}static \u0275fac=function(t){return new(t||n)(Q(Xe))};static \u0275cmp=be({type:n,selectors:[["app-settings-page"]],decls:17,vars:2,consts:[[1,"w-100","min-vh-100","page"],[1,"text-center","mb-5"],[1,"settings-container"],[4,"ngIf"],[1,"unit-toggle"],["for","unitSelect"],["id","unitSelect",3,"ngModelChange","change","ngModel"],["value","kg"],["value","lbs"],[3,"click"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"h1",1),k(2,"Settings"),M(),R(3,"div",2),Pe(4,bne,9,2,"div",3),R(5,"div",4)(6,"label",5)(7,"strong"),k(8,"Preferred Unit:"),M()(),R(9,"select",6),Yt("ngModelChange",function(s){return dn(r.preferredUnit,s)||(r.preferredUnit=s),s}),le("change",function(s){return r.onUnitChange(s)}),R(10,"option",7),k(11,"Kilograms (kg)"),M(),R(12,"option",8),k(13,"Pounds (lbs)"),M()(),Te(14,"p"),M(),R(15,"button",9),le("click",function(){return r.logout()}),k(16,"Logout"),M()()()),t&2&&($(4),Me("ngIf",r.user),$(5),Kt("ngModel",r.preferredUnit))},dependencies:[ga,Xt,fo,po,_l,Sr,cr],styles:[".settings-container[_ngcontent-%COMP%]{background-color:#070f2b;color:#fff;text-align:center}h1[_ngcontent-%COMP%]{color:#fff;font-size:72px}.page[_ngcontent-%COMP%]{background-color:#070f2b}"]})};function wne(n,e){if(n&1&&(R(0,"p",11),k(1),M()),n&2){let t=pe();$(),Qe(t.errorMessage)}}var A_=class n{constructor(e){this.router=e}email="";password="";errorMessage="";auth=F(hn);login(){return E(this,null,function*(){try{let t=(yield ay(this.auth,this.email,this.password)).user;sessionStorage.setItem("user",JSON.stringify(t)),this.router.navigate(["/settings-page"])}catch(e){let t=e;console.error("Login error: ",t),this.errorMessage=this.getErrorMessage(t.code)}})}getErrorMessage(e){switch(e){case"auth/invalid-email":return"Invalid email address.";case"auth/user-disabled":return"This user has been disabled.";case"auth/user-not-found":return"No user found with this email.";case"auth/wrong-password":return"Incorrect password.";default:return"An error occurred. Please try again."}}static \u0275fac=function(t){return new(t||n)(Q(Xe))};static \u0275cmp=be({type:n,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"w-100","min-vh-100","page"],[1,"login-container"],[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error-message",4,"ngIf"],[1,"register-link"],["routerLink","/register-page"],[1,"error-message"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"h2"),k(3,"Login"),M(),R(4,"form",2),le("ngSubmit",function(){return r.login()}),R(5,"div")(6,"label",3),k(7,"Email"),M(),R(8,"input",4),Yt("ngModelChange",function(s){return dn(r.email,s)||(r.email=s),s}),M()(),R(9,"div")(10,"label",5),k(11,"Password"),M(),R(12,"input",6),Yt("ngModelChange",function(s){return dn(r.password,s)||(r.password=s),s}),M()(),R(13,"button",7),k(14,"Login"),M(),Pe(15,wne,2,1,"p",8),M(),R(16,"div",9)(17,"p"),k(18,"Don't have an account? "),R(19,"a",10),k(20,"Register here"),M()()()()()),t&2&&($(8),Kt("ngModel",r.email),$(4),Kt("ngModel",r.password),$(3),Me("ngIf",r.errorMessage))},dependencies:[Xt,Mi,Tr,Sr,Ai,Zr,cr,Xr,ga,Ca,Cr],styles:[".login-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f4f4f4;border-radius:8px;box-shadow:0 4px 8px #0000001a}.page[_ngcontent-%COMP%]{background-color:#070f2b}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}input[_ngcontent-%COMP%]{width:100%;padding:8px;margin-top:5px;border-radius:4px;border:1px solid #ccc}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var M_=class n{constructor(e){this.authService=e}email="";password="";fName="";lName="";router=F(Xe);onRegister(){let e={email:"",fname:this.fName,lname:this.lName,id:"",units:"lbs"};this.authService.register(this.email,this.password,e).then(()=>{this.router.navigate(["settings-page"])}).catch(t=>{console.error("Registration error: ",t)})}static \u0275fac=function(t){return new(t||n)(Q(We))};static \u0275cmp=be({type:n,selectors:[["app-register"]],decls:17,vars:2,consts:[[1,"w-100","min-vh-100","page"],[1,"register-container"],[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["routerLink","/login-page"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"h2"),k(3,"Register"),M(),R(4,"form",2),le("ngSubmit",function(){return r.onRegister()}),R(5,"label",3),k(6,"Email"),M(),R(7,"input",4),Yt("ngModelChange",function(s){return dn(r.email,s)||(r.email=s),s}),M(),R(8,"label",5),k(9,"Password"),M(),R(10,"input",6),Yt("ngModelChange",function(s){return dn(r.password,s)||(r.password=s),s}),M(),R(11,"button",7),k(12,"Register"),M()(),R(13,"p"),k(14,"Already have an account? "),R(15,"a",8),k(16,"Login here"),M()()()()),t&2&&($(7),Kt("ngModel",r.email),$(3),Kt("ngModel",r.password))},dependencies:[Xt,Mi,Tr,Sr,Ai,Zr,cr,Xr,Ca,Cr],styles:[".register-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f4f4f4;border-radius:8px;box-shadow:0 4px 8px #0000001a}.page[_ngcontent-%COMP%]{background-color:#070f2b}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}input[_ngcontent-%COMP%]{width:100%;padding:8px;margin-top:5px;border-radius:4px;border:1px solid #ccc}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#28a745;color:#fff;border:none;border-radius:4px}button[_ngcontent-%COMP%]:hover{background-color:#218838}"]})};var Ho=class n{auth=F(We);router=F(Xe);user=null;canMatch(e,t){return E(this,null,function*(){return(yield ui(this.auth.user))?!0:(this.router.navigate([""]),!1)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})},BB=[{path:"",component:I_},{path:"interval-stats",component:b_,canMatch:[Ho]},{path:"interval-progress",component:E_,canMatch:[Ho]},{path:"day",component:C_,canMatch:[Ho]},{path:"exercise-progress-page",component:S_,canMatch:[Ho]},{path:"muscle-group-progress-page",component:T_,canMatch:[Ho]},{path:"settings-page",component:x_,canMatch:[Ho]},{path:"login-page",component:A_},{path:"register-page",component:M_}];var UB={apiKey:"AIzaSyD3_ElXAzbpqxi9Kh5v-CWuySWupJc2_w4",authDomain:"liftingbuddy-2ef3a.firebaseapp.com",projectId:"liftingbuddy-2ef3a",storageBucket:"liftingbuddy-2ef3a.firebasestorage.app",messagingSenderId:"43071849143",appId:"1:43071849143:web:7ba04399d6055a4a8bc332",measurementId:"G-PD3PDS3PPB"};var $B={providers:[$k({eventCoalescing:!0}),aI(BB),x1(()=>A1(UB)),FF(()=>VF(F(ti))),w2(()=>E2())]};var HB=()=>({exact:!0});function Ene(n,e){if(n&1){let t=Rt();R(0,"p",4),le("click",function(){Ue(t);let i=pe(3);return $e(i.onNavbarBtnClick())}),k(1),M()}if(n&2){let t=e.$implicit;Me("routerLinkActive","route_active")("routerLinkActiveOptions",Zc(4,HB))("routerLink",t[1]),$(),$t(" ",t[0]," ")}}function Ine(n,e){if(n&1&&kn(0,Ene,2,5,"p",5,Sg),n&2){let t=pe(2);Nn(t.links)}}function Dne(n,e){if(n&1){let t=Rt();R(0,"p",4),le("click",function(){Ue(t);let i=pe();return $e(i.onNavbarBtnClick())}),k(1," Home "),M(),Pe(2,Ine,2,0)}if(n&2){let t=pe();Me("routerLinkActive","route_active")("routerLinkActiveOptions",Zc(4,HB))("routerLink",""),$(2),dt(t.user!=null?2:-1)}}var R_=class n{isNavbarExtended=!0;screenWidth=0;changeSize=800;auth=F(We);user=null;ngOnInit(){this.screenWidth=window.innerWidth,this.onResize(""),this.onResize(""),this.auth.user.subscribe(e=>{this.user=e})}onResize(e){this.screenWidth=window.innerWidth,this.screenWidth<800?this.isNavbarExtended=!1:this.isNavbarExtended=!0}onNavbarBtnClick(){this.isNavbarExtended=!this.isNavbarExtended}links=[["Day","day"],["Interval Stats","interval-stats"],["Interval Progress","interval-progress"],["Exercise Progress","exercise-progress-page"],["Muscle Group Progress","muscle-group-progress-page"]];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-navbar"]],hostBindings:function(t,r){t&1&&le("resize",function(s){return r.onResize(s)},!1,SP)},decls:8,vars:1,consts:[[1,"navbar","h-100","w-10"],[1,"d-flex","flex-column","h-100","w-100"],[1,"extend_button",3,"click"],[1,"flex-grow-1"],[1,"p-2","navlink",3,"click","routerLinkActive","routerLinkActiveOptions","routerLink"],[1,"p-2","navlink",3,"routerLinkActive","routerLinkActiveOptions","routerLink"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"button",2),le("click",function(){return r.onNavbarBtnClick()}),Te(3,"hr")(4,"hr")(5,"hr"),M(),Pe(6,Dne,3,5),Te(7,"span",3),M()()),t&2&&($(6),dt(r.isNavbarExtended?6:-1))},dependencies:[Cr,oI],styles:[".navbar[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#9290c3,#070f2b);padding:1em .5em;transition:max-width 2s ease;max-width:10%}.navbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-shadow:0 0 2em #1b1a55;scale:105%}.w-10[_ngcontent-%COMP%]{max-width:10%;width:10%;min-width:fit-content}.navlink[_ngcontent-%COMP%]{font-size:1.5em;font-weight:600;cursor:pointer;overflow-wrap:anywhere;color:#f0f0f0}.route_active[_ngcontent-%COMP%]{color:#070f2b}.extend_button[_ngcontent-%COMP%]{padding:0;border:2px solid white;border-radius:.25em;cursor:pointer;background-color:transparent;width:fit-content;align-self:flex-start;justify-self:center;margin-bottom:1em}.extend_button[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{background-color:#fff;border:2px solid white;width:2em;margin:.5em}"]})};var P_;function Cne(){if(P_===void 0&&(P_=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(P_=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return P_}function Af(n){return Cne()?.createHTML(n)||n}function zB(n){return Error(`Unable to find icon with the name "${n}"`)}function Tne(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function WB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Vs=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},KB=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Vs(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){let o=this._sanitizer.sanitize(wn.HTML,i);if(!o)throw qB(i);let a=Af(o);return this._addSvgIconConfig(t,r,new Vs("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Vs(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let s=this._sanitizer.sanitize(wn.HTML,r);if(!s)throw qB(r);let o=Af(s);return this._addSvgIconSetConfig(t,new Vs("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(wn.RESOURCE_URL,t);if(!r)throw WB(t);let i=this._cachedIconsByUrl.get(r);return i?J(k_(i)):this._loadSvgIconFromConfig(new Vs(t,null)).pipe(Ct(s=>this._cachedIconsByUrl.set(r,s)),ne(s=>k_(s)))}getNamedSvgIcon(t,r=""){let i=GB(r,t),s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):qs(zB(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?J(k_(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ne(r=>k_(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return J(i);let s=r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(jr(a=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(wn.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),J(null)})));return Lu(s).pipe(ne(()=>{let o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw zB(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){let o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ct(r=>t.svgText=r),ne(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?J(null):this._fetchIcon(t).pipe(Ct(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let s=t.querySelector(`[id="${r}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,i);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),i);let a=this._svgElementFromString(Af("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(Af("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){let{name:o,value:a}=i[s];o!=="id"&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw Tne();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let o=this._sanitizer.sanitize(wn.RESOURCE_URL,r);if(!o)throw WB(r);let a=this._inProgressUrlFetches.get(o);if(a)return a;let c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(ne(l=>Af(l)),Qs(()=>this._inProgressUrlFetches.delete(o)),Bb());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(GB(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let s=this._resolvers[i](r,t);if(s)return Sne(s)?new Vs(s.url,null,s.options):new Vs(s,null)}}static \u0275fac=function(r){return new(r||n)(Z(RE,8),Z(PE),Z(at,8),Z(Mn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k_(n){return n.cloneNode(!0)}function GB(n,e){return n+":"+e}function Sne(n){return!!(n.url&&n.options)}var fx;try{fx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fx=!1}var N_=(()=>{class n{_platformId=F(zr);isBrowser=this._platformId?pE(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||fx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function px(n){return Array.isArray(n)?n:[n]}var YB=new Set,ac,xne=(()=>{class n{_platform=F(N_);_nonce=F(nd,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Mne}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Ane(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ane(n,e){if(!YB.has(n))try{ac||(ac=document.createElement("style"),e&&ac.setAttribute("nonce",e),ac.setAttribute("type","text/css"),document.head.appendChild(ac)),ac.sheet&&(ac.sheet.insertRule(`@media ${n} {body{ }}`,0),YB.add(n))}catch(t){console.error(t)}}function Mne(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var XB=(()=>{class n{_mediaMatcher=F(xne);_zone=F(xe);_queries=new Map;_destroySubject=new ot;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return QB(px(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=QB(px(t)).map(o=>this._registerQuery(o).observable),s=Jo(i);return s=Ks(s.pipe(nr(1)),s.pipe(Ub(1),Lb(0))),s.pipe(ne(o=>{let a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),s={observable:new de(o=>{let a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Ic(r),ne(({matches:o})=>({query:t,matches:o})),Vu(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var zo=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(zo||{}),ZB="cdk-high-contrast-black-on-white",JB="cdk-high-contrast-white-on-black",gx="cdk-high-contrast-active",mx=(()=>{class n{_platform=F(N_);_hasCheckedHighContrastMode;_document=F(at);_breakpointSubscription;constructor(){this._breakpointSubscription=F(XB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return zo.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return zo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return zo.BLACK_ON_WHITE}return zo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(gx,ZB,JB),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===zo.BLACK_ON_WHITE?t.add(gx,ZB):r===zo.WHITE_ON_BLACK&&t.add(gx,JB)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yx=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=on({})}return n})();var vx=(()=>{class n{constructor(){F(mx)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=on({imports:[yx,yx]})}return n})();var Rne=["*"],Pne=new Y("MAT_ICON_DEFAULT_OPTIONS"),kne=new Y("mat-icon-location",{providedIn:"root",factory:Nne});function Nne(){let n=F(at),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var eU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],One=eU.map(n=>`[${n}]`).join(", "),Fne=/^url\(['"]?#(.*?)['"]?\)$/,tU=(()=>{class n{_elementRef=F(cn);_iconRegistry=F(KB);_location=F(kne);_errorHandler=F(Mn);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=lt.EMPTY;constructor(){let t=F(new Qp("aria-hidden"),{optional:!0}),r=F(Pne,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(One),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)eU.forEach(o=>{let a=r[s],c=a.getAttribute(o),l=c?c.match(Fne):null;if(l){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(nr(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${r}:${i}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(so("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ck(i.color?"mat-"+i.color:""),un("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",qr],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Rne,decls:1,vars:0,template:function(r,i){r&1&&(Pk(),kk(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),nU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=on({imports:[vx,vx]})}return n})();var Vne=()=>["/login-page"],jne=()=>["/register-page"];function Bne(n,e){n&1&&(R(0,"div",1)(1,"p",2),k(2,"Lifting Buddy"),M(),R(3,"a",3),k(4,"Login"),M(),R(5,"a",3),k(6,"Register"),M()()),n&2&&($(3),Me("routerLink",Zc(2,Vne)),$(2),Me("routerLink",Zc(3,jne)))}function Une(n,e){if(n&1&&(R(0,"p",2),k(1),M()),n&2){let t=pe(2);$(),$t("Welcome, ",t.auth.currentUser.email.split("@")[0],"")}}function $ne(n,e){if(n&1&&(R(0,"div",1)(1,"p",2),k(2,"Lifting Buddy"),M(),Pe(3,Une,2,1,"p",2),R(4,"button",4)(5,"mat-icon"),k(6,"settings"),M()()()),n&2){let t=pe();$(3),dt(t.auth.currentUser&&t.auth.currentUser.email?3:-1),$(),Me("routerLink","/settings-page")}}var O_=class n{userLoggedIn=!1;auth=F(hn);ngOnInit(){uh(this.auth,e=>{e?this.userLoggedIn=!0:this.userLoggedIn=!1})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-title-bar"]],decls:3,vars:2,consts:[["class","titlebar d-flex",4,"ngIf"],[1,"titlebar","d-flex"],[1,"title"],[1,"item",3,"routerLink"],["mat-icon-button","","aria-label","Settings",1,"no-background-button",3,"routerLink"]],template:function(t,r){t&1&&(Pe(0,Bne,7,4,"div",0)(1,$ne,7,2,"div",0),Te(2,"router-outlet")),t&2&&(Me("ngIf",!r.userLoggedIn),$(),Me("ngIf",r.userLoggedIn))},dependencies:[Ca,Ea,Cr,ga,nU,tU],styles:[".titlebar[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#9290c3,#070f2b);display:flex;align-items:center}.title[_ngcontent-%COMP%]{font-size:2em;font-weight:700;padding:.3em 0 0 1em;color:#f0f0f0;text-shadow:0 0 1em black;flex-grow:1}.item[_ngcontent-%COMP%]{margin:0 2em;font-size:1.5em;font-weight:600;color:#f0f0f0;cursor:pointer}.item[_ngcontent-%COMP%]:hover{text-shadow:0 0 1em #9290c3;scale:105%}.no-background-button[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important;color:#fff;border:none;margin-right:1em}"]})};var F_=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"d-flex","flex-row","w-auto","vh-100","layout"],[1,"sidebar"],[1,"flex-grow-1","main"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1),Te(2,"app-navbar"),M(),R(3,"div",2),Te(4,"app-title-bar")(5,"router-outlet"),M()())},dependencies:[Ea,R_,O_],styles:[".layout[_ngcontent-%COMP%]{overflow:hidden}.sidebar[_ngcontent-%COMP%]{position:sticky;top:0}.main[_ngcontent-%COMP%]{overflow-y:auto}"]})};DE(F_,$B).catch(n=>console.error(n));
