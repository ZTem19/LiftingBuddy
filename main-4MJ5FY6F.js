var RU=Object.defineProperty,PU=Object.defineProperties;var kU=Object.getOwnPropertyDescriptors;var yA=Object.getOwnPropertySymbols,NU=Object.getPrototypeOf,OU=Object.prototype.hasOwnProperty,FU=Object.prototype.propertyIsEnumerable,LU=Reflect.get;var vA=(n,e,t)=>e in n?RU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z=(n,e)=>{for(var t in e||={})OU.call(e,t)&&vA(n,t,e[t]);if(yA)for(var t of yA(e))FU.call(e,t)&&vA(n,t,e[t]);return n},he=(n,e)=>PU(n,kU(e));var Us=(n,e,t)=>LU(NU(n),t,e);var E=(n,e,t)=>new Promise((r,i)=>{var s=c=>{try{a(t.next(c))}catch(l){i(l)}},o=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(n,e)).next())});function lb(n,e){return Object.is(n,e)}var Lt=null,zf=!1,ub=1,gr=Symbol("SIGNAL");function me(n){let e=Lt;return Lt=n,e}function db(){return Lt}var Su={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xu(n){if(zf)throw new Error("");if(Lt===null)return;Lt.consumerOnSignalRead(n);let e=Lt.nextProducerIndex++;if(Kf(Lt),e<Lt.producerNode.length&&Lt.producerNode[e]!==n&&Tu(Lt)){let t=Lt.producerNode[e];Gf(t,Lt.producerIndexOfThis[e])}Lt.producerNode[e]!==n&&(Lt.producerNode[e]=n,Lt.producerIndexOfThis[e]=Tu(Lt)?bA(n,Lt,e):0),Lt.producerLastReadVersion[e]=n.version}function _A(){ub++}function hb(n){if(!(Tu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ub)){if(!n.producerMustRecompute(n)&&!mb(n)){cb(n);return}n.producerRecomputeValue(n),cb(n)}}function fb(n){if(n.liveConsumerNode===void 0)return;let e=zf;zf=!0;try{for(let t of n.liveConsumerNode)t.dirty||VU(t)}finally{zf=e}}function pb(){return Lt?.consumerAllowSignalWrites!==!1}function VU(n){n.dirty=!0,fb(n),n.consumerMarkedDirty?.(n)}function cb(n){n.dirty=!1,n.lastCleanEpoch=ub}function qf(n){return n&&(n.nextProducerIndex=0),me(n)}function gb(n,e){if(me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Tu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Gf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function mb(n){Kf(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(hb(t),r!==t.version))return!0}return!1}function yb(n){if(Kf(n),Tu(n))for(let e=0;e<n.producerNode.length;e++)Gf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function bA(n,e,t){if(wA(n),n.liveConsumerNode.length===0&&EA(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=bA(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Gf(n,e){if(wA(n),n.liveConsumerNode.length===1&&EA(n))for(let r=0;r<n.producerNode.length;r++)Gf(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Kf(i),i.producerIndexOfThis[r]=e}}function Tu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Kf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function wA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function EA(n){return n.producerNode!==void 0}function vb(n,e){let t=Object.create(jU);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(hb(t),xu(t),t.value===Wf)throw t.error;return t.value};return r[gr]=t,r}var ob=Symbol("UNSET"),ab=Symbol("COMPUTING"),Wf=Symbol("ERRORED"),jU=he(z({},Su),{value:ob,dirty:!0,error:null,equal:lb,kind:"computed",producerMustRecompute(n){return n.value===ob||n.value===ab},producerRecomputeValue(n){if(n.value===ab)throw new Error("Detected cycle in computations.");let e=n.value;n.value=ab;let t=qf(n),r,i=!1;try{r=n.computation(),me(null),i=e!==ob&&e!==Wf&&r!==Wf&&n.equal(e,r)}catch(s){r=Wf,n.error=s}finally{gb(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function BU(){throw new Error}var IA=BU;function DA(n){IA(n)}function _b(n){IA=n}var UU=null;function bb(n,e){let t=Object.create(Qf);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(xu(t),t.value);return r[gr]=t,r}function Au(n,e){pb()||DA(n),n.equal(n.value,e)||(n.value=e,$U(n))}function wb(n,e){pb()||DA(n),Au(n,e(n.value))}var Qf=he(z({},Su),{equal:lb,value:void 0,kind:"signal"});function $U(n){n.version++,_A(),fb(n),UU?.()}function Eb(n){let e=me(null);try{return n()}finally{me(e)}}var Ib;function Mu(){return Ib}function es(n){let e=Ib;return Ib=n,e}var Yf=Symbol("NotFound");function le(n){return typeof n=="function"}function uc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Xf=uc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ot=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(s){e=s instanceof Xf?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{CA(s)}catch(o){e=e??[],o instanceof Xf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Xf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)CA(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qo(t,e)}remove(e){let{_finalizers:t}=this;t&&qo(t,e),e instanceof n&&e._removeParent(this)}};ot.EMPTY=(()=>{let n=new ot;return n.closed=!0,n})();var Db=ot.EMPTY;function Zf(n){return n instanceof ot||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function CA(n){le(n)?n():n.unsubscribe()}var Fr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var dc={setTimeout(n,e,...t){let{delegate:r}=dc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=dc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Jf(n){dc.setTimeout(()=>{let{onUnhandledError:e}=Fr;if(e)e(n);else throw n})}function Ru(){}var TA=Cb("C",void 0,void 0);function SA(n){return Cb("E",void 0,n)}function xA(n){return Cb("N",n,void 0)}function Cb(n,e,t){return{kind:n,value:e,error:t}}var Go=null;function hc(n){if(Fr.useDeprecatedSynchronousErrorHandling){let e=!Go;if(e&&(Go={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Go;if(Go=null,t)throw r}}else n()}function AA(n){Fr.useDeprecatedSynchronousErrorHandling&&Go&&(Go.errorThrown=!0,Go.error=n)}var Ko=class extends ot{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zf(e)&&e.add(this)):this.destination=KU}static create(e,t,r){return new Lr(e,t,r)}next(e){this.isStopped?Sb(xA(e),this):this._next(e)}error(e){this.isStopped?Sb(SA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sb(TA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qU=Function.prototype.bind;function Tb(n,e){return qU.call(n,e)}var xb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ep(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ep(r)}else ep(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ep(t)}}},Lr=class extends Ko{constructor(e,t,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Fr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tb(e.next,s),error:e.error&&Tb(e.error,s),complete:e.complete&&Tb(e.complete,s)}):i=e}this.destination=new xb(i)}};function ep(n){Fr.useDeprecatedSynchronousErrorHandling?AA(n):Jf(n)}function GU(n){throw n}function Sb(n,e){let{onStoppedNotification:t}=Fr;t&&dc.setTimeout(()=>t(n,e))}var KU={closed:!0,next:Ru,error:GU,complete:Ru};var fc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function er(n){return n}function tp(...n){return Ab(n)}function Ab(n){return n.length===0?er:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=YU(t)?t:new Lr(t,r,i);return hc(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=MA(r),new r((i,s)=>{let o=new Lr({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[fc](){return this}pipe(...t){return Ab(t)(this)}toPromise(t){return t=MA(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function MA(n){var e;return(e=n??Fr.Promise)!==null&&e!==void 0?e:Promise}function QU(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function YU(n){return n&&n instanceof Ko||QU(n)&&Zf(n)}function Mb(n){return le(n?.lift)}function De(n){return e=>{if(Mb(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,r,i){return new Rb(n,e,t,r,i)}var Rb=class extends Ko{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pc(){return De((n,e)=>{let t=null;n._refCount++;let r=Ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var gc=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Mb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ot;let t=this.getSubject();e.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ot.EMPTY)}return e}refCount(){return pc()(this)}};var RA=uc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new np(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new RA}next(t){hc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){hc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){hc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Db:(this.currentObservers=null,s.push(t),new ot(()=>{this.currentObservers=null,qo(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new np(e,t),n})(),np=class extends rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Db}};var Vt=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Pb={now(){return(Pb.delegate||Date).now()},delegate:void 0};var rp=class extends ot{constructor(e,t){super()}schedule(e,t=0){return this}};var Pu={setInterval(n,e,...t){let{delegate:r}=Pu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Pu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var mc=class extends rp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Pu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Pu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var yc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};yc.now=Pb.now;var vc=class extends yc{constructor(e,t=yc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ku=new vc(mc);var ip=class extends mc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var sp=class extends vc{};var kb=new sp(ip);var jn=new ue(n=>n.complete());function PA(n){return n&&le(n.schedule)}function kA(n){return n[n.length-1]}function op(n){return le(kA(n))?n.pop():void 0}function $s(n){return PA(kA(n))?n.pop():void 0}function Nb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function OA(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function NA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qo(n){return this instanceof Qo?(this.v=n,this):new Qo(n)}function FA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(m){return Promise.resolve(m).then(p,h)}}function a(p,m){r[p]&&(i[p]=function(v){return new Promise(function(_,C){s.push([p,v,_,C])>1||c(p,v)})},m&&(i[p]=m(i[p])))}function c(p,m){try{l(r[p](m))}catch(v){f(s[0][3],v)}}function l(p){p.value instanceof Qo?Promise.resolve(p.value.v).then(u,h):f(s[0][2],p)}function u(p){c("next",p)}function h(p){c("throw",p)}function f(p,m){p(m),s.shift(),s.length&&c(s[0][0],s[0][1])}}function LA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof NA=="function"?NA(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var ap=n=>n&&typeof n.length=="number"&&typeof n!="function";function cp(n){return le(n?.then)}function lp(n){return le(n[fc])}function up(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function dp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hp=XU();function fp(n){return le(n?.[hp])}function pp(n){return FA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Qo(t.read());if(i)return yield Qo(void 0);yield yield Qo(r)}}finally{t.releaseLock()}})}function gp(n){return le(n?.getReader)}function gt(n){if(n instanceof ue)return n;if(n!=null){if(lp(n))return ZU(n);if(ap(n))return JU(n);if(cp(n))return e$(n);if(up(n))return VA(n);if(fp(n))return t$(n);if(gp(n))return n$(n)}throw dp(n)}function ZU(n){return new ue(e=>{let t=n[fc]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JU(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function e$(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Jf)})}function t$(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function VA(n){return new ue(e=>{r$(n,e).catch(t=>e.error(t))})}function n$(n){return VA(pp(n))}function r$(n,e){var t,r,i,s;return OA(this,void 0,void 0,function*(){try{for(t=LA(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Bn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Hs(n,e=0){return De((t,r)=>{t.subscribe(Ce(r,i=>Bn(r,n,()=>r.next(i),e),()=>Bn(r,n,()=>r.complete(),e),i=>Bn(r,n,()=>r.error(i),e)))})}function zs(n,e=0){return De((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function jA(n,e){return gt(n).pipe(zs(e),Hs(e))}function BA(n,e){return gt(n).pipe(zs(e),Hs(e))}function UA(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function $A(n,e){return new ue(t=>{let r;return Bn(t,e,()=>{r=n[hp](),Bn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function mp(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{Bn(t,e,()=>{let r=n[Symbol.asyncIterator]();Bn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function HA(n,e){return mp(pp(n),e)}function zA(n,e){if(n!=null){if(lp(n))return jA(n,e);if(ap(n))return UA(n,e);if(cp(n))return BA(n,e);if(up(n))return mp(n,e);if(fp(n))return $A(n,e);if(gp(n))return HA(n,e)}throw dp(n)}function je(n,e){return e?zA(n,e):gt(n)}function Z(...n){let e=$s(n);return je(n,e)}function Ws(n,e){let t=le(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function Ob(n){return!!n&&(n instanceof ue||le(n.lift)&&le(n.subscribe))}var Vr=uc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ui(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new Lr({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Vr)}});n.subscribe(s)})}function ne(n,e){return De((t,r)=>{let i=0;t.subscribe(Ce(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:i$}=Array;function s$(n,e){return i$(e)?n(...e):n(e)}function yp(n){return ne(e=>s$(n,e))}var{isArray:o$}=Array,{getPrototypeOf:a$,prototype:c$,keys:l$}=Object;function vp(n){if(n.length===1){let e=n[0];if(o$(e))return{args:e,keys:null};if(u$(e)){let t=l$(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function u$(n){return n&&typeof n=="object"&&a$(n)===c$}function _p(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Yo(...n){let e=$s(n),t=op(n),{args:r,keys:i}=vp(n);if(r.length===0)return je([],e);let s=new ue(d$(r,e,i?o=>_p(i,o):er));return t?s.pipe(yp(t)):s}function d$(n,e,t=er){return r=>{WA(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)WA(e,()=>{let l=je(n[c],e),u=!1;l.subscribe(Ce(r,h=>{s[c]=h,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function WA(n,e,t){n?Bn(t,n,e):e()}function qA(n,e,t,r,i,s,o,a){let c=[],l=0,u=0,h=!1,f=()=>{h&&!c.length&&!l&&e.complete()},p=v=>l<r?m(v):c.push(v),m=v=>{s&&e.next(v),l++;let _=!1;gt(t(v,u++)).subscribe(Ce(e,C=>{i?.(C),s?p(C):e.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let C=c.shift();o?Bn(e,o,()=>m(C)):m(C)}f()}catch(C){e.error(C)}}))};return n.subscribe(Ce(e,p,()=>{h=!0,f()})),()=>{a?.()}}function Dt(n,e,t=1/0){return le(e)?Dt((r,i)=>ne((s,o)=>e(r,s,i,o))(gt(n(r,i))),t):(typeof e=="number"&&(t=e),De((r,i)=>qA(r,i,n,t)))}function qs(n=1/0){return Dt(er,n)}function GA(){return qs(1)}function Gs(...n){return GA()(je(n,$s(n)))}function bp(n){return new ue(e=>{gt(n()).subscribe(e)})}function Nu(...n){let e=op(n),{args:t,keys:r}=vp(n),i=new ue(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let h=!1;gt(t[u]).subscribe(Ce(s,f=>{h||(h=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!h)&&(l||s.next(r?_p(r,a):a),s.complete())}))}});return e?i.pipe(yp(e)):i}function Wt(n,e){return De((t,r)=>{let i=0;t.subscribe(Ce(r,s=>n.call(e,s,i++)&&r.next(s)))})}function jr(n){return De((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Ce(t,void 0,void 0,o=>{s=gt(n(o,jr(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function KA(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(Ce(o,u=>{let h=l++;c=a?n(c,u,h):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function di(n,e){return le(e)?Dt(n,e,1):Dt(n,1)}function Fb(n,e=ku){return De((t,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(Ce(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function Ks(n){return De((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function tr(n){return n<=0?()=>jn:De((e,t)=>{let r=0;e.subscribe(Ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function wp(n=h$){return De((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function h$(){return new Vr}function Qs(n){return De((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ts(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Wt((i,s)=>n(i,s,r)):er,tr(1),t?Ks(e):wp(()=>new Vr))}function _c(n){return n<=0?()=>jn:De((e,t)=>{let r=[];e.subscribe(Ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Lb(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Wt((i,s)=>n(i,s,r)):er,_c(1),t?Ks(e):wp(()=>new Vr))}function Ep(n,e){return De(KA(n,e,arguments.length>=2,!0))}function jb(n={}){let{connector:e=()=>new rt,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,u=!1,h=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),o=c=void 0,u=h=!1},m=()=>{let v=o;p(),v?.unsubscribe()};return De((v,_)=>{l++,!h&&!u&&f();let C=c=c??e();_.add(()=>{l--,l===0&&!h&&!u&&(a=Vb(m,i))}),C.subscribe(_),!o&&l>0&&(o=new Lr({next:x=>C.next(x),error:x=>{h=!0,f(),a=Vb(p,t,x),C.error(x)},complete:()=>{u=!0,f(),a=Vb(p,r),C.complete()}}),gt(v).subscribe(o))})(s)}}function Vb(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Lr({next:()=>{r.unsubscribe(),n()}});return gt(e(...t)).subscribe(r)}function Bb(n){return Wt((e,t)=>n<=t)}function bc(...n){let e=$s(n);return De((t,r)=>{(e?Gs(n,t,e):Gs(n,t)).subscribe(r)})}function yn(n,e){return De((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(Ce(r,c=>{i?.unsubscribe();let l=0,u=s++;gt(n(c,u)).subscribe(i=Ce(r,h=>r.next(e?e(c,h,u,l++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ou(n){return De((e,t)=>{gt(n).subscribe(Ce(t,()=>t.complete(),Ru)),!t.closed&&e.subscribe(t)})}function Ct(n,e,t){let r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?De((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Ce(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):er}var BM="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",G=class extends Error{code;constructor(e,t){super(u0(e,t)),this.code=e}};function f$(n){return`NG0${Math.abs(n)}`}function u0(n,e){return`${f$(n)}${e?": "+e:""}`}var UM=Symbol("InputSignalNode#UNSET"),p$=he(z({},Qf),{transformFn:void 0,applyValueToInputSignal(n,e){Au(n,e)}});function $M(n,e){let t=Object.create(p$);t.value=n,t.transformFn=e?.transform;function r(){if(xu(t),t.value===UM){let i=null;throw new G(-950,i)}return t.value}return r[gr]=t,r}function Gu(n){return{toString:n}.toString()}var Ip="__parameters__";function g$(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function HM(n,e,t){return Gu(()=>{let r=g$(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let h=c.hasOwnProperty(Ip)?c[Ip]:Object.defineProperty(c,Ip,{value:[]})[Ip];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var hi=globalThis;function qe(n){for(let e in n)if(n[e]===qe)return e;throw Error("Could not find renamed property on target object.")}function m$(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Hn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Hn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function nw(n,e){return n?e?`${n} ${e}`:n:e||""}var y$=qe({__forward_ref__:qe});function vi(n){return n.__forward_ref__=vi,n.toString=function(){return Hn(this())},n}function xn(n){return zM(n)?n():n}function zM(n){return typeof n=="function"&&n.hasOwnProperty(y$)&&n.__forward_ref__===vi}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ag(n){return QA(n,qM)||QA(n,GM)}function WM(n){return ag(n)!==null}function QA(n,e){return n.hasOwnProperty(e)?n[e]:null}function v$(n){let e=n&&(n[qM]||n[GM]);return e||null}function YA(n){return n&&(n.hasOwnProperty(XA)||n.hasOwnProperty(_$))?n[XA]:null}var qM=qe({\u0275prov:qe}),XA=qe({\u0275inj:qe}),GM=qe({ngInjectableDef:qe}),_$=qe({ngInjectorDef:qe}),Q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function KM(n){return n&&!!n.\u0275providers}var b$=qe({\u0275cmp:qe}),w$=qe({\u0275dir:qe}),E$=qe({\u0275pipe:qe}),I$=qe({\u0275mod:qe}),Np=qe({\u0275fac:qe}),ju=qe({__NG_ELEMENT_ID__:qe}),ZA=qe({__NG_ENV_ID__:qe});function Sc(n){return typeof n=="string"?n:n==null?"":String(n)}function D$(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Sc(n)}function QM(n,e){throw new G(-200,n)}function d0(n,e){throw new G(-201,!1)}var we=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(we||{}),rw;function YM(){return rw}function Un(n){let e=rw;return rw=n,e}function XM(n,e,t){let r=ag(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&we.Optional)return null;if(e!==void 0)return e;d0(n,"Injector")}var C$={},Zo=C$,iw="__NG_DI_FLAG__",Op=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Yf:Zo,r)}},Fp="ngTempTokenPath",T$="ngTokenPath",S$=/\n/gm,x$="\u0275",JA="__source";function A$(n,e=we.Default){if(Mu()===void 0)throw new G(-203,!1);if(Mu()===null)return XM(n,void 0,e);{let t=Mu(),r;return t instanceof Op?r=t.injector:r=t,r.get(n,e&we.Optional?null:void 0,e)}}function J(n,e=we.Default){return(YM()||A$)(xn(n),e)}function O(n,e=we.Default){return J(n,cg(e))}function cg(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sw(n){let e=[];for(let t=0;t<n.length;t++){let r=xn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,s=we.Default;for(let o=0;o<r.length;o++){let a=r[o],c=M$(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(J(i,s))}else e.push(J(r))}return e}function ZM(n,e){return n[iw]=e,n.prototype[iw]=e,n}function M$(n){return n[iw]}function R$(n,e,t,r){let i=n[Fp];throw e[JA]&&i.unshift(e[JA]),n.message=P$(`
`+n.message,i,t,r),n[T$]=i,n[Fp]=null,n}function P$(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==x$?n.slice(2):n;let i=Hn(e);if(Array.isArray(e))i=e.map(Hn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Hn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(S$,`
  `)}`}var Mn=ZM(HM("Optional"),8);var JM=ZM(HM("SkipSelf"),4);function ea(n,e){let t=n.hasOwnProperty(Np);return t?n[Np]:null}function k$(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function N$(n){return n.flat(Number.POSITIVE_INFINITY)}function h0(n,e){n.forEach(t=>Array.isArray(t)?h0(t,e):e(t))}function eR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Lp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function O$(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function F$(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function f0(n,e,t){let r=Ku(n,e);return r>=0?n[r|1]=t:(r=~r,F$(n,r,e,t)),r}function Ub(n,e){let t=Ku(n,e);if(t>=0)return n[t|1]}function Ku(n,e){return L$(n,e,1)}function L$(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var ta={},$n=[],xc=new Q(""),tR=new Q("",-1),nR=new Q(""),Vp=class{get(e,t=Zo){if(t===Zo){let r=new Error(`NullInjectorError: No provider for ${Hn(e)}!`);throw r.name="NullInjectorError",r}return t}};function rR(n,e){let t=n[I$]||null;if(!t&&e===!0)throw new Error(`Type ${Hn(n)} does not have '\u0275mod' property.`);return t}function na(n){return n[b$]||null}function V$(n){return n[w$]||null}function j$(n){return n[E$]||null}function yr(n){return{\u0275providers:n}}function B$(...n){return{\u0275providers:iR(!0,n),\u0275fromNgModule:!0}}function iR(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return h0(e,o=>{let a=o;ow(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sR(i,s),t}function sR(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];p0(i,s=>{e(s,r)})}}function ow(n,e,t,r){if(n=xn(n),!n)return!1;let i=null,s=YA(n),o=!s&&na(n);if(!s&&!o){let c=n.ngModule;if(s=YA(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)ow(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{h0(s.imports,u=>{ow(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&sR(l,e)}if(!a){let l=ea(i)||(()=>new i);e({provide:i,useFactory:l,deps:$n},i),e({provide:nR,useValue:i,multi:!0},i),e({provide:xc,useValue:()=>J(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=n;p0(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function p0(n,e){for(let t of n)KM(t)&&(t=t.\u0275providers),Array.isArray(t)?p0(t,e):e(t)}var U$=qe({provide:String,useValue:qe});function oR(n){return n!==null&&typeof n=="object"&&U$ in n}function $$(n){return!!(n&&n.useExisting)}function H$(n){return!!(n&&n.useFactory)}function Ac(n){return typeof n=="function"}function z$(n){return!!n.useClass}var lg=new Q(""),xp={},eM={},$b;function g0(){return $b===void 0&&($b=new Vp),$b}var nn=class{},Bu=class extends nn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,cw(e,o=>this.processProvider(o)),this.records.set(tR,wc(void 0,this)),i.has("environment")&&this.records.set(nn,wc(void 0,this));let s=this.records.get(lg);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nR,$n,we.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Yf:Zo,r)}destroy(){Lu(this),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return Lu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Lu(this);let t=es(this),r=Un(void 0),i;try{return e()}finally{es(t),Un(r)}}get(e,t=Zo,r=we.Default){if(Lu(this),e.hasOwnProperty(ZA))return e[ZA](this);r=cg(r);let i,s=es(this),o=Un(void 0);try{if(!(r&we.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Q$(e)&&ag(e);l&&this.injectableDefInScope(l)?c=wc(aw(e),xp):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&we.Self?g0():this.parent;return t=r&we.Optional&&t===Zo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Fp]=a[Fp]||[]).unshift(Hn(e)),s)throw a;return R$(a,e,"R3InjectorError",this.source)}else throw a}finally{Un(o),es(s)}}resolveInjectorInitializers(){let e=me(null),t=es(this),r=Un(void 0),i;try{let s=this.get(xc,$n,we.Self);for(let o of s)o()}finally{es(t),Un(r),me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Hn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=xn(e);let t=Ac(e)?e:xn(e&&e.provide),r=q$(e);if(!Ac(e)&&e.multi===!0){let i=this.records.get(t);i||(i=wc(void 0,xp,!0),i.factory=()=>sw(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=me(null);try{return t.value===eM?QM(Hn(e)):t.value===xp&&(t.value=eM,t.value=t.factory()),typeof t.value=="object"&&t.value&&K$(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=xn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function aw(n){let e=ag(n),t=e!==null?e.factory:ea(n);if(t!==null)return t;if(n instanceof Q)throw new G(204,!1);if(n instanceof Function)return W$(n);throw new G(204,!1)}function W$(n){if(n.length>0)throw new G(204,!1);let t=v$(n);return t!==null?()=>t.factory(n):()=>new n}function q$(n){if(oR(n))return wc(void 0,n.useValue);{let e=aR(n);return wc(e,xp)}}function aR(n,e,t){let r;if(Ac(n)){let i=xn(n);return ea(i)||aw(i)}else if(oR(n))r=()=>xn(n.useValue);else if(H$(n))r=()=>n.useFactory(...sw(n.deps||[]));else if($$(n))r=()=>J(xn(n.useExisting));else{let i=xn(n&&(n.useClass||n.provide));if(G$(n))r=()=>new i(...sw(n.deps));else return ea(i)||aw(i)}return r}function Lu(n){if(n.destroyed)throw new G(205,!1)}function wc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function G$(n){return!!n.deps}function K$(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Q$(n){return typeof n=="function"||typeof n=="object"&&n instanceof Q}function cw(n,e){for(let t of n)Array.isArray(t)?cw(t,e):t&&KM(t)?cw(t.\u0275providers,e):e(t)}function sn(n,e){let t;n instanceof Bu?(Lu(n),t=n):t=new Op(n);let r,i=es(t),s=Un(void 0);try{return e()}finally{es(i),Un(s)}}function cR(){return YM()!==void 0||Mu()!=null}function m0(n){if(!cR())throw new G(-203,!1)}function Y$(n){return typeof n=="function"}var os=0,de=1,ce=2,_n=3,$r=4,zn=5,Mc=6,jp=7,jt=8,Rc=9,ns=10,Tt=11,Uu=12,tM=13,Bc=14,nr=15,ra=16,Ec=17,rs=18,ug=19,lR=20,Ys=21,Hb=22,Bp=23,mr=24,Cc=25,qt=26,uR=1;var ia=7,Up=8,Pc=9,vn=10;function Xs(n){return Array.isArray(n)&&typeof n[uR]=="object"}function as(n){return Array.isArray(n)&&n[uR]===!0}function dR(n){return(n.flags&4)!==0}function Uc(n){return n.componentOffset>-1}function y0(n){return(n.flags&1)===1}function pi(n){return!!n.template}function $p(n){return(n[ce]&512)!==0}function Qu(n){return(n[ce]&256)===256}var lw=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function hR(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Gt=(()=>{let n=()=>fR;return n.ngInherit=!0,n})();function fR(n){return n.type.prototype.ngOnChanges&&(n.setInput=Z$),X$}function X$(){let n=gR(this),e=n?.current;if(e){let t=n.previous;if(t===ta)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Z$(n,e,t,r,i){let s=this.declaredInputs[r],o=gR(n)||J$(n,{previous:ta,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new lw(l&&l.currentValue,t,c===ta),hR(n,e,i,t)}var pR="__ngSimpleChanges__";function gR(n){return n[pR]||null}function J$(n,e){return n[pR]=e}var nM=null;var Be=function(n,e=null,t){nM?.(n,e,t)},eH="svg",tH="math";function gi(n){for(;Array.isArray(n);)n=n[os];return n}function mR(n,e){return gi(e[n])}function _i(n,e){return gi(e[n.index])}function v0(n,e){return n.data[e]}function _0(n,e){return n[e]}function mi(n,e){let t=e[n];return Xs(t)?t:t[os]}function nH(n){return(n[ce]&4)===4}function b0(n){return(n[ce]&128)===128}function rH(n){return as(n[_n])}function kc(n,e){return e==null?null:n[e]}function yR(n){n[Ec]=0}function vR(n){n[ce]&1024||(n[ce]|=1024,b0(n)&&Yu(n))}function iH(n,e){for(;n>0;)e=e[Bc],n--;return e}function dg(n){return!!(n[ce]&9216||n[mr]?.dirty)}function uw(n){n[ns].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),dg(n)&&Yu(n)}function Yu(n){n[ns].changeDetectionScheduler?.notify(0);let e=sa(n);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!b0(e)));)e=sa(e)}function _R(n,e){if(Qu(n))throw new G(911,!1);n[Ys]===null&&(n[Ys]=[]),n[Ys].push(e)}function sH(n,e){if(n[Ys]===null)return;let t=n[Ys].indexOf(e);t!==-1&&n[Ys].splice(t,1)}function sa(n){let e=n[_n];return as(e)?e[_n]:e}function w0(n){return n[jp]??=[]}function E0(n){return n.cleanup??=[]}function oH(n,e,t,r){let i=w0(e);i.push(t),n.firstCreatePass&&E0(n).push(r,i.length-1)}var ye={lFrame:AR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dw=!1;function aH(){return ye.lFrame.elementDepthCount}function cH(){ye.lFrame.elementDepthCount++}function lH(){ye.lFrame.elementDepthCount--}function bR(){return ye.bindingsEnabled}function wR(){return ye.skipHydrationRootTNode!==null}function uH(n){return ye.skipHydrationRootTNode===n}function dH(){ye.skipHydrationRootTNode=null}function ge(){return ye.lFrame.lView}function Mt(){return ye.lFrame.tView}function ct(n){return ye.lFrame.contextLView=n,n[jt]}function lt(n){return ye.lFrame.contextLView=null,n}function Rn(){let n=ER();for(;n!==null&&n.type===64;)n=n.parent;return n}function ER(){return ye.lFrame.currentTNode}function hH(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Xu(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function IR(){return ye.lFrame.isParent}function DR(){ye.lFrame.isParent=!1}function fH(){return ye.lFrame.contextLView}function CR(){return dw}function rM(n){let e=dw;return dw=n,e}function I0(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function pH(){return ye.lFrame.bindingIndex}function gH(n){return ye.lFrame.bindingIndex=n}function $c(){return ye.lFrame.bindingIndex++}function D0(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function mH(){return ye.lFrame.inI18n}function yH(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,hw(e)}function vH(){return ye.lFrame.currentDirectiveIndex}function hw(n){ye.lFrame.currentDirectiveIndex=n}function _H(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function TR(){return ye.lFrame.currentQueryIndex}function C0(n){ye.lFrame.currentQueryIndex=n}function bH(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[zn]:null}function SR(n,e,t){if(t&we.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&we.Host);)if(i=bH(s),i===null||(s=s[Bc],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=ye.lFrame=xR();return r.currentTNode=e,r.lView=n,!0}function T0(n){let e=xR(),t=n[de];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function xR(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?AR(n):e}function AR(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function MR(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var RR=MR;function S0(){let n=MR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wH(n){return(ye.lFrame.contextLView=iH(n,ye.lFrame.contextLView))[jt]}function cs(){return ye.lFrame.selectedIndex}function oa(n){ye.lFrame.selectedIndex=n}function x0(){let n=ye.lFrame;return v0(n.tView,n.selectedIndex)}function EH(){return ye.lFrame.currentNamespace}var PR=!0;function A0(){return PR}function M0(n){PR=n}function IH(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=fR(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function kR(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Ap(n,e,t){NR(n,e,3,t)}function Mp(n,e,t,r){(n[ce]&3)===t&&NR(n,e,t,r)}function zb(n,e){let t=n[ce];(t&3)===e&&(t&=16383,t+=1,n[ce]=t)}function NR(n,e,t,r){let i=r!==void 0?n[Ec]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ec]+=65536),(a<s||s==-1)&&(DH(n,t,e,c),n[Ec]=(n[Ec]&4294901760)+c+2),c++}function iM(n,e){Be(4,n,e);let t=me(null);try{e.call(n)}finally{me(t),Be(5,n,e)}}function DH(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[ce]>>14<n[Ec]>>16&&(n[ce]&3)===e&&(n[ce]+=16384,iM(a,s)):iM(a,s)}var Tc=-1,aa=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function CH(n){return(n.flags&8)!==0}function TH(n){return(n.flags&16)!==0}function SH(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];xH(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function OR(n){return n===3||n===4||n===6}function xH(n){return n.charCodeAt(0)===64}function $u(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?sM(n,t,i,null,e[++r]):sM(n,t,i,null,null))}}return n}function sM(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function FR(n){return n!==Tc}function Hp(n){return n&32767}function AH(n){return n>>16}function zp(n,e){let t=AH(n),r=e;for(;t>0;)r=r[Bc],t--;return r}var fw=!0;function Wp(n){let e=fw;return fw=n,e}var MH=256,LR=MH-1,VR=5,RH=0,fi={};function PH(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ju)&&(r=t[ju]),r==null&&(r=t[ju]=RH++);let i=r&LR,s=1<<i;e.data[n+(i>>VR)]|=s}function qp(n,e){let t=jR(n,e);if(t!==-1)return t;let r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,Wb(r.data,n),Wb(e,null),Wb(r.blueprint,null));let i=R0(n,e),s=n.injectorIndex;if(FR(i)){let o=Hp(i),a=zp(i,e),c=a[de].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Wb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function jR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function R0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=zR(i),r===null)return Tc;if(t++,i=i[Bc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Tc}function pw(n,e,t){PH(n,e,t)}function kH(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(OR(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function BR(n,e,t){if(t&we.Optional||n!==void 0)return n;d0(e,"NodeInjector")}function UR(n,e,t,r){if(t&we.Optional&&r===void 0&&(r=null),(t&(we.Self|we.Host))===0){let i=n[Rc],s=Un(void 0);try{return i?i.get(e,r,t&we.Optional):XM(e,r,t&we.Optional)}finally{Un(s)}}return BR(r,e,t)}function $R(n,e,t,r=we.Default,i){if(n!==null){if(e[ce]&2048&&!(r&we.Self)){let o=LH(n,e,t,r,fi);if(o!==fi)return o}let s=HR(n,e,t,r,fi);if(s!==fi)return s}return UR(e,t,r,i)}function HR(n,e,t,r,i){let s=OH(t);if(typeof s=="function"){if(!SR(e,n,r))return r&we.Host?BR(i,t,r):UR(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&we.Optional))d0(t);else return o}finally{RR()}}else if(typeof s=="number"){let o=null,a=jR(n,e),c=Tc,l=r&we.Host?e[nr][zn]:null;for((a===-1||r&we.SkipSelf)&&(c=a===-1?R0(n,e):e[a+8],c===Tc||!aM(r,!1)?a=-1:(o=e[de],a=Hp(c),e=zp(c,e)));a!==-1;){let u=e[de];if(oM(s,a,u.data)){let h=NH(a,e,t,o,r,l);if(h!==fi)return h}c=e[a+8],c!==Tc&&aM(r,e[de].data[a+8]===l)&&oM(s,a,e)?(o=u,a=Hp(c),e=zp(c,e)):a=-1}}return i}function NH(n,e,t,r,i,s){let o=e[de],a=o.data[n+8],c=r==null?Uc(a)&&fw:r!=o&&(a.type&3)!==0,l=i&we.Host&&s===a,u=Rp(a,o,t,c,l);return u!==null?Hu(e,o,u,a):fi}function Rp(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,l=n.directiveEnd,u=s>>20,h=r?a:a+u,f=i?a+u:l;for(let p=h;p<f;p++){let m=o[p];if(p<c&&t===m||p>=c&&m.type===t)return p}if(i){let p=o[c];if(p&&pi(p)&&p.type===t)return c}return null}function Hu(n,e,t,r){let i=n[t],s=e.data;if(i instanceof aa){let o=i;o.resolving&&QM(D$(s[t]));let a=Wp(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Un(o.injectImpl):null,u=SR(n,r,we.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&IH(t,s[t],e)}finally{l!==null&&Un(l),Wp(a),o.resolving=!1,RR()}}return i}function OH(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ju)?n[ju]:void 0;return typeof e=="number"?e>=0?e&LR:FH:e}function oM(n,e,t){let r=1<<n;return!!(t[e+(n>>VR)]&r)}function aM(n,e){return!(n&we.Self)&&!(n&we.Host&&e)}var Jo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return $R(this._tNode,this._lView,e,cg(r),t)}};function FH(){return new Jo(Rn(),ge())}function ls(n){return Gu(()=>{let e=n.prototype.constructor,t=e[Np]||gw(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Np]||gw(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function gw(n){return zM(n)?()=>{let e=gw(xn(n));return e&&e()}:ea(n)}function LH(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[ce]&2048&&!$p(o);){let a=HR(s,o,t,r|we.Self,fi);if(a!==fi)return a;let c=s.parent;if(!c){let l=o[lR];if(l){let u=l.get(t,fi,r);if(u!==fi)return u}c=zR(o),o=o[Bc]}s=c}return i}function zR(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[zn]:null}function hg(n){return kH(Rn(),n)}function cM(n,e=null,t=null,r){let i=WR(n,e,t,r);return i.resolveInjectorInitializers(),i}function WR(n,e=null,t=null,r,i=new Set){let s=[t||$n,B$(n)];return r=r||(typeof n=="object"?void 0:Hn(n)),new Bu(s,e||g0(),r||null,i)}var bt=class n{static THROW_IF_NOT_FOUND=Zo;static NULL=new Vp;static create(e,t){if(Array.isArray(e))return cM({name:""},t,e,"");{let r=e.name??"";return cM({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>J(tR)});static __NG_ELEMENT_ID__=-1};var Gp=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>hg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},VH=new Q("");VH.__NG_ELEMENT_ID__=n=>{let e=Rn();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(n&we.Optional)return null;throw new G(204,!1)};var qR=!1,Hc=(()=>{class n{static __NG_ELEMENT_ID__=jH;static __NG_ENV_ID__=t=>t}return n})(),mw=class extends Hc{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return _R(this._lView,e),()=>sH(this._lView,e)}};function jH(){return new mw(ge())}var ca=class{},fg=new Q("",{providedIn:"root",factory:()=>!1});var GR=new Q(""),KR=new Q(""),eo=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Vt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),pg=(()=>{class n{internalPendingTasks=O(eo);scheduler=O(ca);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return E(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),yw=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,cR()&&(this.destroyRef=O(Hc,{optional:!0})??void 0,this.pendingTasks=O(eo,{optional:!0})??void 0)}emit(e){let t=me(null);try{super.next(e)}finally{me(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ot&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},at=yw;function Kp(...n){}function QR(n){let e,t;function r(){n=Kp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function lM(n){return queueMicrotask(()=>n()),()=>{n=Kp}}var P0="isAngularZone",Qp=P0+"_ID",BH=0,xe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new at(!1);onMicrotaskEmpty=new at(!1);onStable=new at(!1);onError=new at(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=qR}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,HH(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(P0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new G(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,UH,Kp,Kp);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},UH={};function k0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $H(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){QR(()=>{n.callbackScheduled=!1,vw(n),n.isCheckStableRunning=!0,k0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),vw(n)}function HH(n){let e=()=>{$H(n)},t=BH++;n._inner=n._inner.fork({name:"angular",properties:{[P0]:!0,[Qp]:t,[Qp+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(zH(c))return r.invokeTask(s,o,a,c);try{return uM(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),dM(n)}},onInvoke:(r,i,s,o,a,c,l)=>{try{return uM(n),r.invoke(s,o,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!WH(c)&&e(),dM(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,vw(n),k0(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function vw(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dM(n){n._nesting--,k0(n)}var _w=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new at;onMicrotaskEmpty=new at;onStable=new at;onError=new at;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function zH(n){return YR(n,"__ignore_ng_zone__")}function WH(n){return YR(n,"__scheduler_tick__")}function YR(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var An=class{_console=console;handleError(e){this._console.error("ERROR",e)}},qH=new Q("",{providedIn:"root",factory:()=>{let n=O(xe),e=O(An);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function hM(n,e){return $M(n,e)}function GH(n){return $M(UM,n)}var XR=(hM.required=GH,hM);function KH(){return zc(Rn(),ge())}function zc(n,e){return new on(_i(n,e))}var on=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=KH}return n})();function QH(n){return n instanceof on?n.nativeElement:n}function YH(n){return typeof n=="function"&&n[gr]!==void 0}function Wc(n,e){let t=bb(n,e?.equal),r=t[gr];return t.set=i=>Au(r,i),t.update=i=>wb(r,i),t.asReadonly=XH.bind(t),t}function XH(){let n=this[gr];if(n.readonlyFn===void 0){let e=()=>this();e[gr]=n,n.readonlyFn=e}return n.readonlyFn}function ZR(n){return YH(n)&&typeof n.set=="function"}function ZH(){return this._results[Symbol.iterator]()}var bw=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=N$(e);(this._changesDetected=!k$(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ZH};function JR(n){return(n.flags&128)===128}var eP=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(eP||{}),tP=new Map,JH=0;function ez(){return JH++}function tz(n){tP.set(n[ug],n)}function ww(n){tP.delete(n[ug])}var fM="__ngContext__";function Zu(n,e){Xs(e)?(n[fM]=e[ug],tz(e)):n[fM]=e}function nP(n){return iP(n[Uu])}function rP(n){return iP(n[$r])}function iP(n){for(;n!==null&&!as(n);)n=n[$r];return n}var Ew;function sP(n){Ew=n}function nz(){if(Ew!==void 0)return Ew;if(typeof document<"u")return document;throw new G(210,!1)}var N0=new Q("",{providedIn:"root",factory:()=>rz}),rz="ng",O0=new Q(""),zr=new Q("",{providedIn:"platform",factory:()=>"unknown"});var Ju=new Q("",{providedIn:"root",factory:()=>nz().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var iz="h",sz="b";var oP=!1,oz=new Q("",{providedIn:"root",factory:()=>oP});var F0=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(F0||{}),qc=new Q(""),pM=new Set;function to(n){pM.has(n)||(pM.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var aP=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=az}return n})();function az(){return new aP(ge(),Rn())}var Ic=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ic||{}),cP=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),cz=[Ic.EarlyRead,Ic.Write,Ic.MixedReadWrite,Ic.Read],lz=(()=>{class n{ngZone=O(xe);scheduler=O(ca);errorHandler=O(An,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(qc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Be(16),this.executing=!0;for(let r of cz)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Be(17)}register(t){let{view:r}=t;r!==void 0?((r[Cc]??=[]).push(t),Yu(r),r[ce]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(F0.AFTER_NEXT_RENDER,t):t()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),Iw=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Cc];e&&(this.view[Cc]=e.filter(t=>t!==this))}};function gg(n,e){!e?.injector&&m0(gg);let t=e?.injector??O(bt);return to("NgAfterNextRender"),dz(n,t,e,!0)}function uz(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function dz(n,e,t,r){let i=e.get(cP);i.impl??=e.get(lz);let s=e.get(qc,null,{optional:!0}),o=t?.phase??Ic.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Hc):null,c=e.get(aP,null,{optional:!0}),l=new Iw(i.impl,uz(n,o),c?.view,r,a,s?.snapshot(null));return i.impl.register(l),l}var hz=()=>null;function lP(n,e,t=!1){return hz(n,e,t)}function uP(n,e){let t=n.contentQueries;if(t!==null){let r=me(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];C0(s),a.contentQueries(2,e[o],o)}}}finally{me(r)}}}function Dw(n,e,t){C0(0);let r=me(null);try{e(n,t)}finally{me(r)}}function dP(n,e,t){if(dR(e)){let r=me(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{me(r)}}}var yi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(yi||{}),Dp;function fz(){if(Dp===void 0&&(Dp=null,hi.trustedTypes))try{Dp=hi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dp}function mg(n){return fz()?.createHTML(n)||n}var Cp;function pz(){if(Cp===void 0&&(Cp=null,hi.trustedTypes))try{Cp=hi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cp}function gM(n){return pz()?.createScriptURL(n)||n}var is=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${BM})`}},Cw=class extends is{getTypeName(){return"HTML"}},Tw=class extends is{getTypeName(){return"Style"}},Sw=class extends is{getTypeName(){return"Script"}},xw=class extends is{getTypeName(){return"URL"}},Aw=class extends is{getTypeName(){return"ResourceURL"}};function Wr(n){return n instanceof is?n.changingThisBreaksApplicationSecurity:n}function no(n,e){let t=gz(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${BM})`)}return t===e}function gz(n){return n instanceof is&&n.getTypeName()||null}function hP(n){return new Cw(n)}function fP(n){return new Tw(n)}function pP(n){return new Sw(n)}function gP(n){return new xw(n)}function mP(n){return new Aw(n)}function mz(n){let e=new Rw(n);return yz()?new Mw(e):e}var Mw=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(mg(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Rw=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=mg(e),t}};function yz(){try{return!!new window.DOMParser().parseFromString(mg(""),"text/html")}catch{return!1}}var vz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yg(n){return n=String(n),n.match(vz)?n:"unsafe:"+n}function us(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function ed(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var yP=us("area,br,col,hr,img,wbr"),vP=us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_P=us("rp,rt"),_z=ed(_P,vP),bz=ed(vP,us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wz=ed(_P,us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mM=ed(yP,bz,wz,_z),bP=us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ez=us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Iz=us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Dz=ed(bP,Ez,Iz),Cz=us("script,style,template"),Pw=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=xz(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Sz(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=yM(e).toLowerCase();if(!mM.hasOwnProperty(t))return this.sanitizedSomething=!0,!Cz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!Dz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;bP[a]&&(c=yg(c)),this.buf.push(" ",o,'="',vM(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=yM(e).toLowerCase();mM.hasOwnProperty(t)&&!yP.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(vM(e))}};function Tz(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Sz(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw wP(e);return e}function xz(n){let e=n.firstChild;if(e&&Tz(n,e))throw wP(e);return e}function yM(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function wP(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Az=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mz=/([^\#-~ |!])/g;function vM(n){return n.replace(/&/g,"&amp;").replace(Az,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(Mz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Tp;function EP(n,e){let t=null;try{Tp=Tp||mz(n);let r=e?String(e):"";t=Tp.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Tp.getInertBodyElement(r)}while(r!==s);let a=new Pw().sanitizeChildren(_M(t)||t);return mg(a)}finally{if(t){let r=_M(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function _M(n){return"content"in n&&Rz(n)?n.content:null}function Rz(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var bn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(bn||{});function Pz(n){let e=DP();return e?e.sanitize(bn.URL,n)||"":no(n,"URL")?Wr(n):yg(Sc(n))}function kz(n){let e=DP();if(e)return gM(e.sanitize(bn.RESOURCE_URL,n)||"");if(no(n,"ResourceURL"))return gM(Wr(n));throw new G(904,!1)}function Nz(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?kz:Pz}function IP(n,e,t){return Nz(e,t)(n)}function DP(){let n=ge();return n&&n[ns].sanitizer}function CP(n){return n.ownerDocument.defaultView}function TP(n){return n instanceof Function?n():n}function Oz(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var SP="ng-template";function Fz(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Oz(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(L0(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function L0(n){return n.type===4&&n.value!==SP}function Lz(n,e,t){let r=n.type===4&&!t?SP:n.value;return e===r}function Vz(n,e,t){let r=4,i=n.attrs,s=i!==null?Uz(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Br(r)&&!Br(c))return!1;if(o&&Br(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Lz(n,c,t)||c===""&&e.length===1){if(Br(r))return!1;o=!0}}else if(r&8){if(i===null||!Fz(n,i,c,t)){if(Br(r))return!1;o=!0}}else{let l=e[++a],u=jz(c,i,L0(n),t);if(u===-1){if(Br(r))return!1;o=!0;continue}if(l!==""){let h;if(u>s?h="":h=i[u+1].toLowerCase(),r&2&&l!==h){if(Br(r))return!1;o=!0}}}}return Br(r)||o}function Br(n){return(n&1)===0}function jz(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return $z(e,n)}function xP(n,e,t=!1){for(let r=0;r<e.length;r++)if(Vz(n,e[r],t))return!0;return!1}function Bz(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Uz(n){for(let e=0;e<n.length;e++){let t=n[e];if(OR(t))return e}return n.length}function $z(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Hz(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function bM(n,e){return n?":not("+e.trim()+")":e}function zz(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Br(o)&&(e+=bM(s,i),i=""),r=o,s=s||!Br(r);t++}return i!==""&&(e+=bM(s,i)),e}function Wz(n){return n.map(zz).join(",")}function qz(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Br(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var rr={};function Gz(n,e){return n.createText(e)}function Kz(n,e,t){n.setValue(e,t)}function AP(n,e,t){return n.createElement(e,t)}function Yp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function MP(n,e,t){n.appendChild(e,t)}function wM(n,e,t,r,i){r!==null?Yp(n,e,t,r,i):MP(n,e,t)}function Qz(n,e,t){n.removeChild(null,e,t)}function Yz(n,e,t){n.setAttribute(e,"style",t)}function Xz(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function RP(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&SH(n,e,r),i!==null&&Xz(n,e,i),s!==null&&Yz(n,e,s)}function V0(n,e,t,r,i,s,o,a,c,l,u){let h=qt+r,f=h+i,p=Zz(h,f),m=typeof l=="function"?l():l;return p[de]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function Zz(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:rr);return t}function Jz(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=V0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function j0(n,e,t,r,i,s,o,a,c,l,u){let h=e.blueprint.slice();return h[os]=i,h[ce]=r|4|128|8|64|1024,(l!==null||n&&n[ce]&2048)&&(h[ce]|=2048),yR(h),h[_n]=h[Bc]=n,h[jt]=t,h[ns]=o||n&&n[ns],h[Tt]=a||n&&n[Tt],h[Rc]=c||n&&n[Rc]||null,h[zn]=s,h[ug]=ez(),h[Mc]=u,h[lR]=l,h[nr]=e.type==2?n[nr]:h,h}function eW(n,e,t){let r=_i(e,n),i=Jz(t),s=n[ns].rendererFactory,o=B0(n,j0(n,i,null,PP(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function PP(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function kP(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function B0(n,e){return n[Uu]?n[tM][$r]=e:n[Uu]=e,n[tM]=e,e}function $(n=1){NP(Mt(),ge(),cs()+n,!1)}function NP(n,e,t,r){if(!r)if((e[ce]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Ap(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Mp(e,s,0,t)}oa(t)}var vg=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(vg||{});function kw(n,e,t,r){let i=me(null);try{let[s,o,a]=n.inputs[t],c=null;(o&vg.SignalBased)!==0&&(c=e[s][gr]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):hR(e,c,s,r)}finally{me(i)}}function OP(n,e,t,r,i){let s=cs(),o=r&2;try{oa(-1),o&&e.length>qt&&NP(n,e,qt,!1),Be(o?2:0,i),t(r,i)}finally{oa(s),Be(o?3:1,i)}}function U0(n,e,t){oW(n,e,t),(t.flags&64)===64&&aW(n,e,t)}function FP(n,e,t=_i){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function tW(n,e,t,r){let s=r.get(oz,oP)||t===yi.ShadowDom,o=n.selectRootElement(e,s);return nW(o),o}function nW(n){rW(n)}var rW=()=>null;function iW(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function LP(n,e,t,r,i,s,o,a){if(!a&&$0(e,n,t,r,i)){Uc(e)&&sW(t,e.index);return}if(e.type&3){let c=_i(e,t);r=iW(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)}else e.type&12}function sW(n,e){let t=mi(e,n);t[ce]&16||(t[ce]|=64)}function oW(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Uc(t)&&eW(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||qp(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=Hu(e,n,o,t);if(Zu(c,e),s!==null&&dW(e,o-r,c,a,t,s),pi(a)){let l=mi(t.index,e);l[jt]=Hu(e,n,o,t)}}}function aW(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=vH();try{oa(s);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];hw(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&cW(c,l)}}finally{oa(-1),hw(o)}}function cW(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function VP(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];xP(e,s.selectors,!1)&&(r??=[],pi(s)?r.unshift(s):r.push(s))}return r}function lW(n,e,t,r,i,s){let o=_i(n,e);uW(e[Tt],o,s,n.value,t,r,i)}function uW(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?Sc(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function dW(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],l=o[a+1];kw(r,t,c,l)}}function hW(n,e){let t=n[Rc],r=t?t.get(An,null):null;r&&r.handleError(e)}function $0(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let l=o[c],u=o[c+1],h=e.data[l];kw(h,t[l],u,i),a=!0}if(s)for(let c of s){let l=t[c],u=e.data[c];kw(u,l,r,i),a=!0}return a}function fW(n,e){let t=mi(e,n),r=t[de];pW(r,t);let i=t[os];i!==null&&t[Mc]===null&&(t[Mc]=lP(i,t[Rc])),Be(18),H0(r,t,t[jt]),Be(19,t[jt])}function pW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function H0(n,e,t){T0(e);try{let r=n.viewQuery;r!==null&&Dw(1,r,t);let i=n.template;i!==null&&OP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[rs]?.finishViewCreation(n),n.staticContentQueries&&uP(n,e),n.staticViewQueries&&Dw(2,n.viewQuery,t);let s=n.components;s!==null&&gW(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,S0()}}function gW(n,e){for(let t=0;t<e.length;t++)fW(n,e[t])}function td(n,e,t,r){let i=me(null);try{let s=e.tView,a=n[ce]&4096?4096:16,c=j0(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[ra]=l;let u=n[rs];return u!==null&&(c[rs]=u.createEmbeddedView(s)),H0(s,c,t),c}finally{me(i)}}function Nc(n,e){return!e||e.firstChild===null||JR(n)}var mW;function z0(n,e){return mW(n,e)}var ss=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ss||{});function W0(n){return(n.flags&32)===32}function Dc(n,e,t,r,i){if(r!=null){let s,o=!1;as(r)?s=r:Xs(r)&&(o=!0,r=r[os]);let a=gi(r);n===0&&t!==null?i==null?MP(e,t,a):Yp(e,t,a,i||null,!0):n===1&&t!==null?Yp(e,t,a,i||null,!0):n===2?Qz(e,a,o):n===3&&e.destroyNode(a),s!=null&&TW(e,n,s,t,i)}}function yW(n,e){jP(n,e),e[os]=null,e[zn]=null}function vW(n,e,t,r,i,s){r[os]=i,r[zn]=e,bg(n,r,t,1,i,s)}function jP(n,e){e[ns].changeDetectionScheduler?.notify(9),bg(n,e,e[Tt],2,null,null)}function _W(n){let e=n[Uu];if(!e)return qb(n[de],n);for(;e;){let t=null;if(Xs(e))t=e[Uu];else{let r=e[vn];r&&(t=r)}if(!t){for(;e&&!e[$r]&&e!==n;)Xs(e)&&qb(e[de],e),e=e[_n];e===null&&(e=n),Xs(e)&&qb(e[de],e),t=e&&e[$r]}e=t}}function q0(n,e){let t=n[Pc],r=t.indexOf(e);t.splice(r,1)}function _g(n,e){if(Qu(e))return;let t=e[Tt];t.destroyNode&&bg(n,e,t,3,null,null),_W(e)}function qb(n,e){if(Qu(e))return;let t=me(null);try{e[ce]&=-129,e[ce]|=256,e[mr]&&yb(e[mr]),wW(n,e),bW(n,e),e[de].type===1&&e[Tt].destroy();let r=e[ra];if(r!==null&&as(e[_n])){r!==e[_n]&&q0(r,e);let i=e[rs];i!==null&&i.detachView(n)}ww(e)}finally{me(t)}}function bW(n,e){let t=n.cleanup,r=e[jp];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[jp]=null);let i=e[Ys];if(i!==null){e[Ys]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Bp];if(s!==null){e[Bp]=null;for(let o of s)o.destroy()}}function wW(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof aa)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Be(4,a,c);try{c.call(a)}finally{Be(5,a,c)}}else{Be(4,i,s);try{s.call(i)}finally{Be(5,i,s)}}}}}function BP(n,e,t){return EW(n,e.parent,t)}function EW(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[os];if(Uc(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===yi.None||i===yi.Emulated)return null}return _i(r,t)}function UP(n,e,t){return DW(n,e,t)}function IW(n,e,t){return n.type&40?_i(n,t):null}var DW=IW,EM;function G0(n,e,t,r){let i=BP(n,r,e),s=e[Tt],o=r.parent||e[zn],a=UP(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)wM(s,i,t[c],a,!1);else wM(s,i,t,a,!1);EM!==void 0&&EM(s,r,e,t,i)}function Vu(n,e){if(e!==null){let t=e.type;if(t&3)return _i(e,n);if(t&4)return Nw(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Vu(n,r);{let i=n[e.index];return as(i)?Nw(-1,i):gi(i)}}else{if(t&128)return Vu(n,e.next);if(t&32)return z0(e,n)()||gi(n[e.index]);{let r=$P(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=sa(n[nr]);return Vu(i,r)}else return Vu(n,e.next)}}}return null}function $P(n,e){if(e!==null){let r=n[nr][zn],i=e.projection;return r.projection[i]}return null}function Nw(n,e){let t=vn+n+1;if(t<e.length){let r=e[t],i=r[de].firstChild;if(i!==null)return Vu(r,i)}return e[ia]}function K0(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(o&&e===0&&(a&&Zu(gi(a),r),t.flags|=2),!W0(t))if(c&8)K0(n,e,t.child,r,i,s,!1),Dc(e,n,i,a,s);else if(c&32){let l=z0(t,r),u;for(;u=l();)Dc(e,n,i,u,s);Dc(e,n,i,a,s)}else c&16?HP(n,e,r,t,i,s):Dc(e,n,i,a,s);t=o?t.projectionNext:t.next}}function bg(n,e,t,r,i,s){K0(t,r,n.firstChild,e,i,s,!1)}function CW(n,e,t){let r=e[Tt],i=BP(n,t,e),s=t.parent||e[zn],o=UP(s,t,e);HP(r,0,e,t,i,o)}function HP(n,e,t,r,i,s){let o=t[nr],c=o[zn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Dc(e,n,i,u,s)}else{let l=c,u=o[_n];JR(r)&&(l.flags|=128),K0(n,e,l,u,i,s,!0)}}function TW(n,e,t,r,i){let s=t[ia],o=gi(t);s!==o&&Dc(e,n,r,s,i);for(let a=vn;a<t.length;a++){let c=t[a];bg(c[de],c,n,e,r,s)}}function SW(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:ss.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ss.Important),n.setStyle(t,r,i,s))}}function Xp(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(gi(s)),as(s)&&xW(s,r);let o=t.type;if(o&8)Xp(n,e,t.child,r);else if(o&32){let a=z0(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=$P(e,t);if(Array.isArray(a))r.push(...a);else{let c=sa(e[nr]);Xp(c[de],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function xW(n,e){for(let t=vn;t<n.length;t++){let r=n[t],i=r[de].firstChild;i!==null&&Xp(r[de],r,i,e)}n[ia]!==n[os]&&e.push(n[ia])}function zP(n){if(n[Cc]!==null){for(let e of n[Cc])e.impl.addSequence(e);n[Cc].length=0}}var WP=[];function AW(n){return n[mr]??MW(n)}function MW(n){let e=WP.pop()??Object.create(PW);return e.lView=n,e}function RW(n){n.lView[mr]!==n&&(n.lView=null,WP.push(n))}var PW=he(z({},Su),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Yu(n.lView)},consumerOnSignalRead(){this.lView[mr]=this}});function kW(n){let e=n[mr]??Object.create(NW);return e.lView=n,e}var NW=he(z({},Su),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=sa(n.lView);for(;e&&!qP(e[de]);)e=sa(e);e&&vR(e)},consumerOnSignalRead(){this.lView[mr]=this}});function qP(n){return n.type!==2}function GP(n){if(n[Bp]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Bp])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ce]&8192)}}var OW=100;function KP(n,e=!0,t=0){let i=n[ns].rendererFactory,s=!1;s||i.begin?.();try{FW(n,t)}catch(o){throw e&&hW(n,o),o}finally{s||i.end?.()}}function FW(n,e){let t=CR();try{rM(!0),Ow(n,e);let r=0;for(;dg(n);){if(r===OW)throw new G(103,!1);r++,Ow(n,1)}}finally{rM(t)}}function LW(n,e,t,r){if(Qu(e))return;let i=e[ce],s=!1,o=!1;T0(e);let a=!0,c=null,l=null;s||(qP(n)?(l=AW(e),c=qf(l)):db()===null?(a=!1,l=kW(e),c=qf(l)):e[mr]&&(yb(e[mr]),e[mr]=null));try{yR(e),gH(n.bindingStartIndex),t!==null&&OP(n,e,t,2,r);let u=(i&3)===3;if(!s)if(u){let p=n.preOrderCheckHooks;p!==null&&Ap(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Mp(e,p,0,null),zb(e,0)}if(o||VW(e),GP(e),QP(e,0),n.contentQueries!==null&&uP(n,e),!s)if(u){let p=n.contentCheckHooks;p!==null&&Ap(e,p)}else{let p=n.contentHooks;p!==null&&Mp(e,p,1),zb(e,1)}BW(n,e);let h=n.components;h!==null&&XP(e,h,0);let f=n.viewQuery;if(f!==null&&Dw(2,f,r),!s)if(u){let p=n.viewCheckHooks;p!==null&&Ap(e,p)}else{let p=n.viewHooks;p!==null&&Mp(e,p,2),zb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Hb]){for(let p of e[Hb])p();e[Hb]=null}s||(zP(e),e[ce]&=-73)}catch(u){throw s||Yu(e),u}finally{l!==null&&(gb(l,c),a&&RW(l)),S0()}}function QP(n,e){for(let t=nP(n);t!==null;t=rP(t))for(let r=vn;r<t.length;r++){let i=t[r];YP(i,e)}}function VW(n){for(let e=nP(n);e!==null;e=rP(e)){if(!(e[ce]&2))continue;let t=e[Pc];for(let r=0;r<t.length;r++){let i=t[r];vR(i)}}}function jW(n,e,t){Be(18);let r=mi(e,n);YP(r,t),Be(19,r[jt])}function YP(n,e){b0(n)&&Ow(n,e)}function Ow(n,e){let r=n[de],i=n[ce],s=n[mr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&mb(s)),o||=!1,s&&(s.dirty=!1),n[ce]&=-9217,o)LW(r,n,r.template,n[jt]);else if(i&8192){GP(n),QP(n,1);let a=r.components;a!==null&&XP(n,a,1),zP(n)}}function XP(n,e,t){for(let r=0;r<e.length;r++)jW(n,e[r],t)}function BW(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)oa(~i);else{let s=i,o=t[++r],a=t[++r];yH(o,s);let c=e[s];Be(24,c),a(2,c),Be(25,c)}}}finally{oa(-1)}}function Q0(n,e){let t=CR()?64:1088;for(n[ns].changeDetectionScheduler?.notify(e);n;){n[ce]|=t;let r=sa(n);if($p(n)&&!r)return n;n=r}return null}function ZP(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function JP(n,e){let t=vn+e;if(t<n.length)return n[t]}function nd(n,e,t,r=!0){let i=e[de];if(UW(i,e,n,t),r){let o=Nw(t,n),a=e[Tt],c=a.parentNode(n[ia]);c!==null&&vW(i,n[zn],a,e,c,o)}let s=e[Mc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ek(n,e){let t=zu(n,e);return t!==void 0&&_g(t[de],t),t}function zu(n,e){if(n.length<=vn)return;let t=vn+e,r=n[t];if(r){let i=r[ra];i!==null&&i!==n&&q0(i,r),e>0&&(n[t-1][$r]=r[$r]);let s=Lp(n,vn+e);yW(r[de],r);let o=s[rs];o!==null&&o.detachView(s[de]),r[_n]=null,r[$r]=null,r[ce]&=-129}return r}function UW(n,e,t,r){let i=vn+r,s=t.length;r>0&&(t[i-1][$r]=e),r<s-vn?(e[$r]=t[i],eR(t,vn+r,e)):(t.push(e),e[$r]=null),e[_n]=t;let o=e[ra];o!==null&&t!==o&&tk(o,e);let a=e[rs];a!==null&&a.insertView(n),uw(e),e[ce]|=128}function tk(n,e){let t=n[Pc],r=e[_n];if(Xs(r))n[ce]|=2;else{let i=r[_n][nr];e[nr]!==i&&(n[ce]|=2)}t===null?n[Pc]=[e]:t.push(e)}var Wu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[de];return Xp(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return Qu(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_n];if(as(e)){let t=e[Up],r=t?t.indexOf(this):-1;r>-1&&(zu(e,r),Lp(t,r))}this._attachedToViewContainer=!1}_g(this._lView[de],this._lView)}onDestroy(e){_R(this._lView,e)}markForCheck(){Q0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){uw(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,KP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$p(this._lView),t=this._lView[ra];t!==null&&!e&&q0(t,this._lView),jP(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let t=$p(this._lView),r=this._lView[ra];r!==null&&!t&&tk(r,this._lView),uw(this._lView)}};var la=(()=>{class n{static __NG_ELEMENT_ID__=zW}return n})(),$W=la,HW=class extends $W{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=td(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Wu(i)}};function zW(){return Y0(Rn(),ge())}function Y0(n,e){return n.type&4?new HW(e,n,zc(n,e)):null}function wg(n,e,t,r,i){let s=n.data[e];if(s===null)s=WW(n,e,t,r,i),mH()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=hH();s.injectorIndex=o===null?-1:o.injectorIndex}return Xu(s,!0),s}function WW(n,e,t,r,i){let s=ER(),o=IR(),a=o?s:s&&s.parent,c=n.data[e]=GW(n,a,t,e,r,i);return qW(n,c,s,o),c}function qW(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function GW(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return wR()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Nle=new RegExp(`^(\\d+)*(${sz}|${iz})*(.*)`);var KW=()=>null;function Oc(n,e){return KW(n,e)}var QW=class{},nk=class{},Fw=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Hn(e)}.`)}},Eg=class{static NULL=new Fw},Fc=class{},bi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>YW()}return n})();function YW(){let n=ge(),e=Rn(),t=mi(e.index,n);return(Xs(t)?t:n)[Tt]}var XW=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var Gb={},Lw=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=cg(r);let i=this.injector.get(e,Gb,r);return i!==Gb||t===Gb?i:this.parentInjector.get(e,t,r)}};function IM(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=nw(i,a);else if(s==2){let c=a,l=e[++o];r=nw(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function X(n,e=we.Default){let t=ge();if(t===null)return J(n,e);let r=Rn();return $R(r,t,xn(n),e)}function rk(){let n="invalid";throw new Error(n)}function ik(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a,c=null,l=null,u=JW(o);u===null?a=o:[a,c,l]=u,n4(n,e,t,a,s,c,l)}s!==null&&r!==null&&ZW(t,r,s)}function ZW(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new G(-301,!1);r.push(e[i],s)}}function JW(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&pi(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,e4(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function e4(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function t4(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function n4(n,e,t,r,i,s,o){let a=r.length,c=!1;for(let f=0;f<a;f++){let p=r[f];!c&&pi(p)&&(c=!0,t4(n,t,f)),pw(qp(t,e),n,p.type)}c4(t,n.data.length,a);for(let f=0;f<a;f++){let p=r[f];p.providersResolver&&p.providersResolver(p)}let l=!1,u=!1,h=kP(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let p=r[f];if(t.mergedAttrs=$u(t.mergedAttrs,p.hostAttrs),i4(n,t,e,h,p),a4(h,p,i),o!==null&&o.has(p)){let[v,_]=o.get(p);t.directiveToIndex.set(p.type,[h,v+t.directiveStart,_+t.directiveStart])}else(s===null||!s.has(p))&&t.directiveToIndex.set(p.type,h);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let m=p.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}r4(n,t,s)}function r4(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))DM(0,e,i,r),DM(1,e,i,r),TM(e,r,!1);else{let s=t.get(i);CM(0,e,s,r),CM(1,e,s,r),TM(e,r,!0)}}}function DM(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),sk(e,s)}}function CM(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),sk(e,o)}}function sk(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function TM(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||L0(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let l=s[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){o??=[],o.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function i4(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=ea(i.type,!0)),o=new aa(s,pi(i),X);n.blueprint[r]=o,t[r]=o,s4(n,e,r,kP(n,t,i.hostVars,rr),i)}function s4(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;o4(o)!=a&&o.push(a),o.push(t,r,s)}}function o4(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function a4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;pi(e)&&(t[""]=n)}}function c4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ok(n,e,t,r,i,s,o,a){let c=e.consts,l=kc(c,o),u=wg(e,n,2,r,l);return s&&ik(e,t,u,kc(c,a),i),u.mergedAttrs=$u(u.mergedAttrs,u.attrs),u.attrs!==null&&IM(u,u.attrs,!1),u.mergedAttrs!==null&&IM(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function ak(n,e){kR(n,e),dR(e)&&n.queries.elementEnd(e)}var Zp=class extends Eg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=na(e);return new Lc(t,this.ngModule)}};function l4(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&vg.SignalBased)!==0};return i&&(s.transform=i),s})}function u4(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function d4(n,e,t){let r=e instanceof nn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Lw(t,r):t}function h4(n){let e=n.get(Fc,null);if(e===null)throw new G(407,!1);let t=n.get(XW,null),r=n.get(ca,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function f4(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return AP(e,t,t==="svg"?eH:t==="math"?tH:null)}var Lc=class extends nk{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=l4(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=u4(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Wz(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Be(22);let s=me(null);try{let o=this.componentDef,a=r?["ng-version","19.2.6"]:qz(this.componentDef.selectors[0]),c=V0(0,null,null,1,0,null,null,null,null,[a],null),l=d4(o,i||this.ngModule,e),u=h4(l),h=u.rendererFactory.createRenderer(null,o),f=r?tW(h,r,o.encapsulation,l):f4(o,h),p=j0(null,c,null,512|PP(o),null,null,u,h,l,null,lP(f,l,!0));p[qt]=f,T0(p);let m=null;try{let v=ok(qt,c,p,"#host",()=>[this.componentDef],!0,0);f&&(RP(h,f,v),Zu(f,p)),U0(c,p,v),dP(c,v,p),ak(c,v),t!==void 0&&p4(v,this.ngContentSelectors,t),m=mi(v.index,p),p[jt]=m[jt],H0(c,p,null)}catch(v){throw m!==null&&ww(m),ww(p),v}finally{Be(23),S0()}return new Vw(this.componentType,p)}finally{me(s)}}},Vw=class extends QW{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=v0(t[de],qt),this.location=zc(this._tNode,t),this.instance=mi(this._tNode.index,t)[jt],this.hostView=this.changeDetectorRef=new Wu(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=$0(r,i[de],i,e,t);this.previousInputValues.set(e,t);let o=mi(r.index,i);Q0(o,1)}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function p4(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var ro=(()=>{class n{static __NG_ELEMENT_ID__=g4}return n})();function g4(){let n=Rn();return lk(n,ge())}var m4=ro,ck=class extends m4{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return zc(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){let e=R0(this._hostTNode,this._hostLView);if(FR(e)){let t=zp(e,this._hostLView),r=Hp(e),i=t[de].data[r+8];return new Jo(i,t)}else return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=SM(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Oc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Nc(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!Y$(e),a;if(o)a=t;else{let m=t||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new Lc(na(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?l:this.parentInjector).get(nn,null);v&&(s=v)}let u=na(c.componentType??{}),h=Oc(this._lContainer,u?.id??null),f=h?.firstChild??null,p=c.create(l,i,f,s);return this.insertImpl(p.hostView,a,Nc(this._hostTNode,h)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(rH(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[_n],l=new ck(c,c[zn],c[_n]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return nd(o,i,s,r),e.attachToViewContainerRef(),eR(Kb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=SM(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=zu(this._lContainer,t);r&&(Lp(Kb(this._lContainer),t),_g(r[de],r))}detach(e){let t=this._adjustIndex(e,-1),r=zu(this._lContainer,t);return r&&Lp(Kb(this._lContainer),t)!=null?new Wu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function SM(n){return n[Up]}function Kb(n){return n[Up]||(n[Up]=[])}function lk(n,e){let t,r=e[n.index];return as(r)?t=r:(t=ZP(r,e,null,n),e[n.index]=t,B0(e,t)),v4(t,e,n,r),new ck(t,n,e)}function y4(n,e){let t=n[Tt],r=t.createComment(""),i=_i(e,n),s=t.parentNode(i);return Yp(t,s,r,t.nextSibling(i),!1),r}var v4=w4,_4=()=>!1;function b4(n,e,t){return _4(n,e,t)}function w4(n,e,t,r){if(n[ia])return;let i;t.type&8?i=gi(r):i=y4(e,t),n[ia]=i}var jw=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Bw=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)X0(e,t).matches!==null&&this.queries[t].setDirty()}},Jp=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=A4(e):this.predicate=e}},Uw=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$w=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,E4(t,s)),this.matchTNodeWithReadOption(e,t,Rp(t,e,s,!1,!1))}else r===la?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Rp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===on||i===ro||i===la&&t.type&4)this.addMatch(t.index,-2);else{let s=Rp(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function E4(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function I4(n,e){return n.type&11?zc(n,e):n.type&4?Y0(n,e):null}function D4(n,e,t,r){return t===-1?I4(e,n):t===-2?C4(n,e,r):Hu(n,n[de],t,e)}function C4(n,e,t){if(t===on)return zc(e,n);if(t===la)return Y0(e,n);if(t===ro)return lk(e,n)}function uk(n,e,t,r){let i=e[rs].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(D4(e,u,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Hw(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=uk(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let h=vn;h<u.length;h++){let f=u[h];f[ra]===f[_n]&&Hw(f[de],f,l,r)}if(u[Pc]!==null){let h=u[Pc];for(let f=0;f<h.length;f++){let p=h[f];Hw(p[de],p,l,r)}}}}}return r}function T4(n,e){return n[rs].queries[e].queryList}function dk(n,e,t){let r=new bw((t&4)===4);return oH(n,e,r,r.destroy),(e[rs]??=new Bw).queries.push(new jw(r))-1}function S4(n,e,t){let r=Mt();return r.firstCreatePass&&(hk(r,new Jp(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),dk(r,ge(),e)}function x4(n,e,t,r){let i=Mt();if(i.firstCreatePass){let s=Rn();hk(i,new Jp(e,t,r),s.index),M4(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return dk(i,ge(),t)}function A4(n){return n.split(",").map(e=>e.trim())}function hk(n,e,t){n.queries===null&&(n.queries=new Uw),n.queries.track(new $w(e,t))}function M4(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function X0(n,e){return n.queries.getByIndex(e)}function R4(n,e){let t=n[de],r=X0(t,e);return r.crossesNgTemplate?Hw(t,n,e,[]):uk(t,n,r,e)}var Vc=class{},Z0=class{};var zw=class extends Vc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zp(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=rR(e);this._bootstrapComponents=TP(s.bootstrap),this._r3Injector=WR(e,t,[{provide:Vc,useValue:this},{provide:Eg,useValue:this.componentFactoryResolver},...r],Hn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ww=class extends Z0{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new zw(this.moduleType,e,[])}};var eg=class extends Vc{injector;componentFactoryResolver=new Zp(this);instance=null;constructor(e){super();let t=new Bu([...e.providers,{provide:Vc,useValue:this},{provide:Eg,useValue:this.componentFactoryResolver}],e.parent||g0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rd(n,e,t=null){return new eg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var P4=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=iR(!1,t.type),i=r.length>0?rd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(J(nn))})}return n})();function ve(n){return Gu(()=>{let e=fk(n),t=he(z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===eP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(P4).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yi.Emulated,styles:n.styles||$n,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&to("NgStandalone"),pk(t);let r=n.dependencies;return t.directiveDefs=xM(r,!1),t.pipeDefs=xM(r,!0),t.id=L4(t),t})}function k4(n){return na(n)||V$(n)}function N4(n){return n!==null}function an(n){return Gu(()=>({type:n.type,bootstrap:n.bootstrap||$n,declarations:n.declarations||$n,imports:n.imports||$n,exports:n.exports||$n,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function O4(n,e){if(n==null)return ta;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=vg.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function F4(n){if(n==null)return ta;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function et(n){return Gu(()=>{let e=fk(n);return pk(e),e})}function Gc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function fk(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ta,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||$n,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:O4(n.inputs,e),outputs:F4(n.outputs),debugInfo:null}}function pk(n){n.features?.forEach(e=>e(n))}function xM(n,e){if(!n)return null;let t=e?j$:k4;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(N4)}function L4(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function V4(n){return Object.getPrototypeOf(n.prototype).constructor}function vr(n){let e=V4(n.type),t=!0,r=[n];for(;e;){let i;if(pi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Qb(n.inputs),o.declaredInputs=Qb(n.declaredInputs),o.outputs=Qb(n.outputs);let a=i.hostBindings;a&&H4(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&U4(n,c),l&&$4(n,l),j4(n,i),m$(n.outputs,i.outputs),pi(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===vr&&(t=!1)}}e=Object.getPrototypeOf(e)}B4(r)}function j4(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function B4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$u(i.hostAttrs,t=$u(t,i.hostAttrs))}}function Qb(n){return n===ta?{}:n===$n?[]:n}function U4(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function $4(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function H4(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function gk(n){return W4(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function z4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function W4(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function J0(n,e,t){return n[e]=t}function q4(n,e){return n[e]}function Hr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function mk(n,e,t,r){let i=Hr(n,e,t);return Hr(n,e+1,r)||i}function G4(n,e,t,r,i,s,o,a,c){let l=e.consts,u=wg(e,n,4,o||null,a||null);bR()&&ik(e,t,u,kc(l,c),VP),u.mergedAttrs=$u(u.mergedAttrs,u.attrs),kR(e,u);let h=u.tView=V0(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function tg(n,e,t,r,i,s,o,a,c,l){let u=t+qt,h=e.firstCreatePass?G4(u,e,n,r,i,s,o,a,c):e.data[u];Xu(h,!1);let f=K4(e,n,h,t);A0()&&G0(e,n,f,h),Zu(f,n);let p=ZP(f,n,f,h);return n[u]=p,B0(n,p),b4(p,h,n),y0(h)&&U0(e,n,h),c!=null&&FP(n,h,l),h}function Pe(n,e,t,r,i,s,o,a){let c=ge(),l=Mt(),u=kc(l.consts,s);return tg(c,l,n,e,t,r,i,u,o,a),Pe}var K4=Q4;function Q4(n,e,t,r){return M0(!0),e[Tt].createComment("")}var eE=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var yk=new Q("");var Y4=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new qw})}return n})(),qw=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function da(n){return!!n&&typeof n.then=="function"}function vk(n){return!!n&&typeof n.subscribe=="function"}var _k=new Q("");function tE(n){return yr([{provide:_k,multi:!0,useValue:n}])}var bk=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=O(_k,{optional:!0})??[];injector=O(bt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=sn(this.injector,i);if(da(s))t.push(s);else if(vk(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ig=new Q("");function X4(){_b(()=>{throw new G(600,!1)})}function Z4(n){return n.isBoundToModule}var J4=10;var Zs=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(qH);afterRenderManager=O(cP);zonelessEnabled=O(fg);rootEffectScheduler=O(Y4);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new rt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(eo).hasPendingTasks.pipe(ne(t=>!t));constructor(){O(qc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=O(nn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=bt.NULL){Be(10);let s=t instanceof nk;if(!this._injector.get(bk).done){let p="";throw new G(405,p)}let a;s?a=t:a=this._injector.get(Eg).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=Z4(a)?void 0:this._injector.get(Vc),l=r||a.selector,u=a.create(i,[],l,c),h=u.location.nativeElement,f=u.injector.get(yk,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Pp(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),Be(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(F0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new G(101,!1);let t=me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,me(t),this.afterTick.next(),Be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fc,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<J4;)Be(14),this.synchronizeOnce(),Be(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)e3(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>dg(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Pp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ig,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Pp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new G(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function e3(n,e,t,r){if(!t&&!dg(n))return;KP(n,e,t&&!r?0:1)}function io(n,e,t,r){let i=ge(),s=$c();if(Hr(i,s,e)){let o=Mt(),a=x0();lW(a,i,n,e,t,r)}return io}function t3(n,e,t,r){return Hr(n,$c(),t)?e+Sc(t)+r:rr}function n3(n,e,t,r,i,s){let o=pH(),a=mk(n,o,t,i);return D0(2),a?e+Sc(t)+r+Sc(i)+s:rr}function Sp(n,e){return n<<17|e<<2}function ua(n){return n>>17&32767}function r3(n){return(n&2)==2}function i3(n,e){return n&131071|e<<17}function Gw(n){return n|2}function jc(n){return(n&131068)>>2}function Yb(n,e){return n&-131069|e<<2}function s3(n){return(n&1)===1}function Kw(n){return n|1}function o3(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ua(o),c=jc(o);n[r]=t;let l=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Ku(h,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let f=ua(n[a+1]);n[r+1]=Sp(f,a),f!==0&&(n[f+1]=Yb(n[f+1],r)),n[a+1]=i3(n[a+1],r)}else n[r+1]=Sp(a,0),a!==0&&(n[a+1]=Yb(n[a+1],r)),a=r;else n[r+1]=Sp(c,0),a===0?a=r:n[c+1]=Yb(n[c+1],r),c=r;l&&(n[r+1]=Gw(n[r+1])),AM(n,u,r,!0),AM(n,u,r,!1),a3(e,u,n,r,s),o=Sp(a,c),s?e.classBindings=o:e.styleBindings=o}function a3(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Ku(s,e)>=0&&(t[r+1]=Kw(t[r+1]))}function AM(n,e,t,r){let i=n[t+1],s=e===null,o=r?ua(i):jc(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],l=n[o+1];c3(c,e)&&(a=!0,n[o+1]=r?Kw(l):Gw(l)),o=r?ua(l):jc(l)}a&&(n[t+1]=r?Gw(i):Kw(i))}function c3(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ku(n,e)>=0:!1}var Ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function l3(n){return n.substring(Ur.key,Ur.keyEnd)}function u3(n){return d3(n),wk(n,Ek(n,0,Ur.textEnd))}function wk(n,e){let t=Ur.textEnd;return t===e?-1:(e=Ur.keyEnd=h3(n,Ur.key=e,t),Ek(n,e,t))}function d3(n){Ur.key=0,Ur.keyEnd=0,Ur.value=0,Ur.valueEnd=0,Ur.textEnd=n.length}function Ek(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function h3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Me(n,e,t){let r=ge(),i=$c();if(Hr(r,i,e)){let s=Mt(),o=x0();LP(s,o,r,n,e,r[Tt],t,!1)}return Me}function Qw(n,e,t,r,i){$0(e,n,t,i?"class":"style",r)}function nE(n,e,t){return Dk(n,e,t,!1),nE}function cn(n,e){return Dk(n,e,null,!0),cn}function Ik(n){p3(b3,f3,n,!0)}function f3(n,e){for(let t=u3(e);t>=0;t=wk(e,t))f0(n,l3(e),!0)}function Dk(n,e,t,r){let i=ge(),s=Mt(),o=D0(2);if(s.firstUpdatePass&&Tk(s,n,o,r),e!==rr&&Hr(i,o,e)){let a=s.data[cs()];Sk(s,a,i,i[Tt],n,i[o+1]=E3(e,t),r,o)}}function p3(n,e,t,r){let i=Mt(),s=D0(2);i.firstUpdatePass&&Tk(i,null,s,r);let o=ge();if(t!==rr&&Hr(o,s,t)){let a=i.data[cs()];if(xk(a,r)&&!Ck(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=nw(c,t||"")),Qw(i,a,o,t,r)}else w3(i,a,o,o[Tt],o[s+1],o[s+1]=_3(n,e,t),r,s)}}function Ck(n,e){return e>=n.expandoStartIndex}function Tk(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[cs()],o=Ck(n,t);xk(s,r)&&e===null&&!o&&(e=!1),e=g3(i,s,e,r),o3(i,s,e,t,o,r)}}function g3(n,e,t,r){let i=_H(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Xb(null,n,e,t,r),t=qu(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Xb(i,n,e,t,r),s===null){let c=m3(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Xb(null,n,e,c[1],r),c=qu(c,e.attrs,r),y3(n,e,r,c))}else s=v3(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function m3(n,e,t){let r=t?e.classBindings:e.styleBindings;if(jc(r)!==0)return n[ua(r)]}function y3(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ua(i)]=r}function v3(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=qu(r,o,t)}return qu(r,e.attrs,t)}function Xb(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=qu(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function qu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),f0(n,o,t?!0:e[++s]))}return n===void 0?null:n}function _3(n,e,t){if(t==null||t==="")return $n;let r=[],i=Wr(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function b3(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&f0(n,r,t)}function w3(n,e,t,r,i,s,o,a){i===rr&&(i=$n);let c=0,l=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;u!==null||h!==null;){let f=c<i.length?i[c+1]:void 0,p=l<s.length?s[l+1]:void 0,m=null,v;u===h?(c+=2,l+=2,f!==p&&(m=h,v=p)):h===null||u!==null&&u<h?(c+=2,m=u):(l+=2,m=h,v=p),m!==null&&Sk(n,e,t,r,m,v,o,a),u=c<i.length?i[c]:null,h=l<s.length?s[l]:null}}function Sk(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=s3(l)?MM(c,e,t,i,jc(l),o):void 0;if(!ng(u)){ng(s)||r3(l)&&(s=MM(c,null,t,i,a,o));let h=mR(cs(),t);SW(r,o,h,i,s)}}function MM(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,h=u===null,f=t[i+1];f===rr&&(f=h?$n:void 0);let p=h?Ub(f,r):u===r?f:void 0;if(l&&!ng(p)&&(p=Ub(c,r)),ng(p)&&(a=p,o))return a;let m=n[i+1];i=o?ua(m):jc(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ub(c,r))}return a}function ng(n){return n!==void 0}function E3(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Hn(Wr(n)))),n}function xk(n,e){return(n.flags&(e?8:16))!==0}var Yw=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function Zb(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function I3(n,e,t){let r,i,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let l=n.at(s),u=e[s],h=Zb(s,l,s,u,t);if(h!==0){h<0&&n.updateValue(s,u),s++;continue}let f=n.at(o),p=e[c],m=Zb(o,f,c,p,t);if(m!==0){m<0&&n.updateValue(o,p),o--,c--;continue}let v=t(s,l),_=t(o,f),C=t(s,u);if(Object.is(C,_)){let x=t(c,p);Object.is(x,v)?(n.swap(s,o),n.updateValue(o,p),c--,o--):n.move(o,s),n.updateValue(s,u),s++;continue}if(r??=new rg,i??=PM(n,s,o,t),Xw(n,r,s,C))n.updateValue(s,u),s++,o++;else if(i.has(C))r.set(v,n.detach(s)),o--;else{let x=n.create(s,e[s]);n.attach(s,x),s++,o++}}for(;s<=c;)RM(n,r,t,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&s<=o;){let u=n.at(s),h=l.value,f=Zb(s,u,s,h,t);if(f!==0)f<0&&n.updateValue(s,h),s++,l=c.next();else{r??=new rg,i??=PM(n,s,o,t);let p=t(s,h);if(Xw(n,r,s,p))n.updateValue(s,h),s++,o++,l=c.next();else if(!i.has(p))n.attach(s,n.create(s,h)),s++,o++,l=c.next();else{let m=t(s,u);r.set(m,n.detach(s)),o--}}}for(;!l.done;)RM(n,r,t,n.length,l.value),l=c.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(c=>{n.destroy(c)})}function Xw(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function RM(n,e,t,r,i){if(Xw(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function PM(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var rg=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function ut(n,e){to("NgControlFlow");let t=ge(),r=$c(),i=t[r]!==rr?t[r]:-1,s=i!==-1?ig(t,qt+i):void 0,o=0;if(Hr(t,r,n)){let a=me(null);try{if(s!==void 0&&ek(s,o),n!==-1){let c=qt+n,l=ig(t,c),u=t0(t[de],c),h=Oc(l,u.tView.ssrId),f=td(t,u,e,{dehydratedView:h});nd(l,f,o,Nc(u,h))}}finally{me(a)}}else if(s!==void 0){let a=JP(s,o);a!==void 0&&(a[jt]=e)}}var Zw=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-vn}};function Dg(n){return n}function id(n,e){return e}var Jw=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Pn(n,e,t,r,i,s,o,a,c,l,u,h,f){to("NgControlFlow");let p=ge(),m=Mt(),v=c!==void 0,_=ge(),C=a?o.bind(_[nr][jt]):o,x=new Jw(v,C);_[qt+n]=x,tg(p,m,n+1,e,t,r,i,kc(m.consts,s)),v&&tg(p,m,n+2,c,l,u,h,kc(m.consts,f))}var e0=class extends Yw{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-vn}at(e){return this.getLView(e)[jt].$implicit}attach(e,t){let r=t[Mc];this.needsIndexUpdate||=e!==this.length,nd(this.lContainer,t,e,Nc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,D3(this.lContainer,e)}create(e,t){let r=Oc(this.lContainer,this.templateTNode.tView.ssrId),i=td(this.hostLView,this.templateTNode,new Zw(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){_g(e[de],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[jt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[jt].$index=e}getLView(e){return C3(this.lContainer,e)}};function kn(n){let e=me(null),t=cs();try{let r=ge(),i=r[de],s=r[t],o=t+1,a=ig(r,o);if(s.liveCollection===void 0){let l=t0(i,o);s.liveCollection=new e0(a,r,l)}else s.liveCollection.reset();let c=s.liveCollection;if(I3(c,n,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let l=$c(),u=c.length===0;if(Hr(r,l,u)){let h=t+2,f=ig(r,h);if(u){let p=t0(i,h),m=Oc(f,p.tView.ssrId),v=td(r,p,void 0,{dehydratedView:m});nd(f,v,0,Nc(p,m))}else ek(f,0)}}}finally{me(e)}}function ig(n,e){return n[e]}function D3(n,e){return zu(n,e)}function C3(n,e){return JP(n,e)}function t0(n,e){return v0(n,e)}function R(n,e,t,r){let i=ge(),s=Mt(),o=qt+n,a=i[Tt],c=s.firstCreatePass?ok(o,s,i,e,VP,bR(),t,r):s.data[o],l=T3(s,i,c,a,e,n);i[o]=l;let u=y0(c);return Xu(c,!0),RP(a,l,c),!W0(c)&&A0()&&G0(s,i,l,c),(aH()===0||u)&&Zu(l,i),cH(),u&&(U0(s,i,c),dP(s,c,i)),r!==null&&FP(i,c),R}function M(){let n=Rn();IR()?DR():(n=n.parent,Xu(n,!1));let e=n;uH(e)&&dH(),lH();let t=Mt();return t.firstCreatePass&&ak(t,e),e.classesWithoutHost!=null&&CH(e)&&Qw(t,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&TH(e)&&Qw(t,e,ge(),e.stylesWithoutHost,!1),M}function Te(n,e,t,r){return R(n,e,t,r),M(),Te}var T3=(n,e,t,r,i,s)=>(M0(!0),AP(r,i,EH()));function ln(){return ge()}var Xo=void 0;function S3(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var x3=["en",[["a","p"],["AM","PM"],Xo],[["AM","PM"],Xo,Xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xo,"{1} 'at' {0}",Xo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",S3],Jb={};function _r(n){let e=A3(n),t=kM(e);if(t)return t;let r=e.split("-")[0];if(t=kM(r),t)return t;if(r==="en")return x3;throw new G(701,!1)}function kM(n){return n in Jb||(Jb[n]=hi.ng&&hi.ng.common&&hi.ng.common.locales&&hi.ng.common.locales[n]),Jb[n]}var St=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(St||{});function A3(n){return n.toLowerCase().replace(/_/g,"-")}var sg="en-US";var M3=sg;function R3(n){typeof n=="string"&&(M3=n.toLowerCase().replace(/_/g,"-"))}function NM(n,e,t){return function r(i){if(i===Function)return t;let s=Uc(n)?mi(n.index,e):e;Q0(s,5);let o=e[jt],a=OM(e,o,t,i),c=r.__ngNextListenerFn__;for(;c;)a=OM(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function OM(n,e,t,r){let i=me(null);try{return Be(6,e,t),t(r)!==!1}catch(s){return P3(n,s),!1}finally{Be(7,e,t),me(i)}}function P3(n,e){let t=n[Rc],r=t?t.get(An,null):null;r&&r.handleError(e)}function FM(n,e,t,r,i,s){let o=e[t],a=e[de],l=a.data[t].outputs[r],u=o[l],h=a.firstCreatePass?E0(a):null,f=w0(e),p=u.subscribe(s),m=f.length;f.push(s,p),h&&h.push(i,n.index,m,-(m+1))}var k3=(n,e,t)=>{};function _e(n,e,t,r){let i=ge(),s=Mt(),o=Rn();return Ak(s,i,i[Tt],o,n,e,r),_e}function N3(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[jp],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function Ak(n,e,t,r,i,s,o){let a=y0(r),l=n.firstCreatePass?E0(n):null,u=w0(e),h=!0;if(r.type&3||o){let f=_i(r,e),p=o?o(f):f,m=u.length,v=o?C=>o(gi(C[r.index])):r.index,_=null;if(!o&&a&&(_=N3(n,e,i,r.index)),_!==null){let C=_.__ngLastListenerFn__||_;C.__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1}else{s=NM(r,e,s),k3(p,i,s);let C=t.listen(p,i,s);u.push(s,C),l&&l.push(i,v,m,m+1)}}else s=NM(r,e,s);if(h){let f=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let m=0;m<p.length;m+=2){let v=p[m],_=p[m+1];FM(r,e,v,_,i,s)}if(f&&f.length)for(let m of f)FM(r,e,m,i,i,s)}}function Ee(n=1){return wH(n)}function O3(n,e){let t=null,r=Bz(n);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){t=i;continue}if(r===null?xP(n,s,!0):Hz(r,s))return i}return t}function Mk(n){let e=ge()[nr][zn];if(!e.projection){let t=n?n.length:1,r=e.projection=O$(t,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?O3(s,n):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function Rk(n,e=0,t,r,i,s){let o=ge(),a=Mt(),c=r?n+1:null;c!==null&&tg(o,a,c,r,i,s,null,t);let l=wg(a,qt+n,16,null,t||null);l.projection===null&&(l.projection=e),DR();let h=!o[Mc]||wR();o[nr][zn].projection[l.projection]===null&&c!==null?F3(o,a,c):h&&!W0(l)&&CW(a,o,l)}function F3(n,e,t){let r=qt+t,i=e.data[r],s=n[r],o=Oc(s,i.tView.ssrId),a=td(n,i,void 0,{dehydratedView:o});nd(s,a,0,Nc(i,o))}function Pk(n,e,t,r){x4(n,e,t,r)}function wi(n,e,t){S4(n,e,t)}function br(n){let e=ge(),t=Mt(),r=TR();C0(r+1);let i=X0(t,r);if(n.dirty&&nH(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=R4(e,r);n.reset(s,QH),n.notifyOnChanges()}return!0}return!1}function wr(){return T4(ge(),TR())}function L3(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Kc(n){let e=fH();return _0(e,qt+n)}function F(n,e=""){let t=ge(),r=Mt(),i=n+qt,s=r.firstCreatePass?wg(r,i,1,e,null):r.data[i],o=V3(r,t,s,e,n);t[i]=o,A0()&&G0(r,t,o,s),Xu(s,!1)}var V3=(n,e,t,r,i)=>(M0(!0),Gz(e[Tt],r));function Ge(n){return Bt("",n,""),Ge}function Bt(n,e,t){let r=ge(),i=t3(r,n,e,t);return i!==rr&&kk(r,cs(),i),Bt}function rE(n,e,t,r,i){let s=ge(),o=n3(s,n,e,t,r,i);return o!==rr&&kk(s,cs(),o),rE}function kk(n,e,t){let r=mR(e,n);Kz(n[Tt],r,t)}function Kt(n,e,t){ZR(e)&&(e=e());let r=ge(),i=$c();if(Hr(r,i,e)){let s=Mt(),o=x0();LP(s,o,r,n,e,r[Tt],t,!1)}return Kt}function un(n,e){let t=ZR(n);return t&&n.set(e),t}function Qt(n,e){let t=ge(),r=Mt(),i=Rn();return Ak(r,t,t[Tt],i,n,e),Qt}function j3(n,e,t){let r=Mt();if(r.firstCreatePass){let i=pi(n);n0(t,r.data,r.blueprint,i,!0),n0(e,r.data,r.blueprint,i,!1)}}function n0(n,e,t,r,i){if(n=xn(n),Array.isArray(n))for(let s=0;s<n.length;s++)n0(n[s],e,t,r,i);else{let s=Mt(),o=ge(),a=Rn(),c=Ac(n)?n:xn(n.provide),l=aR(n),u=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(Ac(n)||!n.multi){let p=new aa(l,i,X),m=tw(c,e,i?u:u+f,h);m===-1?(pw(qp(a,o),s,c),ew(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[m]=p,o[m]=p)}else{let p=tw(c,e,u+f,h),m=tw(c,e,u,u+f),v=p>=0&&t[p],_=m>=0&&t[m];if(i&&!_||!i&&!v){pw(qp(a,o),s,c);let C=$3(i?U3:B3,t.length,i,r,l);!i&&_&&(t[m].providerFactory=C),ew(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),o.push(C)}else{let C=Nk(t[i?m:p],l,!i&&r);ew(s,n,p>-1?p:m,C)}!i&&r&&_&&t[m].componentProviders++}}}function ew(n,e,t,r){let i=Ac(e),s=z$(e);if(i||s){let c=(s?xn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function Nk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function tw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function B3(n,e,t,r){return r0(this.multi,[])}function U3(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Hu(t,t[de],this.providerFactory.index,r);s=a.slice(0,o),r0(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],r0(i,s);return s}function r0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function $3(n,e,t,r,i){let s=new aa(n,t,X);return s.multi=[],s.index=e,s.componentProviders=0,Nk(s,i,r&&!t),s}function ds(n,e=[]){return t=>{t.providersResolver=(r,i)=>j3(r,i?i(n):n,e)}}function Qc(n,e,t){let r=I0()+n,i=ge();return i[r]===rr?J0(i,r,t?e.call(t):e()):q4(i,r)}function Ok(n,e){let t=n[e];return t===rr?void 0:t}function H3(n,e,t,r,i,s){let o=e+t;return Hr(n,o,i)?J0(n,o+1,s?r.call(s,i):r(i)):Ok(n,o+1)}function z3(n,e,t,r,i,s,o){let a=e+t;return mk(n,a,i,s)?J0(n,a+2,o?r.call(o,i,s):r(i,s)):Ok(n,a+2)}function Ut(n,e){let t=Mt(),r,i=n+qt;t.firstCreatePass?(r=W3(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=ea(r.type,!0)),o,a=Un(X);try{let c=Wp(!1),l=s();return Wp(c),L3(t,ge(),i,l),l}finally{Un(a)}}function W3(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Fk(n,e,t){let r=n+qt,i=ge(),s=_0(i,r);return Lk(i,r)?H3(i,I0(),e,s.transform,t,s):s.transform(t)}function dn(n,e,t,r){let i=n+qt,s=ge(),o=_0(s,i);return Lk(s,i)?z3(s,I0(),e,o.transform,t,r,o):o.transform(t,r)}function Lk(n,e){return n[de].data[e].pure}var Js=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Vk=new Js("19.2.6"),i0=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Cg=(()=>{class n{compileModuleSync(t){return new Ww(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=rR(t),s=TP(i.declarations).reduce((o,a)=>{let c=na(a);return c&&o.push(new Lc(c)),o},[]);return new i0(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var q3=(()=>{class n{zone=O(xe);changeDetectionScheduler=O(ca);applicationRef=O(Zs);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G3=new Q("",{factory:()=>!1});function jk({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xe(he(z({},Uk()),{scheduleInRootZone:t})),[{provide:xe,useFactory:n},{provide:xc,multi:!0,useFactory:()=>{let r=O(q3,{optional:!0});return()=>r.initialize()}},{provide:xc,multi:!0,useFactory:()=>{let r=O(K3);return()=>{r.initialize()}}},e===!0?{provide:GR,useValue:!0}:[],{provide:KR,useValue:t??qR}]}function Bk(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=jk({ngZoneFactory:()=>{let i=Uk(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&to("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return yr([{provide:G3,useValue:!0},{provide:fg,useValue:!1},r])}function Uk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var K3=(()=>{class n{subscription=new ot;initialized=!1;zone=O(xe);pendingTasks=O(eo);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q3=(()=>{class n{appRef=O(Zs);taskService=O(eo);ngZone=O(xe);zonelessEnabled=O(fg);tracing=O(qc,{optional:!0});disableScheduling=O(GR,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ot;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qp):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(KR,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _w||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?lM:QR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Y3(){return typeof $localize<"u"&&$localize.locale||sg}var Tg=new Q("",{providedIn:"root",factory:()=>O(Tg,we.Optional|we.SkipSelf)||Y3()});var s0=new Q(""),X3=new Q("");function Fu(n){return!n.moduleRef}function Z3(n){let e=Fu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xe);return t.run(()=>{Fu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(An,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Fu(n)){let s=()=>e.destroy(),o=n.platformInjector.get(s0);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(s0);o.add(s),n.moduleRef.onDestroy(()=>{Pp(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return e5(r,t,()=>{let s=e.get(bk);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Tg,sg);if(R3(o||sg),!e.get(X3,!0))return Fu(n)?e.get(Zs):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Fu(n)){let c=e.get(Zs);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return J3(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function J3(n,e){let t=n.injector.get(Zs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new G(-403,!1);e.push(n)}function e5(n,e,t){try{let r=t();return da(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var kp=null;function t5(n=[],e){return bt.create({name:e,providers:[{provide:lg,useValue:"platform"},{provide:s0,useValue:new Set([()=>kp=null])},...n]})}function n5(n=[]){if(kp)return kp;let e=t5(n);return kp=e,X4(),r5(e),e}function r5(n){let e=n.get(O0,null);sn(n,()=>{e?.forEach(t=>t())})}function iE(){return!1}var Ei=(()=>{class n{static __NG_ELEMENT_ID__=i5}return n})();function i5(n){return s5(Rn(),ge(),(n&16)===16)}function s5(n,e,t){if(Uc(n)&&!t){let r=mi(n.index,e);return new Wu(r,r)}else if(n.type&175){let r=e[nr];return new Wu(r,e)}return null}var o0=class{constructor(){}supports(e){return gk(e)}create(e){return new a0(e)}},o5=(n,e)=>e,a0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||o5}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<LM(r,i,s)?t:r,a=LM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let p=f<s.length?s[f]:s[f]=0,m=p+f;u<=m&&m<l&&(s[f]=p+1)}let h=o.previousIndex;s[h]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!gk(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,z4(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new c0(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new og),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new og),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},c0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},l0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},og=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new l0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function LM(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function VM(){return new sE([new o0])}var sE=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:VM});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||VM()),deps:[[n,new JM,new Mn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new G(901,!1)}}return n})();function $k(n){Be(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=n5(r),s=[jk({}),{provide:ca,useExisting:Q3},...t||[]],o=new eg({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Z3({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Be(9)}}function qr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ii(n){return Eb(n)}function Yc(n,e){return vb(n,e?.equal)}var jM=class{[gr];constructor(e){this[gr]=e}destroy(){this[gr].destroy()}};function Hk(n){let e=na(n);if(!e)return null;let t=new Lc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var it=new Q("");var qk=null;function Er(){return qk}function oE(n){qk??=n}var sd=class{},od=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(Gk),providedIn:"platform"})}return n})(),aE=new Q(""),Gk=(()=>{class n extends od{_location;_history;_doc=O(it);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Er().getBaseHref(this._doc)}onPopState(t){let r=Er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Sg(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function zk(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Gr(n){return n&&n[0]!=="?"?`?${n}`:n}var Kr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(Ag),providedIn:"root"})}return n})(),xg=new Q(""),Ag=(()=>{class n extends Kr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(it).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Sg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Gr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(od),J(xg,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),so=(()=>{class n{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=l5(zk(Wk(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Gr(r))}normalize(t){return n.stripTrailingSlash(c5(this._basePath,Wk(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Gr;static joinWithSlash=Sg;static stripTrailingSlash=zk;static \u0275fac=function(r){return new(r||n)(J(Kr))};static \u0275prov=q({token:n,factory:()=>a5(),providedIn:"root"})}return n})();function a5(){return new so(J(Kr))}function c5(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Wk(n){return n.replace(/\/index.html$/,"")}function l5(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var dE=(()=>{class n extends Kr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Sg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(od),J(xg,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var wn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(wn||{}),Ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ue||{}),Wn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Wn||{}),fs={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Xk(n){return _r(n)[St.LocaleId]}function Zk(n,e,t){let r=_r(n),i=[r[St.DayPeriodsFormat],r[St.DayPeriodsStandalone]],s=Ir(i,e);return Ir(s,t)}function Jk(n,e,t){let r=_r(n),i=[r[St.DaysFormat],r[St.DaysStandalone]],s=Ir(i,e);return Ir(s,t)}function eN(n,e,t){let r=_r(n),i=[r[St.MonthsFormat],r[St.MonthsStandalone]],s=Ir(i,e);return Ir(s,t)}function tN(n,e){let r=_r(n)[St.Eras];return Ir(r,e)}function ad(n,e){let t=_r(n);return Ir(t[St.DateFormat],e)}function cd(n,e){let t=_r(n);return Ir(t[St.TimeFormat],e)}function ld(n,e){let r=_r(n)[St.DateTimeFormat];return Ir(r,e)}function ud(n,e){let t=_r(n),r=t[St.NumberSymbols][e];if(typeof r>"u"){if(e===fs.CurrencyDecimal)return t[St.NumberSymbols][fs.Decimal];if(e===fs.CurrencyGroup)return t[St.NumberSymbols][fs.Group]}return r}function nN(n){if(!n[St.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[St.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rN(n){let e=_r(n);return nN(e),(e[St.ExtraData][2]||[]).map(r=>typeof r=="string"?cE(r):[cE(r[0]),cE(r[1])])}function iN(n,e,t){let r=_r(n);nN(r);let i=[r[St.ExtraData][0],r[St.ExtraData][1]],s=Ir(i,e)||[];return Ir(s,t)||[]}function Ir(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function cE(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var u5=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mg={},d5=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function sN(n,e,t,r){let i=b5(n);e=hs(t,e)||e;let o=[],a;for(;e;)if(a=d5.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=aN(r,c),i=_5(i,r));let l="";return o.forEach(u=>{let h=y5(u);l+=h?h(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Og(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function hs(n,e){let t=Xk(n);if(Mg[t]??={},Mg[t][e])return Mg[t][e];let r="";switch(e){case"shortDate":r=ad(n,Wn.Short);break;case"mediumDate":r=ad(n,Wn.Medium);break;case"longDate":r=ad(n,Wn.Long);break;case"fullDate":r=ad(n,Wn.Full);break;case"shortTime":r=cd(n,Wn.Short);break;case"mediumTime":r=cd(n,Wn.Medium);break;case"longTime":r=cd(n,Wn.Long);break;case"fullTime":r=cd(n,Wn.Full);break;case"short":let i=hs(n,"shortTime"),s=hs(n,"shortDate");r=Rg(ld(n,Wn.Short),[i,s]);break;case"medium":let o=hs(n,"mediumTime"),a=hs(n,"mediumDate");r=Rg(ld(n,Wn.Medium),[o,a]);break;case"long":let c=hs(n,"longTime"),l=hs(n,"longDate");r=Rg(ld(n,Wn.Long),[c,l]);break;case"full":let u=hs(n,"fullTime"),h=hs(n,"fullDate");r=Rg(ld(n,Wn.Full),[u,h]);break}return r&&(Mg[t][e]=r),r}function Rg(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Qr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function h5(n,e){return Qr(n,3).substring(0,e)}function Rt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=f5(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return h5(a,e);let c=ud(o,fs.MinusSign);return Qr(a,e,c,r,i)}}function f5(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function tt(n,e,t=wn.Format,r=!1){return function(i,s){return p5(i,s,n,e,t,r)}}function p5(n,e,t,r,i,s){switch(t){case 2:return eN(e,i,r)[n.getMonth()];case 1:return Jk(e,i,r)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let l=rN(e),u=iN(e,i,r),h=l.findIndex(f=>{if(Array.isArray(f)){let[p,m]=f,v=o>=p.hours&&a>=p.minutes,_=o<m.hours||o===m.hours&&a<m.minutes;if(p.hours<m.hours){if(v&&_)return!0}else if(v||_)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return Zk(e,i,r)[o<12?0:1];case 3:return tN(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Pg(n){return function(e,t,r){let i=-1*r,s=ud(t,fs.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Qr(o,2,s)+Qr(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+Qr(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+Qr(o,2,s)+":"+Qr(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+Qr(o,2,s)+":"+Qr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var g5=0,Ng=4;function m5(n){let e=Og(n,g5,1).getDay();return Og(n,0,1+(e<=Ng?Ng:Ng+7)-e)}function oN(n){let e=n.getDay(),t=e===0?-3:Ng-e;return Og(n.getFullYear(),n.getMonth(),n.getDate()+t)}function lE(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=oN(t),o=m5(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Qr(i,n,ud(r,fs.MinusSign))}}function kg(n,e=!1){return function(t,r){let s=oN(t).getFullYear();return Qr(s,n,ud(r,fs.MinusSign),e)}}var uE={};function y5(n){if(uE[n])return uE[n];let e;switch(n){case"G":case"GG":case"GGG":e=tt(3,Ue.Abbreviated);break;case"GGGG":e=tt(3,Ue.Wide);break;case"GGGGG":e=tt(3,Ue.Narrow);break;case"y":e=Rt(0,1,0,!1,!0);break;case"yy":e=Rt(0,2,0,!0,!0);break;case"yyy":e=Rt(0,3,0,!1,!0);break;case"yyyy":e=Rt(0,4,0,!1,!0);break;case"Y":e=kg(1);break;case"YY":e=kg(2,!0);break;case"YYY":e=kg(3);break;case"YYYY":e=kg(4);break;case"M":case"L":e=Rt(1,1,1);break;case"MM":case"LL":e=Rt(1,2,1);break;case"MMM":e=tt(2,Ue.Abbreviated);break;case"MMMM":e=tt(2,Ue.Wide);break;case"MMMMM":e=tt(2,Ue.Narrow);break;case"LLL":e=tt(2,Ue.Abbreviated,wn.Standalone);break;case"LLLL":e=tt(2,Ue.Wide,wn.Standalone);break;case"LLLLL":e=tt(2,Ue.Narrow,wn.Standalone);break;case"w":e=lE(1);break;case"ww":e=lE(2);break;case"W":e=lE(1,!0);break;case"d":e=Rt(2,1);break;case"dd":e=Rt(2,2);break;case"c":case"cc":e=Rt(7,1);break;case"ccc":e=tt(1,Ue.Abbreviated,wn.Standalone);break;case"cccc":e=tt(1,Ue.Wide,wn.Standalone);break;case"ccccc":e=tt(1,Ue.Narrow,wn.Standalone);break;case"cccccc":e=tt(1,Ue.Short,wn.Standalone);break;case"E":case"EE":case"EEE":e=tt(1,Ue.Abbreviated);break;case"EEEE":e=tt(1,Ue.Wide);break;case"EEEEE":e=tt(1,Ue.Narrow);break;case"EEEEEE":e=tt(1,Ue.Short);break;case"a":case"aa":case"aaa":e=tt(0,Ue.Abbreviated);break;case"aaaa":e=tt(0,Ue.Wide);break;case"aaaaa":e=tt(0,Ue.Narrow);break;case"b":case"bb":case"bbb":e=tt(0,Ue.Abbreviated,wn.Standalone,!0);break;case"bbbb":e=tt(0,Ue.Wide,wn.Standalone,!0);break;case"bbbbb":e=tt(0,Ue.Narrow,wn.Standalone,!0);break;case"B":case"BB":case"BBB":e=tt(0,Ue.Abbreviated,wn.Format,!0);break;case"BBBB":e=tt(0,Ue.Wide,wn.Format,!0);break;case"BBBBB":e=tt(0,Ue.Narrow,wn.Format,!0);break;case"h":e=Rt(3,1,-12);break;case"hh":e=Rt(3,2,-12);break;case"H":e=Rt(3,1);break;case"HH":e=Rt(3,2);break;case"m":e=Rt(4,1);break;case"mm":e=Rt(4,2);break;case"s":e=Rt(5,1);break;case"ss":e=Rt(5,2);break;case"S":e=Rt(6,1);break;case"SS":e=Rt(6,2);break;case"SSS":e=Rt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Pg(0);break;case"ZZZZZ":e=Pg(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Pg(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Pg(2);break;default:return null}return uE[n]=e,e}function aN(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function v5(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function _5(n,e,t){let i=n.getTimezoneOffset(),s=aN(e,i);return v5(n,-1*(s-i))}function b5(n){if(Kk(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return Og(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(u5))return w5(r)}let e=new Date(n);if(!Kk(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function w5(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,c,l),e}function Kk(n){return n instanceof Date&&!isNaN(n.valueOf())}var Fg=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xc=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Fg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),Qk(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Qk(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(X(ro),X(la),X(sE))};static \u0275dir=et({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Qk(n,e){n.context.$implicit=e.item}var ha=(()=>{class n{_viewContainer;_context=new Lg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yk(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yk(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(X(ro),X(la))};static \u0275dir=et({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Lg=class{$implicit=null;ngIf=null};function Yk(n,e){if(n&&!n.createEmbeddedView)throw new G(2020,!1)}function E5(n,e){return new G(2100,!1)}var I5="mediumDate",cN=new Q(""),lN=new Q(""),dd=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??I5,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return sN(t,o,s||this.locale,a)}catch(o){throw E5(n,o.message)}}static \u0275fac=function(r){return new(r||n)(X(Tg,16),X(cN,24),X(lN,24))};static \u0275pipe=Gc({name:"date",type:n,pure:!0})}return n})();var Zc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=rn({})}return n})();function hE(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Vg="browser",uN="server";function fE(n){return n===Vg}function jg(n){return n===uN}var hd=class{};var dN=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new pE(O(it),window)})}return n})(),pE=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=D5(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function D5(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var $g=new Q(""),_E=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new G(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(J($g),J(xe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),fd=class{_doc;constructor(e){this._doc=e}manager},Bg="ng-app-id";function hN(n){for(let e of n)e.remove()}function fN(n,e){let t=e.createElement("style");return t.textContent=n,t}function C5(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Bg}="${e}"],link[${Bg}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Bg),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function yE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var bE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=jg(s),C5(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,fN);r?.forEach(i=>this.addUsage(i,this.external,yE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(hN(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])hN(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,fN(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,yE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Bg,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(J(it),J(N0),J(Ju,8),J(zr))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),mE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wE=/%COMP%/g;var gN="%COMP%",T5=`_nghost-${gN}`,S5=`_ngcontent-${gN}`,x5=!0,A5=new Q("",{providedIn:"root",factory:()=>x5});function M5(n){return S5.replace(wE,n)}function R5(n){return T5.replace(wE,n)}function mN(n,e){return e.map(t=>t.replace(wE,n))}var EE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=jg(a),this.defaultRenderer=new pd(t,o,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yi.ShadowDom&&(r=he(z({},r),{encapsulation:yi.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ug?i.applyToHost(t):i instanceof gd&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case yi.Emulated:s=new Ug(c,l,r,this.appId,u,o,a,h,f);break;case yi.ShadowDom:return new vE(c,l,t,r,o,a,this.nonce,h,f);default:s=new gd(c,l,r,u,o,a,h,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(J(_E),J(bE),J(N0),J(A5),J(it),J(zr),J(xe),J(Ju),J(qc,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),pd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(mE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(pN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=mE[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=mE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ss.DashCase|ss.Important)?e.style.setProperty(t,r,i&ss.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ss.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Er().getGlobalEventTarget(this.doc,e),!e))throw new G(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function pN(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var vE=class extends pd{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,c,l){super(e,s,o,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=mN(i.id,u);for(let f of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}let h=i.getExternalStyles?.();if(h)for(let f of h){let p=yE(f,s);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gd=class extends pd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c,l){super(e,s,o,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?mN(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ug=class extends gd{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c,l){let u=i+"-"+r.id;super(e,t,r,s,o,a,c,l,u),this.contentAttr=M5(u),this.hostAttr=R5(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Hg=class n extends sd{supportsDOMEvents=!0;static makeCurrent(){oE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=P5();return t==null?null:k5(t)}resetBaseElement(){md=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hE(document.cookie,e)}},md=null;function P5(){return md=md||document.querySelector("base"),md?md.getAttribute("href"):null}function k5(n){return new URL(n,document.baseURI).pathname}var N5=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),vN=(()=>{class n extends fd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(J(it))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),yN=["alt","control","meta","shift"],O5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},_N=(()=>{class n extends fd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Er().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),yN.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=O5[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),yN.forEach(o=>{if(o!==i){let a=F5[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(J(it))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function IE(n,e){return $k(z({rootComponent:n},L5(e)))}function L5(n){return{appProviders:[...$5,...n?.providers??[]],platformProviders:U5}}function V5(){Hg.makeCurrent()}function j5(){return new An}function B5(){return sP(document),document}var U5=[{provide:zr,useValue:Vg},{provide:O0,useValue:V5,multi:!0},{provide:it,useFactory:B5}];var $5=[{provide:lg,useValue:"root"},{provide:An,useFactory:j5},{provide:$g,useClass:vN,multi:!0,deps:[it]},{provide:$g,useClass:_N,multi:!0,deps:[it]},EE,bE,_E,{provide:Fc,useExisting:EE},{provide:hd,useClass:N5},[]];var CE=class{};var fa=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var TE=class{encodeKey(e){return bN(e)}encodeValue(e){return bN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function H5(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}var z5=/%(\d[a-f0-9])/gi,W5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bN(n){return encodeURIComponent(n).replace(z5,(e,t)=>W5[t]??e)}function zg(n){return`${n}`}var ps=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new TE,e.fromString){if(e.fromObject)throw new G(2805,!1);this.map=H5(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(zg):[zg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(zg(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(zg(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var SE=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function q5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function EN(n){return typeof Blob<"u"&&n instanceof Blob}function IN(n){return typeof FormData<"u"&&n instanceof FormData}function G5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var K5="X-Request-URL",DN="text/plain",CN="application/json",Kde=`${CN}, ${DN}, */*`,Jc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(q5(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new fa,this.context??=new SE,!this.params)this.params=new ps,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wN(this.body)||EN(this.body)||IN(this.body)||G5(this.body)?this.body:this.body instanceof ps?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||IN(this.body)?null:EN(this.body)?this.body.type||null:wN(this.body)?null:typeof this.body=="string"?DN:this.body instanceof ps?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?CN:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),u)),new n(t,r,o,{params:u,headers:l,context:h,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},AE=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(AE||{}),xE=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new fa,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Wg=class n extends xE{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=AE.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function DE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ME=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Jc)s=t;else{let c;i.headers instanceof fa?c=i.headers:c=new fa(i.headers);let l;i.params&&(i.params instanceof ps?l=i.params:l=new ps({fromObject:i.params})),s=new Jc(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=Z(s).pipe(di(c=>this.handler.handle(c)));if(t instanceof Jc||i.observe==="events")return o;let a=o.pipe(Wt(c=>c instanceof Wg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ne(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new G(2806,!1);return c.body}));case"blob":return a.pipe(ne(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new G(2807,!1);return c.body}));case"text":return a.pipe(ne(c=>{if(c.body!==null&&typeof c.body!="string")throw new G(2808,!1);return c.body}));case"json":default:return a.pipe(ne(c=>c.body))}case"response":return a;default:throw new G(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ps().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,DE(i,r))}post(t,r,i={}){return this.request("POST",t,DE(i,r))}put(t,r,i={}){return this.request("PUT",t,DE(i,r))}static \u0275fac=function(r){return new(r||n)(J(CE))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var Qde=RegExp(`^${K5}:`,"m");var TN=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(J(it))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var RE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=J(Y5),i},providedIn:"root"})}return n})(),Y5=(()=>{class n extends RE{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case bn.NONE:return r;case bn.HTML:return no(r,"HTML")?Wr(r):EP(this._doc,String(r)).toString();case bn.STYLE:return no(r,"Style")?Wr(r):r;case bn.SCRIPT:if(no(r,"Script"))return Wr(r);throw new G(5200,!1);case bn.URL:return no(r,"URL")?Wr(r):yg(String(r));case bn.RESOURCE_URL:if(no(r,"ResourceURL"))return Wr(r);throw new G(5201,!1);default:throw new G(5202,!1)}}bypassSecurityTrustHtml(t){return hP(t)}bypassSecurityTrustStyle(t){return fP(t)}bypassSecurityTrustScript(t){return pP(t)}bypassSecurityTrustUrl(t){return gP(t)}bypassSecurityTrustResourceUrl(t){return mP(t)}static \u0275fac=function(r){return new(r||n)(J(it))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pe="primary",Ad=Symbol("RouteTitle"),FE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ma(n){return new FE(n)}function ON(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function X5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Di(n[t],e[t]))return!1;return!0}function Di(n,e){let t=n?LE(n):void 0,r=e?LE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!FN(n[i],e[i]))return!1;return!0}function LE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function FN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function LN(n){return n.length>0?n[n.length-1]:null}function uo(n){return Ob(n)?n:da(n)?je(Promise.resolve(n)):Z(n)}var Z5={exact:jN,subset:BN},VN={exact:J5,subset:eq,ignored:()=>!0};function xN(n,e,t){return Z5[t.paths](n.root,e.root,t.matrixParams)&&VN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function J5(n,e){return Di(n,e)}function jN(n,e,t){if(!pa(n.segments,e.segments)||!Kg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!jN(n.children[r],e.children[r],t))return!1;return!0}function eq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FN(n[t],e[t]))}function BN(n,e,t){return UN(n,e,e.segments,t)}function UN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!pa(i,t)||e.hasChildren()||!Kg(i,t,r))}else if(n.segments.length===t.length){if(!pa(n.segments,t)||!Kg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!BN(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!pa(n.segments,i)||!Kg(n.segments,i,r)||!n.children[pe]?!1:UN(n.children[pe],e,s,r)}}function Kg(n,e,t){return e.every((r,i)=>VN[t](n[i].parameters,r.parameters))}var Ti=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Le([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ma(this.queryParams),this._queryParamMap}toString(){return rq.serialize(this)}},Le=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qg(this)}},oo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ma(this.parameters),this._parameterMap}toString(){return HN(this)}};function tq(n,e){return pa(n,e)&&n.every((t,r)=>Di(t.parameters,e[r].parameters))}function pa(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function nq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==pe&&(t=t.concat(e(i,r)))}),t}var ya=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new ao,providedIn:"root"})}return n})(),ao=class{parse(e){let t=new jE(e);return new Ti(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${yd(e.root,!0)}`,r=oq(e.queryParams),i=typeof e.fragment=="string"?`#${iq(e.fragment)}`:"";return`${t}${r}${i}`}},rq=new ao;function Qg(n){return n.segments.map(e=>HN(e)).join("/")}function yd(n,e){if(!n.hasChildren())return Qg(n);if(e){let t=n.children[pe]?yd(n.children[pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==pe&&r.push(`${i}:${yd(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=nq(n,(r,i)=>i===pe?[yd(n.children[pe],!1)]:[`${i}:${yd(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[pe]!=null?`${Qg(n)}/${t[0]}`:`${Qg(n)}/(${t.join("//")})`}}function $N(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qg(n){return $N(n).replace(/%3B/gi,";")}function iq(n){return encodeURI(n)}function VE(n){return $N(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yg(n){return decodeURIComponent(n)}function AN(n){return Yg(n.replace(/\+/g,"%20"))}function HN(n){return`${VE(n.path)}${sq(n.parameters)}`}function sq(n){return Object.entries(n).map(([e,t])=>`;${VE(e)}=${VE(t)}`).join("")}function oq(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${qg(t)}=${qg(i)}`).join("&"):`${qg(t)}=${qg(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var aq=/^[^\/()?;#]+/;function PE(n){let e=n.match(aq);return e?e[0]:""}var cq=/^[^\/()?;=#]+/;function lq(n){let e=n.match(cq);return e?e[0]:""}var uq=/^[^=?&#]+/;function dq(n){let e=n.match(uq);return e?e[0]:""}var hq=/^[^&#]+/;function fq(n){let e=n.match(hq);return e?e[0]:""}var jE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new Le(e,t)),r}parseSegment(){let e=PE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new oo(Yg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=lq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=PE(this.remaining);i&&(r=i,this.capture(r))}e[Yg(t)]=Yg(r)}parseQueryParam(e){let t=dq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=fq(this.remaining);o&&(r=o,this.capture(r))}let i=AN(t),s=AN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=PE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[pe]:new Le([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function zN(n){return n.segments.length>0?new Le([],{[pe]:n}):n}function WN(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=WN(i);if(r===pe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Le(n.segments,e);return pq(t)}function pq(n){if(n.numberOfChildren===1&&n.children[pe]){let e=n.children[pe];return new Le(n.segments.concat(e.segments),e.children)}return n}function co(n){return n instanceof Ti}function qN(n,e,t=null,r=null){let i=GN(n);return KN(i,e,t,r)}function GN(n){let e;function t(s){let o={};for(let c of s.children){let l=t(c);o[c.outlet]=l}let a=new Le(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=zN(r);return e??i}function KN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return kE(i,i,i,t,r);let s=gq(e);if(s.toRoot())return kE(i,i,new Le([],{}),t,r);let o=mq(s,i,n),a=o.processChildren?_d(o.segmentGroup,o.index,s.commands):YN(o.segmentGroup,o.index,s.commands);return kE(i,o.segmentGroup,a,t,r)}function Zg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function wd(n){return typeof n=="object"&&n!=null&&n.outlets}function kE(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;n===e?o=t:o=QN(n,e,t);let a=zN(WN(o));return new Ti(a,s,i)}function QN(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=QN(s,e,t)}),new Le(n.segments,r)}var Jg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Zg(r[0]))throw new G(4003,!1);let i=r.find(wd);if(i&&i!==LN(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Jg(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Jg(t,e,r)}var nl=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function mq(n,e,t){if(n.isAbsolute)return new nl(e,!0,0);if(!t)return new nl(e,!1,NaN);if(t.parent===null)return new nl(t,!0,0);let r=Zg(n.commands[0])?0:1,i=t.segments.length-1+r;return yq(t,i,n.numberOfDoubleDots)}function yq(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new nl(r,!1,i-s)}function vq(n){return wd(n[0])?n[0].outlets:{[pe]:n}}function YN(n,e,t){if(n??=new Le([],{}),n.segments.length===0&&n.hasChildren())return _d(n,e,t);let r=_q(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Le(n.segments.slice(0,r.pathIndex),{});return s.children[pe]=new Le(n.segments.slice(r.pathIndex),n.children),_d(s,0,i)}else return r.match&&i.length===0?new Le(n.segments,{}):r.match&&!n.hasChildren()?BE(n,e,t):r.match?_d(n,0,i):BE(n,e,t)}function _d(n,e,t){if(t.length===0)return new Le(n.segments,{});{let r=vq(t),i={};if(Object.keys(r).some(s=>s!==pe)&&n.children[pe]&&n.numberOfChildren===1&&n.children[pe].segments.length===0){let s=_d(n.children[pe],e,t);return new Le(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=YN(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Le(n.segments,i)}}function _q(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(wd(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!RN(c,l,o))return s;r+=2}else{if(!RN(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function BE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(wd(s)){let c=bq(s.outlets);return new Le(r,c)}if(i===0&&Zg(t[0])){let c=n.segments[e];r.push(new oo(c.path,MN(t[0]))),i++;continue}let o=wd(s)?s.outlets[pe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Zg(a)?(r.push(new oo(o,MN(a))),i+=2):(r.push(new oo(o,{})),i++)}return new Le(r,{})}function bq(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=BE(new Le([],{}),0,r))}),e}function MN(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function RN(n,e,t){return n==t.path&&Di(e,t.parameters)}var Xg="imperative",$t=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}($t||{}),sr=class{id;url;constructor(e,t){this.id=e,this.url=t}},lo=class extends sr{type=$t.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},or=class extends sr{urlAfterRedirects;type=$t.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(qn||{}),il=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(il||{}),Ci=class extends sr{reason;code;type=$t.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Si=class extends sr{reason;code;type=$t.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},sl=class extends sr{error;target;type=$t.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ed=class extends sr{urlAfterRedirects;state;type=$t.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},em=class extends sr{urlAfterRedirects;state;type=$t.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tm=class extends sr{urlAfterRedirects;state;shouldActivate;type=$t.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nm=class extends sr{urlAfterRedirects;state;type=$t.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rm=class extends sr{urlAfterRedirects;state;type=$t.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},im=class{route;type=$t.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sm=class{route;type=$t.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},om=class{snapshot;type=$t.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},am=class{snapshot;type=$t.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cm=class{snapshot;type=$t.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lm=class{snapshot;type=$t.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ol=class{routerEvent;position;anchor;type=$t.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Id=class{},al=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function wq(n,e){return n.providers&&!n._injector&&(n._injector=rd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Yr(n){return n.outlet||pe}function Eq(n,e){let t=n.filter(r=>Yr(r)===e);return t.push(...n.filter(r=>Yr(r)!==e)),t}function Md(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var um=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Md(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new va(this.rootInjector)}},va=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new um(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(J(nn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dm=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=UE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=UE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=$E(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $E(e,this._root).map(t=>t.value)}};function UE(n,e){if(n===e.value)return e;for(let t of e.children){let r=UE(n,t);if(r)return r}return null}function $E(n,e){if(n===e.value)return[e];for(let t of e.children){let r=$E(n,t);if(r.length)return r.unshift(e),r}return[]}var ir=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function tl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Dd=class extends dm{snapshot;constructor(e,t){super(e),this.snapshot=t,YE(this,e)}toString(){return this.snapshot.toString()}};function XN(n){let e=Iq(n),t=new Vt([new oo("",{})]),r=new Vt({}),i=new Vt({}),s=new Vt({}),o=new Vt(""),a=new xi(t,r,s,o,i,pe,n,e.root);return a.snapshot=e.root,new Dd(new ir(a,[]),e)}function Iq(n){let e={},t={},r={},i="",s=new ga([],e,r,i,t,pe,n,null,{});return new Cd("",new ir(s,[]))}var xi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ne(l=>l[Ad]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>ma(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>ma(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hm(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),n.params),data:z(z({},e.data),n.data),resolve:z(z(z(z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:z({},n.params),data:z({},n.data),resolve:z(z({},n.data),n._resolvedData??{})},i&&JN(i)&&(r.resolve[Ad]=i.title),r}var ga=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ad]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ma(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ma(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Cd=class extends dm{url;constructor(e,t){super(t),this.url=e,YE(this,t)}toString(){return ZN(this._root)}};function YE(n,e){e.value._routerState=n,e.children.forEach(t=>YE(n,t))}function ZN(n){let e=n.children.length>0?` { ${n.children.map(ZN).join(", ")} } `:"";return`${n.value}${e}`}function NE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Di(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Di(e.params,t.params)||n.paramsSubject.next(t.params),X5(e.url,t.url)||n.urlSubject.next(t.url),Di(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function HE(n,e){let t=Di(n.params,e.params)&&tq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||HE(n.parent,e.parent))}function JN(n){return typeof n.title=="string"||n.title===null}var eO=new Q(""),_a=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pe;activateEvents=new at;deactivateEvents=new at;attachEvents=new at;detachEvents=new at;routerOutletData=XR(void 0);parentContexts=O(va);location=O(ro);changeDetector=O(Ei);inputBinder=O(Rd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new zE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Gt]})}return n})(),zE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===xi?this.route:e===va?this.childContexts:e===eO?this.outletData:this.parent.get(e,t)}},Rd=new Q(""),XE=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Yo([r.queryParams,r.params,r.data]).pipe(yn(([s,o,a],c)=>(a=z(z(z({},s),o),a),c===0?Z(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=Hk(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function Dq(n,e,t){let r=Td(n,e._root,t?t._root:void 0);return new Dd(r,e)}function Td(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Cq(n,e,t);return new ir(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Td(n,a)),o}}let r=Tq(e.value),i=e.children.map(s=>Td(n,s));return new ir(r,i)}}function Cq(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Td(n,r,i);return Td(n,r)})}function Tq(n){return new xi(new Vt(n.url),new Vt(n.params),new Vt(n.queryParams),new Vt(n.fragment),new Vt(n.data),n.outlet,n.component,n)}var cl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},tO="ngNavigationCancelingError";function fm(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nO(!1,qn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function nO(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[tO]=!0,t.cancellationCode=e,t}function Sq(n){return rO(n)&&co(n.url)}function rO(n){return!!n&&n[tO]}var xq=(n,e,t,r)=>ne(i=>(new WE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),WE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),NE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=tl(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=tl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=tl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=tl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new lm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new am(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(NE(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),NE(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},pm=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},rl=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Aq(n,e,t){let r=n._root,i=e?e._root:null;return vd(r,i,t,[r.value])}function Mq(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ul(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!WM(n)?n:e.get(n):r}function vd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=tl(e);return n.children.forEach(o=>{Rq(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>bd(a,t.getContext(o),i)),i}function Rq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Pq(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new pm(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?vd(n,e,a?a.children:null,r,i):vd(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rl(a.outlet.component,o))}else o&&bd(e,a,i),i.canActivateChecks.push(new pm(r)),s.component?vd(n,null,a?a.children:null,r,i):vd(n,null,t,r,i);return i}function Pq(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!pa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pa(n.url,e.url)||!Di(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HE(n,e)||!Di(n.queryParams,e.queryParams);case"paramsChange":default:return!HE(n,e)}}function bd(n,e,t){let r=tl(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?bd(o,e.children.getContext(s),t):bd(o,null,t):bd(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new rl(e.outlet.component,i)):t.canDeactivateChecks.push(new rl(null,i)):t.canDeactivateChecks.push(new rl(null,i))}function Pd(n){return typeof n=="function"}function kq(n){return typeof n=="boolean"}function Nq(n){return n&&Pd(n.canLoad)}function Oq(n){return n&&Pd(n.canActivate)}function Fq(n){return n&&Pd(n.canActivateChild)}function Lq(n){return n&&Pd(n.canDeactivate)}function Vq(n){return n&&Pd(n.canMatch)}function iO(n){return n instanceof Vr||n?.name==="EmptyError"}var Gg=Symbol("INITIAL_VALUE");function ll(){return yn(n=>Yo(n.map(e=>e.pipe(tr(1),bc(Gg)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===Gg)return Gg;if(t===!1||jq(t))return t}return!0}),Wt(e=>e!==Gg),tr(1)))}function jq(n){return co(n)||n instanceof cl}function Bq(n,e){return Dt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?Z(he(z({},t),{guardsResult:!0})):Uq(o,r,i,n).pipe(Dt(a=>a&&kq(a)?$q(r,s,n,e):Z(a)),ne(a=>he(z({},t),{guardsResult:a})))})}function Uq(n,e,t,r){return je(n).pipe(Dt(i=>Gq(i.component,i.route,t,e,r)),ts(i=>i!==!0,!0))}function $q(n,e,t,r){return je(e).pipe(di(i=>Gs(zq(i.route.parent,r),Hq(i.route,r),qq(n,i.path,t),Wq(n,i.route,t))),ts(i=>i!==!0,!0))}function Hq(n,e){return n!==null&&e&&e(new cm(n)),Z(!0)}function zq(n,e){return n!==null&&e&&e(new om(n)),Z(!0)}function Wq(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(s=>bp(()=>{let o=Md(e)??t,a=ul(s,o),c=Oq(a)?a.canActivate(e,n):sn(o,()=>a(e,n));return uo(c).pipe(ts())}));return Z(i).pipe(ll())}function qq(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Mq(o)).filter(o=>o!==null).map(o=>bp(()=>{let a=o.guards.map(c=>{let l=Md(o.node)??t,u=ul(c,l),h=Fq(u)?u.canActivateChild(r,n):sn(l,()=>u(r,n));return uo(h).pipe(ts())});return Z(a).pipe(ll())}));return Z(s).pipe(ll())}function Gq(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let c=Md(e)??i,l=ul(a,c),u=Lq(l)?l.canDeactivate(n,e,t,r):sn(c,()=>l(n,e,t,r));return uo(u).pipe(ts())});return Z(o).pipe(ll())}function Kq(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let s=i.map(o=>{let a=ul(o,n),c=Nq(a)?a.canLoad(e,t):sn(n,()=>a(e,t));return uo(c)});return Z(s).pipe(ll(),sO(r))}function sO(n){return tp(Ct(e=>{if(typeof e!="boolean")throw fm(n,e)}),ne(e=>e===!0))}function Qq(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let s=i.map(o=>{let a=ul(o,n),c=Vq(a)?a.canMatch(e,t):sn(n,()=>a(e,t));return uo(c)});return Z(s).pipe(ll(),sO(r))}var Sd=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},xd=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function el(n){return Ws(new Sd(n))}function Yq(n){return Ws(new G(4e3,!1))}function Xq(n){return Ws(nO(!1,qn.GuardRejected))}var qE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[pe])return Yq(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:h,outlet:f,params:p,data:m,title:v}=i,_=sn(s,()=>a({params:p,data:m,queryParams:c,fragment:l,routeConfig:u,url:h,outlet:f,title:v}));if(_ instanceof Ti)throw new xd(_);t=_}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new xd(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Ti(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Le(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},GE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zq(n,e,t,r,i){let s=oO(n,e,t);return s.matched?(r=wq(e,r),Qq(r,e,t,i).pipe(ne(o=>o===!0?s:z({},GE)))):Z(s)}function oO(n,e,t){if(e.path==="**")return Jq(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?z({},GE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ON)(t,n,e);if(!i)return z({},GE);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?z(z({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Jq(n){return{matched:!0,parameters:n.length>0?LN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function PN(n,e,t,r){return t.length>0&&nG(n,t,r)?{segmentGroup:new Le(e,tG(r,new Le(t,n.children))),slicedSegments:[]}:t.length===0&&rG(n,t,r)?{segmentGroup:new Le(n.segments,eG(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Le(n.segments,n.children),slicedSegments:t}}function eG(n,e,t,r){let i={};for(let s of t)if(mm(n,e,s)&&!r[Yr(s)]){let o=new Le([],{});i[Yr(s)]=o}return z(z({},r),i)}function tG(n,e){let t={};t[pe]=e;for(let r of n)if(r.path===""&&Yr(r)!==pe){let i=new Le([],{});t[Yr(r)]=i}return t}function nG(n,e,t){return t.some(r=>mm(n,e,r)&&Yr(r)!==pe)}function rG(n,e,t){return t.some(r=>mm(n,e,r))}function mm(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function iG(n,e,t){return e.length===0&&!n.children[t]}var KE=class{};function sG(n,e,t,r,i,s,o="emptyOnly"){return new QE(n,e,t,r,i,o,s).recognize()}var oG=31,QE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new qE(this.urlSerializer,this.urlTree)}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=PN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:r})=>{let i=new ir(r,t),s=new Cd("",i),o=qN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ga([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,t).pipe(ne(r=>({children:r,rootSnapshot:t})),jr(r=>{if(r instanceof xd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sd?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ne(o=>o instanceof ir?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return je(s).pipe(di(o=>{let a=r.children[o],c=Eq(t,o);return this.processSegmentGroup(e,c,a,o,i)}),Ep((o,a)=>(o.push(...a),o)),Ks(null),Lb(),Dt(o=>{if(o===null)return el(r);let a=aO(o);return aG(a),Z(a)}))}processSegment(e,t,r,i,s,o,a){return je(t).pipe(di(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(jr(l=>{if(l instanceof Sd)return Z(null);throw l}))),ts(c=>!!c),jr(c=>{if(iO(c))return iG(r,i,s)?Z(new KE):el(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return Yr(r)!==o&&(o===pe||!mm(i,s,r))?el(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):el(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:h,remainingSegments:f}=oO(t,i,s);if(!c)return el(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oG&&(this.allowRedirects=!1));let p=new ga(s,l,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,kN(i),Yr(i),i.component??i._loadedComponent??null,i,NN(i)),m=hm(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h,p,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Dt(_=>this.processSegment(e,r,t,_.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=Zq(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(yn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yn(({routes:l})=>{let u=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:p}=c,m=new ga(f,h,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,kN(r),Yr(r),r.component??r._loadedComponent??null,r,NN(r)),v=hm(m,o,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:C}=PN(t,f,p,l);if(C.length===0&&_.hasChildren())return this.processChildren(u,l,_,m).pipe(ne(N=>new ir(m,N)));if(l.length===0&&C.length===0)return Z(new ir(m,[]));let x=Yr(r)===s;return this.processSegment(u,l,_,C,x?pe:s,!0,m).pipe(ne(N=>new ir(m,N instanceof ir?[N]:[])))}))):el(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):Kq(e,t,r,this.urlSerializer).pipe(Dt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ct(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Xq(t))):Z({routes:[],injector:e})}};function aG(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}function cG(n){let e=n.value.routeConfig;return e&&e.path===""}function aO(n){let e=[],t=new Set;for(let r of n){if(!cG(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=aO(r.children);e.push(new ir(r.value,i))}return e.filter(r=>!t.has(r))}function kN(n){return n.data||{}}function NN(n){return n.resolve||{}}function lG(n,e,t,r,i,s){return Dt(o=>sG(n,e,t,r,o.extractedUrl,i,s).pipe(ne(({state:a,tree:c})=>he(z({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function uG(n,e){return Dt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of cO(c))o.add(l);let a=0;return je(o).pipe(di(c=>s.has(c)?dG(c,r,n,e):(c.data=hm(c,c.parent,n).resolve,Z(void 0))),Ct(()=>a++),_c(1),Dt(c=>a===o.size?Z(t):jn))})}function cO(n){let e=n.children.map(t=>cO(t)).flat();return[n,...e]}function dG(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!JN(i)&&(s[Ad]=i.title),hG(s,n,e,r).pipe(ne(o=>(n._resolvedData=o,n.data=hm(n,n.parent,t).resolve,null)))}function hG(n,e,t,r){let i=LE(n);if(i.length===0)return Z({});let s={};return je(i).pipe(Dt(o=>fG(n[o],e,t,r).pipe(ts(),Ct(a=>{if(a instanceof cl)throw fm(new ao,a);s[o]=a}))),_c(1),ne(()=>s),jr(o=>iO(o)?jn:Ws(o)))}function fG(n,e,t,r){let i=Md(e)??r,s=ul(n,i),o=s.resolve?s.resolve(e,t):sn(i,()=>s(e,t));return uo(o)}function OE(n){return yn(e=>{let t=n(e);return t?je(t).pipe(ne(()=>e)):Z(e)})}var ZE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[Ad]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(lO),providedIn:"root"})}return n})(),lO=(()=>{class n extends ZE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(J(TN))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ba=new Q("",{providedIn:"root",factory:()=>({})}),JE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ve({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Te(0,"router-outlet")},dependencies:[_a],encapsulation:2})}return n})();function eI(n){let e=n.children&&n.children.map(eI),t=e?he(z({},n),{children:e}):z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=JE),t}var wa=new Q(""),ym=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(Cg);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=uo(t.loadComponent()).pipe(ne(dO),Ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Qs(()=>{this.componentLoaders.delete(t)})),i=new gc(r,()=>new rt).pipe(pc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=uO(r,this.compiler,t,this.onLoadEndListener).pipe(Qs(()=>{this.childrenLoaders.delete(r)})),o=new gc(s,()=>new rt).pipe(pc());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uO(n,e,t,r){return uo(n.loadChildren()).pipe(ne(dO),Dt(i=>i instanceof Z0||Array.isArray(i)?Z(i):je(e.compileModuleAsync(i))),ne(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(wa,[],{optional:!0,self:!0}).flat()),{routes:o.map(eI),injector:s}}))}function pG(n){return n&&typeof n=="object"&&"default"in n}function dO(n){return pG(n)?n.default:n}var vm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(gG),providedIn:"root"})}return n})(),gG=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tI=new Q(""),nI=new Q("");function hO(n,e,t){let r=n.get(nI),i=n.get(it);return n.get(xe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),mG(n))),{onViewTransitionCreated:c}=r;return c&&sn(n,()=>c({transition:a,from:e,to:t})),o})}function mG(n){return new Promise(e=>{gg({read:()=>setTimeout(e)},{injector:n})})}var rI=new Q(""),_m=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new rt;transitionAbortSubject=new rt;configLoader=O(ym);environmentInjector=O(nn);destroyRef=O(Hc);urlSerializer=O(ya);rootContexts=O(va);location=O(so);inputBindingEnabled=O(Rd,{optional:!0})!==null;titleStrategy=O(ZE);options=O(ba,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(vm);createViewTransition=O(tI,{optional:!0});navigationErrorHandler=O(rI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new im(i)),r=i=>this.events.next(new sm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(he(z({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Vt(null),this.transitions.pipe(Wt(r=>r!==null),yn(r=>{let i=!1,s=!1;return Z(r).pipe(yn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),jn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?he(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Si(o.id,this.urlSerializer.serialize(o.rawUrl),l,il.IgnoredSameUrlNavigation)),o.resolve(!1),jn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z(o).pipe(yn(l=>(this.events.next(new lo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?jn:Promise.resolve(l))),lG(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ct(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=he(z({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Ed(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:f,extras:p}=o,m=new lo(l,this.urlSerializer.serialize(u),h,f);this.events.next(m);let v=XN(this.rootComponentType).snapshot;return this.currentTransition=r=he(z({},o),{targetSnapshot:v,urlAfterRedirects:u,extras:he(z({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,Z(r)}else{let l="";return this.events.next(new Si(o.id,this.urlSerializer.serialize(o.extractedUrl),l,il.IgnoredByUrlHandlingStrategy)),o.resolve(!1),jn}}),Ct(o=>{let a=new em(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ne(o=>(this.currentTransition=r=he(z({},o),{guards:Aq(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Bq(this.environmentInjector,o=>this.events.next(o)),Ct(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw fm(this.urlSerializer,o.guardsResult);let a=new tm(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Wt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",qn.GuardRejected),!1)),OE(o=>{if(o.guards.canActivateChecks.length!==0)return Z(o).pipe(Ct(a=>{let c=new nm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),yn(a=>{let c=!1;return Z(a).pipe(uG(this.paramsInheritanceStrategy,this.environmentInjector),Ct({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",qn.NoDataFromResolver)}}))}),Ct(a=>{let c=new rm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),OE(o=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ct(u=>{c.component=u}),ne(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Yo(a(o.targetSnapshot.root)).pipe(Ks(null),tr(1))}),OE(()=>this.afterPreactivation()),yn(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?je(c).pipe(ne(()=>r)):Z(r)}),ne(o=>{let a=Dq(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=he(z({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ct(()=>{this.events.next(new Id)}),xq(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),tr(1),Ct({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new or(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ou(this.transitionAbortSubject.pipe(Ct(o=>{throw o}))),Qs(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),jr(o=>{if(this.destroyed)return r.resolve(!1),jn;if(s=!0,rO(o))this.events.next(new Ci(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Sq(o)?this.events.next(new al(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new sl(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=sn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof cl){let{message:l,cancellationCode:u}=fm(this.urlSerializer,c);this.events.next(new Ci(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new al(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return jn}))}))}cancelNavigationTransition(t,r,i){let s=new Ci(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yG(n){return n!==Xg}var fO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(vG),providedIn:"root"})}return n})(),gm=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},vG=(()=>{class n extends gm{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pO=(()=>{class n{urlSerializer=O(ya);options=O(ba,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(so);urlHandlingStrategy=O(vm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ti;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof Ti?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=XN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(_G),providedIn:"root"})}return n})(),_G=(()=>{class n extends pO{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof lo?this.updateStateMemento():t instanceof Si?this.commitTransition(r):t instanceof Ed?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Id?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ci&&(t.code===qn.GuardRejected||t.code===qn.NoDataFromResolver)?this.restoreHistory(r):t instanceof sl?this.restoreHistory(r,!0):t instanceof or&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=z(z({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=z(z({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bm(n,e){n.events.pipe(Wt(t=>t instanceof or||t instanceof Ci||t instanceof sl||t instanceof Si),ne(t=>t instanceof or||t instanceof Si?0:(t instanceof Ci?t.code===qn.Redirect||t.code===qn.SupersededByNewNavigation:!1)?2:1),Wt(t=>t!==2),tr(1)).subscribe(()=>{e()})}var bG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ke=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(eE);stateManager=O(pO);options=O(ba,{optional:!0})||{};pendingTasks=O(eo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(_m);urlSerializer=O(ya);location=O(so);urlHandlingStrategy=O(vm);_events=new rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(fO);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(wa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(Rd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ot;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Ci&&r.code!==qn.Redirect&&r.code!==qn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof or)this.navigated=!0;else if(r instanceof al){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yG(i.source)},o);this.scheduleNavigation(a,Xg,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}IG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=z({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(eI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=z(z({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=i?i.snapshot:this.routerState.snapshot.root;h=GN(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return KN(h,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=co(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Xg,null,r)}navigate(t,r={skipLocationChange:!1}){return EG(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=z({},bG):r===!1?i=z({},wG):i=r,co(t))return xN(this.currentUrlTree,t,i);let s=this.parseUrl(t);return xN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((h,f)=>{a=h,c=f});let u=this.pendingTasks.add();return bm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EG(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new G(4008,!1)}function IG(n){return!(n instanceof Id)&&!(n instanceof al)}var Dr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new rt;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(co(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:IP(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:co(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(X(Ke),X(xi),hg("tabindex"),X(bi),X(on),X(Kr))};static \u0275dir=et({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&_e("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&io("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qr],replaceUrl:[2,"replaceUrl","replaceUrl",qr],routerLink:"routerLink"},features:[Gt]})}return n})(),sI=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new at;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof or&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(qs()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=je(t).pipe(qs()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=DG(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(X(Ke),X(on),X(bi),X(Ei),X(Dr,8))};static \u0275dir=et({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&Pk(s,Dr,5),r&2){let o;br(o=wr())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Gt]})}return n})();function DG(n){return!!n.paths}var kd=class{};var gO=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wt(t=>t instanceof or),di(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=rd(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return je(i).pipe(qs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Z(null);let s=i.pipe(Dt(o=>o===null?Z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return je([s,o]).pipe(qs())}else return s})}static \u0275fac=function(r){return new(r||n)(J(Ke),J(Cg),J(nn),J(kd),J(ym))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mO=new Q(""),CG=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof lo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof or?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Si&&t.code===il.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ol&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ol(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){rk()};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function oI(n,...e){return yr([{provide:wa,multi:!0,useValue:n},[],{provide:xi,useFactory:yO,deps:[Ke]},{provide:Ig,multi:!0,useFactory:vO},e.map(t=>t.\u0275providers)])}function yO(n){return n.routerState.root}function Nd(n,e){return{\u0275kind:n,\u0275providers:e}}function vO(){let n=O(bt);return e=>{let t=n.get(Zs);if(e!==t.components[0])return;let r=n.get(Ke),i=n.get(_O);n.get(aI)===1&&r.initialNavigation(),n.get(EO,null,we.Optional)?.setUpPreloading(),n.get(mO,null,we.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _O=new Q("",{factory:()=>new rt}),aI=new Q("",{providedIn:"root",factory:()=>1});function bO(){let n=[{provide:aI,useValue:0},tE(()=>{let e=O(bt);return e.get(aE,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ke),s=e.get(_O);bm(i,()=>{r(!0)}),e.get(_m).afterPreactivation=()=>(r(!0),s.closed?Z(void 0):s),i.initialNavigation()}))})];return Nd(2,n)}function wO(){let n=[tE(()=>{O(Ke).setUpLocationChangeListener()}),{provide:aI,useValue:2}];return Nd(3,n)}var EO=new Q("");function IO(n){return Nd(0,[{provide:EO,useExisting:gO},{provide:kd,useExisting:n}])}function DO(){return Nd(8,[XE,{provide:Rd,useExisting:XE}])}function CO(n){to("NgRouterViewTransitions");let e=[{provide:tI,useValue:hO},{provide:nI,useValue:z({skipNextTransition:!!n?.skipInitialTransition},n)}];return Nd(9,e)}var TO=[so,{provide:ya,useClass:ao},Ke,va,{provide:xi,useFactory:yO,deps:[Ke]},ym,[]],Ea=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[TO,[],{provide:wa,multi:!0,useValue:t},[],r?.errorHandler?{provide:rI,useValue:r.errorHandler}:[],{provide:ba,useValue:r||{}},r?.useHash?SG():xG(),TG(),r?.preloadingStrategy?IO(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?AG(r):[],r?.bindToComponentInputs?DO().\u0275providers:[],r?.enableViewTransitions?CO().\u0275providers:[],MG()]}}static forChild(t){return{ngModule:n,providers:[{provide:wa,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=rn({})}return n})();function TG(){return{provide:mO,useFactory:()=>{let n=O(dN),e=O(xe),t=O(ba),r=O(_m),i=O(ya);return t.scrollOffset&&n.setOffset(t.scrollOffset),new CG(i,r,n,e,t)}}}function SG(){return{provide:Kr,useClass:dE}}function xG(){return{provide:Kr,useClass:Ag}}function AG(n){return[n.initialNavigation==="disabled"?wO().\u0275providers:[],n.initialNavigation==="enabledBlocking"?bO().\u0275providers:[]]}var iI=new Q("");function MG(){return[{provide:iI,useFactory:vO},{provide:Ig,multi:!0,useExisting:iI}]}var FO=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(X(bi),X(on))};static \u0275dir=et({type:n})}return n})(),xm=(()=>{class n extends FO{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=et({type:n,features:[vr]})}return n})(),Ud=new Q("");var RG={provide:Ud,useExisting:vi(()=>Cr),multi:!0};function PG(){let n=Er()?Er().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var kG=new Q(""),Cr=(()=>{class n extends FO{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!PG())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(X(bi),X(on),X(kG,8))};static \u0275dir=et({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&_e("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[ds([RG]),vr]})}return n})();function NG(n){return n==null||OG(n)===0}function OG(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var lI=new Q(""),LO=new Q("");function FG(n){return NG(n.value)?{required:!0}:null}function SO(n){return null}function VO(n){return n!=null}function jO(n){return da(n)?je(n):n}function BO(n){let e={};return n.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function UO(n,e){return e.map(t=>t(n))}function LG(n){return!n.validate}function $O(n){return n.map(e=>LG(e)?e:t=>e.validate(t))}function VG(n){if(!n)return null;let e=n.filter(VO);return e.length==0?null:function(t){return BO(UO(t,e))}}function uI(n){return n!=null?VG($O(n)):null}function jG(n){if(!n)return null;let e=n.filter(VO);return e.length==0?null:function(t){let r=UO(t,e).map(jO);return Nu(r).pipe(ne(BO))}}function dI(n){return n!=null?jG($O(n)):null}function xO(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function BG(n){return n._rawValidators}function UG(n){return n._rawAsyncValidators}function cI(n){return n?Array.isArray(n)?n:[n]:[]}function Em(n,e){return Array.isArray(n)?n.includes(e):n===e}function AO(n,e){let t=cI(e);return cI(n).forEach(i=>{Em(t,i)||t.push(i)}),t}function MO(n,e){return cI(e).filter(t=>!Em(n,t))}var Im=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},pl=class extends Im{name;get formDirective(){return null}get path(){return null}},Bd=class extends Im{_parent=null;name=null;valueAccessor=null},Dm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$G={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Efe=he(z({},$G),{"[class.ng-submitted]":"isSubmitted"}),Tr=(()=>{class n extends Dm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(X(Bd,2))};static \u0275dir=et({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&cn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[vr]})}return n})(),Ai=(()=>{class n extends Dm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(X(pl,10))};static \u0275dir=et({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&cn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[vr]})}return n})();var Od="VALID",wm="INVALID",hl="PENDING",Fd="DISABLED",gl=class{},Cm=class extends gl{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Vd=class extends gl{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},jd=class extends gl{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},fl=class extends gl{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function HO(n){return(Am(n)?n.validators:n)||null}function HG(n){return Array.isArray(n)?uI(n):n||null}function zO(n,e){return(Am(e)?e.asyncValidators:n)||null}function zG(n){return Array.isArray(n)?dI(n):n||null}function Am(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function WG(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[t])throw new G(1001,"")}function qG(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new G(1002,"")})}var Tm=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ii(this.statusReactive)}set status(e){Ii(()=>this.statusReactive.set(e))}_status=Yc(()=>this.statusReactive());statusReactive=Wc(void 0);get valid(){return this.status===Od}get invalid(){return this.status===wm}get pending(){return this.status==hl}get disabled(){return this.status===Fd}get enabled(){return this.status!==Fd}errors;get pristine(){return Ii(this.pristineReactive)}set pristine(e){Ii(()=>this.pristineReactive.set(e))}_pristine=Yc(()=>this.pristineReactive());pristineReactive=Wc(!0);get dirty(){return!this.pristine}get touched(){return Ii(this.touchedReactive)}set touched(e){Ii(()=>this.touchedReactive.set(e))}_touched=Yc(()=>this.touchedReactive());touchedReactive=Wc(!1);get untouched(){return!this.touched}_events=new rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MO(e,this._rawAsyncValidators))}hasValidator(e){return Em(this._rawValidators,e)}hasAsyncValidator(e){return Em(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new jd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new jd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Vd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Vd(!0,r))}markAsPending(e={}){this.status=hl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Fd,this.errors=null,this._forEachChild(i=>{i.disable(he(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cm(this.value,r)),this._events.next(new fl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Od,this._forEachChild(r=>{r.enable(he(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Od||this.status===hl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cm(this.value,t)),this._events.next(new fl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fd:Od}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=hl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=jO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?Fd:this.errors?wm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hl)?hl:this._anyControlsHaveStatus(wm)?wm:Od}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Vd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new jd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Am(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=HG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=zG(this._rawAsyncValidators)}},Sm=class extends Tm{constructor(e,t,r){super(HO(t),zO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){qG(this,!0,e),Object.keys(e).forEach(r=>{WG(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var hI=new Q("",{providedIn:"root",factory:()=>fI}),fI="always";function GG(n,e){return[...e.path,n]}function WO(n,e,t=fI){qO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),QG(n,e),XG(n,e),YG(n,e),KG(n,e)}function RO(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function KG(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function qO(n,e){let t=BG(n);e.validator!==null?n.setValidators(xO(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=UG(n);e.asyncValidator!==null?n.setAsyncValidators(xO(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();RO(e._rawValidators,i),RO(e._rawAsyncValidators,i)}function QG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&GO(n,e)})}function YG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&GO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function GO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XG(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ZG(n,e){n==null,qO(n,e)}function JG(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function e9(n){return Object.getPrototypeOf(n.constructor)===xm}function t9(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function n9(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Cr?t=s:e9(s)?r=s:i=s}),i||r||t||null}var r9={provide:pl,useExisting:vi(()=>Xr)},Ld=Promise.resolve(),Xr=(()=>{class n extends pl{callSetDisabledState;get submitted(){return Ii(this.submittedReactive)}_submitted=Yc(()=>this.submittedReactive());submittedReactive=Wc(!1);_directives=new Set;form;ngSubmit=new at;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Sm({},uI(t),dI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ld.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),WO(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ld.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ld.then(()=>{let r=this._findContainer(t.path),i=new Sm({});ZG(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ld.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ld.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),t9(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(X(lI,10),X(LO,10),X(hI,8))};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&_e("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ds([r9]),vr]})}return n})();function PO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function kO(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var i9=class extends Tm{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(HO(t),zO(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Am(t)&&(t.nonNullable||t.initialValueIsDefault)&&(kO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var s9={provide:Bd,useExisting:vi(()=>ar)},NO=Promise.resolve(),ar=(()=>{class n extends Bd{_changeDetectorRef;callSetDisabledState;control=new i9;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new at;constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=n9(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),JG(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){WO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){NO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&qr(r);NO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?GG(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(X(pl,9),X(lI,10),X(LO,10),X(Ud,10),X(Ei,8),X(hI,8))};static \u0275dir=et({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ds([s9]),vr,Gt]})}return n})();var Mi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),o9={provide:Ud,useExisting:vi(()=>$d),multi:!0},$d=(()=>{class n extends xm{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&_e("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ds([o9]),vr]})}return n})();var a9={provide:Ud,useExisting:vi(()=>ml),multi:!0};function KO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function c9(n){return n.split(":")[0]}var ml=(()=>{class n extends xm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=KO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=c9(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&_e("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ds([a9]),vr]})}return n})(),Mm=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(KO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(X(on),X(bi),X(ml,9))};static \u0275dir=et({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),l9={provide:Ud,useExisting:vi(()=>QO),multi:!0};function OO(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function u9(n){return n.split(":")[0]}var QO=(()=>{class n extends xm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],l=this._getOptionValue(c.value);i.push(l)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=u9(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&_e("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ds([l9]),vr]})}return n})(),Rm=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(OO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(OO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(X(on),X(bi),X(QO,9))};static \u0275dir=et({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var d9=(()=>{class n{_validator=SO;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):SO,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,features:[Gt]})}return n})();var h9={provide:lI,useExisting:vi(()=>Zr),multi:!0};var Zr=(()=>{class n extends d9{required;inputName="required";normalizeInput=qr;createValidator=t=>FG;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ls(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&io("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ds([h9]),vr]})}return n})();var f9=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=rn({})}return n})();var Gn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hI,useValue:t.callSetDisabledState??fI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=rn({imports:[f9]})}return n})();var Ri=class n{transform(e,t){return typeof e!="number"?"":`${t?e:Math.round(e*.453592)} ${t?"lbs":"kg"}`}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Gc({name:"weightUnit",type:n,pure:!0})};function Pm(n){return n>=1&&n<=3?2:n>=4&&n<=6?1.5:n>=7&&n<=10?1.2:n>=11&&n<=15?1:.8}function gs(n,e){let t=new Date(n);return t.setDate(t.getDate()+e),t}var ho=(a=>(a[a.Unknown=0]="Unknown",a[a.Chest=1]="Chest",a[a.Back=2]="Back",a[a.Biceps=3]="Biceps",a[a.Triceps=4]="Triceps",a[a.GlutesQuads=5]="GlutesQuads",a[a.HamstringsCalves=6]="HamstringsCalves",a))(ho||{});var YO=()=>{};var ZO=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},p9=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},km={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),r.push(t[u],t[h],t[f],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ZO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):p9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new gI;let f=s<<2|a>>4;if(r.push(f),l!==64){let p=a<<4&240|l>>2;if(r.push(p),h!==64){let m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},gI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},g9=function(n){let e=ZO(n);return km.encodeByteArray(e,!0)},Hd=function(n){return g9(n).replace(/\./g,"")},Nm=function(n){try{return km.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var m9=()=>yI().__FIREBASE_DEFAULTS__,y9=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},v9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Nm(n[1]);return e&&JSON.parse(e)},Om=()=>{try{return YO()||m9()||y9()||v9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vI=n=>{var e,t;return(t=(e=Om())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JO=n=>{let e=vI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_I=()=>{var n;return(n=Om())===null||n===void 0?void 0:n.config},bI=n=>{var e;return(e=Om())===null||e===void 0?void 0:e[`_${n}`]};var Ia=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function e1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hd(JSON.stringify(t)),Hd(JSON.stringify(o)),""].join(".")}function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function _9(){var n;let e=(n=Om())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function i1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s1(){let n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function o1(){return!_9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zd(){try{return typeof indexedDB=="object"}catch{return!1}}function a1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var b9="FirebaseError",cr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=b9,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jr.prototype.create)}},Jr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?w9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cr(i,a,r)}};function w9(n,e){return n.replace(E9,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var E9=/\{\$([^}]+)}/g;function c1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(XO(s)&&XO(o)){if(!Pi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function XO(n){return n!==null&&typeof n=="object"}function Wd(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vl(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _l(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function l1(n,e){let t=new mI(n,e);return t.subscribe.bind(t)}var mI=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");I9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=pI),i.error===void 0&&(i.error=pI),i.complete===void 0&&(i.complete=pI);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function I9(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pI(){}var Mfe=4*60*60*1e3;function dt(n){return n&&n._delegate?n._delegate:n}var Nn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Da="[DEFAULT]";var wI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ia;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C9(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function D9(n){return n===Da?void 0:n}function C9(n){return n.instantiationMode==="EAGER"}var Fm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new wI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var T9=[],Se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Se||{}),S9={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},x9=Se.INFO,A9={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},M9=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=A9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ki=class{constructor(e){this.name=e,this._logLevel=x9,this._logHandler=M9,this._userLogHandler=null,T9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var R9=(n,e)=>e.some(t=>n instanceof t),u1,d1;function P9(){return u1||(u1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k9(){return d1||(d1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var h1=new WeakMap,II=new WeakMap,f1=new WeakMap,EI=new WeakMap,CI=new WeakMap;function N9(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ni(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&h1.set(t,n)}).catch(()=>{}),CI.set(e,n),e}function O9(n){if(II.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});II.set(n,e)}var DI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return II.get(n);if(e==="objectStoreNames")return n.objectStoreNames||f1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function p1(n){DI=n(DI)}function F9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Lm(this),e,...t);return f1.set(r,e.sort?e.sort():[e]),Ni(r)}:k9().includes(n)?function(...e){return n.apply(Lm(this),e),Ni(h1.get(this))}:function(...e){return Ni(n.apply(Lm(this),e))}}function L9(n){return typeof n=="function"?F9(n):(n instanceof IDBTransaction&&O9(n),R9(n,P9())?new Proxy(n,DI):n)}function Ni(n){if(n instanceof IDBRequest)return N9(n);if(EI.has(n))return EI.get(n);let e=L9(n);return e!==n&&(EI.set(n,e),CI.set(e,n)),e}var Lm=n=>CI.get(n);function m1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ni(o.result),c.oldVersion,c.newVersion,Ni(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var V9=["get","getKey","getAll","getAllKeys","count"],j9=["put","add","delete","clear"],TI=new Map;function g1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(TI.get(e))return TI.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=j9.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V9.includes(t)))return;let s=function(o,...a){return E(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return TI.set(e,s),s}p1(n=>he(z({},n),{get:(e,t,r)=>g1(e,t)||n.get(e,t,r),has:(e,t)=>!!g1(e,t)||n.has(e,t)}));var xI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B9(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function B9(n){let e=n.getComponent();return e?.type==="VERSION"}var AI="@firebase/app",y1="0.11.5";var ms=new ki("@firebase/app"),U9="@firebase/app-compat",$9="@firebase/analytics-compat",H9="@firebase/analytics",z9="@firebase/app-check-compat",W9="@firebase/app-check",q9="@firebase/auth",G9="@firebase/auth-compat",K9="@firebase/database",Q9="@firebase/data-connect",Y9="@firebase/database-compat",X9="@firebase/functions",Z9="@firebase/functions-compat",J9="@firebase/installations",e6="@firebase/installations-compat",t6="@firebase/messaging",n6="@firebase/messaging-compat",r6="@firebase/performance",i6="@firebase/performance-compat",s6="@firebase/remote-config",o6="@firebase/remote-config-compat",a6="@firebase/storage",c6="@firebase/storage-compat",l6="@firebase/firestore",u6="@firebase/vertexai",d6="@firebase/firestore-compat",h6="firebase",f6="11.6.1";var MI="[DEFAULT]",p6={[AI]:"fire-core",[U9]:"fire-core-compat",[H9]:"fire-analytics",[$9]:"fire-analytics-compat",[W9]:"fire-app-check",[z9]:"fire-app-check-compat",[q9]:"fire-auth",[G9]:"fire-auth-compat",[K9]:"fire-rtdb",[Q9]:"fire-data-connect",[Y9]:"fire-rtdb-compat",[X9]:"fire-fn",[Z9]:"fire-fn-compat",[J9]:"fire-iid",[e6]:"fire-iid-compat",[t6]:"fire-fcm",[n6]:"fire-fcm-compat",[r6]:"fire-perf",[i6]:"fire-perf-compat",[s6]:"fire-rc",[o6]:"fire-rc-compat",[a6]:"fire-gcs",[c6]:"fire-gcs-compat",[l6]:"fire-fst",[d6]:"fire-fst-compat",[u6]:"fire-vertex","fire-js":"fire-js",[h6]:"fire-js-all"};var qd=new Map,g6=new Map,RI=new Map;function v1(n,e){try{n.container.addComponent(e)}catch(t){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ei(n){let e=n.name;if(RI.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;RI.set(e,n);for(let t of qd.values())v1(t,n);for(let t of g6.values())v1(t,n);return!0}function bl(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}var m6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new Jr("app","Firebase",m6);var PI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}};var po=f6;function OI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:MI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fo.create("bad-app-name",{appName:String(i)});if(t||(t=_I()),!t)throw fo.create("no-options");let s=qd.get(i);if(s){if(Pi(t,s.options)&&Pi(r,s.config))return s;throw fo.create("duplicate-app",{appName:i})}let o=new Fm(i);for(let c of RI.values())o.addComponent(c);let a=new PI(t,r,o);return qd.set(i,a),a}function Ca(n=MI){let e=qd.get(n);if(!e&&n===MI&&_I())return OI();if(!e)throw fo.create("no-app",{appName:n});return e}function Vm(){return Array.from(qd.values())}function wt(n,e,t){var r;let i=(r=p6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(a.join(" "));return}ei(new Nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var y6="firebase-heartbeat-database",v6=1,Gd="firebase-heartbeat-store",SI=null;function E1(){return SI||(SI=m1(y6,v6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gd)}catch(t){console.warn(t)}}}}).catch(n=>{throw fo.create("idb-open",{originalErrorMessage:n.message})})),SI}function _6(n){return E(this,null,function*(){try{let t=(yield E1()).transaction(Gd),r=yield t.objectStore(Gd).get(I1(n));return yield t.done,r}catch(e){if(e instanceof cr)ms.warn(e.message);else{let t=fo.create("idb-get",{originalErrorMessage:e?.message});ms.warn(t.message)}}})}function _1(n,e){return E(this,null,function*(){try{let r=(yield E1()).transaction(Gd,"readwrite");yield r.objectStore(Gd).put(e,I1(n)),yield r.done}catch(t){if(t instanceof cr)ms.warn(t.message);else{let r=fo.create("idb-set",{originalErrorMessage:t?.message});ms.warn(r.message)}}})}function I1(n){return`${n.name}!${n.options.appId}`}var b6=1024,w6=30,kI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new NI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>w6){let o=I6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ms.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=b1(),{heartbeatsToSend:r,unsentEntries:i}=E6(this._heartbeatsCache.heartbeats),s=Hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ms.warn(t),""}})}};function b1(){return new Date().toISOString().substring(0,10)}function E6(n,e=b6){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w1(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),w1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var NI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return zd()?a1().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield _6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function w1(n){return Hd(JSON.stringify({version:2,heartbeats:n})).length}function I6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function D6(n){ei(new Nn("platform-logger",e=>new xI(e),"PRIVATE")),ei(new Nn("heartbeat",e=>new kI(e),"PRIVATE")),wt(AI,y1,n),wt(AI,y1,"esm2017"),wt("fire-js","")}D6("");var C6="firebase",T6="11.6.1";wt(C6,T6,"app");function FI(n){n===void 0&&(m0(FI),n=O(bt));let e=n.get(pg);return t=>new ue(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var go=new Js("ANGULARFIRE2_VERSION");function Kd(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var El=(n,e)=>{let t=e?[e]:Vm(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},wl=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(wl||{}),D1=iE()&&typeof Zone<"u"?wl.WARN:wl.SILENT;var jm=class{zone;delegate;constructor(e,t=kb){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},mo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=O(xe);this.outsideAngular=t.runOutsideAngular(()=>new jm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new jm(typeof Zone>"u"?void 0:Zone.current,ku))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C1=!1;function S6(n,e){!C1&&(D1>wl.SILENT||iE())&&(C1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),D1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function x6(n){let e=O(xe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ta(n){let e=O(xe,{optional:!0});return e?e.run(()=>n()):n()}var A6=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),sn(t,()=>Ta(()=>n.apply(void 0,r)))),Ht=(n,e,t)=>(t||=e?wl.WARN:wl.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=O(mo),o=O(pg),a=O(nn)}catch{return S6(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ta(()=>o.add())),i[l]=A6(i[l],r,a));let c=x6(()=>n.apply(this,i));return e?c instanceof ue?c.pipe(zs(s.outsideAngular),Hs(s.insideAngular),FI(a)):c instanceof Promise?Ta(()=>new Promise((l,u)=>{o.run(()=>c).then(h=>sn(a,()=>Ta(()=>l(h))),h=>sn(a,()=>Ta(()=>u(h))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Ta(()=>c):c instanceof ue?c.pipe(zs(s.outsideAngular),Hs(s.insideAngular)):Ta(()=>c)});var ti=class{constructor(e){return e}},Sa=class{constructor(){return Vm()}};function M6(n){return n&&n.length===1?n[0]:new ti(Ca())}var LI=new Q("angularfire2._apps"),R6={provide:ti,useFactory:M6,deps:[[new Mn,LI]]},P6={provide:Sa,deps:[[new Mn,LI]]};function k6(n){return(e,t)=>{let r=t.get(zr);wt("angularfire",go.full,"core"),wt("angularfire",go.full,"app"),wt("angular",Vk.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ti(i)}}function T1(n,...e){return yr([R6,P6,{provide:LI,useFactory:k6(n),multi:!0,deps:[xe,bt,mo,...e]}])}var S1=Ht(OI,!0);var N6=new Map,O6={activated:!1,tokenObservers:[]},F6={initialized:!1,enabled:!1};function ni(n){return N6.get(n)||Object.assign({},O6)}function R1(){return F6}var L6="https://content-firebaseappcheck.googleapis.com/v1";var V6="exchangeDebugToken",x1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ope=24*60*60*1e3;var BI=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new Ia,this.pending.promise.catch(t=>{}),yield j6(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ia,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function j6(n){return new Promise(e=>{setTimeout(e,n)})}var B6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},yo=new Jr("appCheck","AppCheck",B6);function P1(n){if(!ni(n).activated)throw yo.create("use-before-activation",{appName:n.name})}function k1(r,i){return E(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let p=yield o.getHeartbeatsHeader();p&&(s["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(n,a)}catch(p){throw yo.create("fetch-network-error",{originalErrorMessage:p?.message})}if(c.status!==200)throw yo.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(p){throw yo.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw yo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let h=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+h,issuedAtTimeMillis:f}})}function N1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${L6}/projects/${t}/apps/${r}:${V6}?key=${i}`,body:{debug_token:e}}}var U6="firebase-app-check-database",$6=1,UI="firebase-app-check-store";var Bm=null;function H6(){return Bm||(Bm=new Promise((n,e)=>{try{let t=indexedDB.open(U6,$6);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(yo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(UI,{keyPath:"compositeKey"})}}}catch(t){e(yo.create("storage-open",{originalErrorMessage:t?.message}))}}),Bm)}function z6(n,e){return W6(q6(n),e)}function W6(n,e){return E(this,null,function*(){let r=(yield H6()).transaction(UI,"readwrite"),s=r.objectStore(UI).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(yo.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function q6(n){return`${n.options.appId}-${n.name}`}var Qd=new ki("@firebase/app-check");function VI(n,e){return zd()?z6(n,e).catch(t=>{Qd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function O1(){return R1().enabled}function F1(){return E(this,null,function*(){let n=R1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var G6={error:"UNKNOWN_ERROR"};function K6(n){return km.encodeString(JSON.stringify(n),!1)}function $I(n,e=!1,t=!1){return E(this,null,function*(){let r=n.app;P1(r);let i=ni(r),s=i.token,o;if(s&&!Yd(s)&&(i.token=void 0,s=void 0),!s){let l=yield i.cachedTokenPromise;l&&(Yd(l)?s=l:yield VI(r,void 0))}if(!e&&s&&Yd(s))return{token:s.token};let a=!1;if(O1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=k1(N1(r,yield F1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield VI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Qd.warn(l.message):t&&Qd.error(l),jI(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield ni(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Qd.warn(l.message):t&&Qd.error(l),o=l}let c;return s?o?Yd(s)?c={token:s.token,internalError:o}:c=jI(o):(c={token:s.token},i.token=s,yield VI(r,s)):c=jI(o),a&&Z6(r,c),c})}function Q6(n){return E(this,null,function*(){let e=n.app;P1(e);let{provider:t}=ni(e);if(O1()){let r=yield F1(),{token:i}=yield k1(N1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Y6(n,e,t,r){let{app:i}=n,s=ni(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Yd(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),A1(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>A1(n))}function L1(n,e){let t=ni(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function A1(n){let{app:e}=n,t=ni(e),r=t.tokenRefresher;r||(r=X6(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function X6(n){let{app:e}=n;return new BI(()=>E(this,null,function*(){let t=ni(e),r;if(t.token?r=yield $I(n,!0):r=yield $I(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=ni(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},x1.RETRIAL_MIN_WAIT,x1.RETRIAL_MAX_WAIT)}function Z6(n,e){let t=ni(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Yd(n){return n.expireTimeMillis-Date.now()>0}function jI(n){return{token:K6(G6),error:n}}var HI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ni(this.app);for(let t of e)L1(this.app,t.next);return Promise.resolve()}};function J6(n,e){return new HI(n,e)}function e8(n){return{getToken:e=>$I(n,e),getLimitedUseToken:()=>Q6(n),addTokenListener:e=>Y6(n,"INTERNAL",e),removeTokenListener:e=>L1(n.app,e)}}var t8="@firebase/app-check",n8="0.8.13";var r8="app-check",M1="app-check-internal";function i8(){ei(new Nn(r8,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return J6(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(M1).initialize()})),ei(new Nn(M1,n=>{let e=n.getProvider("app-check").getImmediate();return e8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),wt(t8,n8)}i8();var s8="app-check";var Il=class{constructor(){return El(s8)}};var o8=["localhost","0.0.0.0","127.0.0.1"],Kpe=typeof window<"u"&&o8.includes(window.location.hostname);function J1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eF=J1,tF=new Jr("auth","Firebase",J1());var qm=new ki("@firebase/auth");function a8(n,...e){qm.logLevel<=Se.WARN&&qm.warn(`Auth (${po}): ${n}`,...e)}function $m(n,...e){qm.logLevel<=Se.ERROR&&qm.error(`Auth (${po}): ${n}`,...e)}function Fi(n,...e){throw pD(n,...e)}function xa(n,...e){return pD(n,...e)}function nF(n,e,t){let r=Object.assign(Object.assign({},eF()),{[e]:t});return new Jr("auth","Firebase",r).create(e,{appName:n.name})}function _s(n){return nF(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pD(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return tF.create(n,...e)}function re(n,e,...t){if(!n)throw pD(e,...t)}function ys(n){let e="INTERNAL ASSERTION FAILED: "+n;throw $m(e),new Error(e)}function bo(n,e){n||ys(e)}function GI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function c8(){return V1()==="http:"||V1()==="https:"}function V1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function l8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c8()||r1()||"connection"in navigator)?navigator.onLine:!0}function u8(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Aa=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,bo(t>e,"Short delay should be less than long delay!"),this.isMobile=t1()||i1()}get(){return l8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gD(n,e){bo(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Gm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var d8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var h8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f8=new Aa(3e4,6e4);function wo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Eo(s,o,a,c){return E(this,arguments,function*(n,e,t,r,i={}){return rF(n,i,()=>E(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let h=Wd(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let p=Object.assign({method:e,headers:f},l);return n1()||(p.referrerPolicy="no-referrer"),Gm.fetch()(yield iF(n,n.config.apiHost,t,h),p)}))})}function rF(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},d8),e);try{let i=new KI(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Um(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Um(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Um(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Um(n,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nF(n,u,l);Fi(n,u)}}catch(i){if(i instanceof cr)throw i;Fi(n,"network-request-failed",{message:String(i)})}})}function sh(s,o,a,c){return E(this,arguments,function*(n,e,t,r,i={}){let l=yield Eo(n,e,t,r,i);return"mfaPendingCredential"in l&&Fi(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function iF(n,e,t,r){return E(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?gD(n.config,i):`${n.config.apiScheme}://${i}`;return h8.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function p8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var KI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xa(this.auth,"network-request-failed")),f8.get())})}};function Um(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=xa(n,e,r);return i.customData._tokenResponse=t,i}function j1(n){return n!==void 0&&n.enterprise!==void 0}var QI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return p8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function g8(n,e){return E(this,null,function*(){return Eo(n,"GET","/v2/recaptchaConfig",wo(n,e))})}function m8(n,e){return E(this,null,function*(){return Eo(n,"POST","/v1/accounts:delete",e)})}function Km(n,e){return E(this,null,function*(){return Eo(n,"POST","/v1/accounts:lookup",e)})}function Zd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mD(n,e=!1){return E(this,null,function*(){let t=dt(n),r=yield t.getIdToken(e),i=yD(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Zd(zI(i.auth_time)),issuedAtTime:Zd(zI(i.iat)),expirationTime:Zd(zI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zI(n){return Number(n)*1e3}function yD(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return $m("JWT malformed, contained fewer than 3 sections"),null;try{let i=Nm(t);return i?JSON.parse(i):($m("Failed to decode base64 JWT payload"),null)}catch(i){return $m("Caught error parsing JWT payload as JSON",i?.toString()),null}}function B1(n){let e=yD(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function eh(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof cr&&y8(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function y8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var YI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var th=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zd(this.lastLoginAt),this.creationTime=Zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qm(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield eh(n,Km(t,{idToken:r}));re(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sF(s.providerUserInfo):[],a=v8(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,u=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new th(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function vD(n){return E(this,null,function*(){let e=dt(n);yield Qm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function v8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sF(n){return n.map(e=>{var{providerId:t}=e,r=Nb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _8(n,e){return E(this,null,function*(){let t=yield rF(n,{},()=>E(this,null,function*(){let r=Wd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield iF(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gm.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function b8(n,e){return E(this,null,function*(){return Eo(n,"POST","/v2/accounts:revokeToken",wo(n,e))})}var Jd=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=B1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield _8(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ys("not implemented")}};function vo(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var _o=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Nb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new th(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield eh(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return mD(this,e)}reload(){return vD(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Qm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Kn(this.auth.app))return Promise.reject(_s(this.auth));let e=yield this.getIdToken();return yield eh(this,m8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;let h=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,C=(l=t.createdAt)!==null&&l!==void 0?l:void 0,x=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:N,emailVerified:j,isAnonymous:L,providerData:B,stsTokenManager:D}=t;re(N&&D,e,"internal-error");let w=Jd.fromJSON(this.name,D);re(typeof N=="string",e,"internal-error"),vo(h,e.name),vo(f,e.name),re(typeof j=="boolean",e,"internal-error"),re(typeof L=="boolean",e,"internal-error"),vo(p,e.name),vo(m,e.name),vo(v,e.name),vo(_,e.name),vo(C,e.name),vo(x,e.name);let I=new n({uid:N,auth:e,email:f,emailVerified:j,displayName:h,isAnonymous:L,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:w,createdAt:C,lastLoginAt:x});return B&&Array.isArray(B)&&(I.providerData=B.map(S=>Object.assign({},S))),_&&(I._redirectEventId=_),I}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new Jd;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qm(s),s})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?sF(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Jd;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new th(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var U1=new Map;function vs(n){bo(n instanceof Function,"Expected a class definition");let e=U1.get(n);return e?(bo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,U1.set(n,e),e)}var w8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),XI=w8;function Hm(n,e,t){return`firebase:${n}:${e}:${t}`}var Ym=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Hm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Km(this.auth,{idToken:e}).catch(()=>{});return t?_o._fromGetAccountInfoResponse(this.auth,t,e):null}return _o._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(vs(XI),e,r);let i=(yield Promise.all(t.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||vs(XI),o=Hm(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(o);if(u){let h;if(typeof u=="string"){let f=yield Km(e,{idToken:u}).catch(()=>{});if(!f)break;h=yield _o._fromGetAccountInfoResponse(e,f,u)}else h=_o._fromJSON(e,u);l!==s&&(a=h),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>E(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function $1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dF(e))return"Blackberry";if(hF(e))return"Webos";if(aF(e))return"Safari";if((e.includes("chrome/")||cF(e))&&!e.includes("edge/"))return"Chrome";if(uF(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function oF(n=Yt()){return/firefox\//i.test(n)}function aF(n=Yt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cF(n=Yt()){return/crios\//i.test(n)}function lF(n=Yt()){return/iemobile/i.test(n)}function uF(n=Yt()){return/android/i.test(n)}function dF(n=Yt()){return/blackberry/i.test(n)}function hF(n=Yt()){return/webos/i.test(n)}function _D(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E8(n=Yt()){var e;return _D(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I8(){return s1()&&document.documentMode===10}function fF(n=Yt()){return _D(n)||uF(n)||hF(n)||dF(n)||/windows phone/i.test(n)||lF(n)}function pF(n,e=[]){let t;switch(n){case"Browser":t=$1(Yt());break;case"Worker":t=`${$1(Yt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${po}/${r}`}var ZI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function D8(t){return E(this,arguments,function*(n,e={}){return Eo(n,"GET","/v2/passwordPolicy",wo(n,e))})}var C8=6,JI=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:C8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var eD=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xm(this),this.idTokenSubscription=new Xm(this),this.beforeStateQueue=new ZI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vs(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield Ym.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield Km(this,{idToken:e}),r=yield _o._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(Kn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Qm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=u8()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Kn(this.app))return Promise.reject(_s(this));let t=e?dt(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Kn(this.app)?Promise.reject(_s(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kn(this.app)?Promise.reject(_s(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(vs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield D8(this),t=new JI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield b8(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&vs(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield Ym.create(this,[vs(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&a8(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ra(n){return dt(n)}var Xm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=l1(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var iy={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T8(n){iy=n}function gF(n){return iy.loadJS(n)}function S8(){return iy.recaptchaEnterpriseScript}function x8(){return iy.gapiScript}function mF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var tD=class{constructor(){this.enterprise=new nD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},nD=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var A8="recaptcha-enterprise",yF="NO_RECAPTCHA",rD=class{constructor(e){this.type=A8,this.auth=Ra(e)}verify(e="verify",t=!1){return E(this,null,function*(){function r(s){return E(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>E(this,null,function*(){g8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new QI(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;j1(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(yF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tD().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&j1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=S8();c.length!==0&&(c+=a),gF(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function Xd(n,e,t,r=!1,i=!1){return E(this,null,function*(){let s=new rD(n),o;if(i)o=yF;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function iD(n,e,t,r,i){return E(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Xd(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>E(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Xd(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield Xd(n,e,t);return r(n,a).catch(c=>E(this,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let u=yield Xd(n,e,t,!1,!0);return r(n,u)}return Promise.reject(c)}))}else{let a=yield Xd(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function bD(n,e){let t=bl(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Pi(s,e??{}))return i;Fi(i,"already-initialized")}return t.initialize({options:e})}function M8(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(vs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function wD(n,e,t){let r=Ra(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=vF(e),{host:o,port:a}=R8(e),c=a===null?"":`:${a}`,l={url:`${s}//${o}${c}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Pi(l,r.config.emulator)&&Pi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||P8()}function vF(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function R8(n){let e=vF(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:H1(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:H1(o)}}}function H1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function P8(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var nh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,t){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}};function k8(n,e){return E(this,null,function*(){return Eo(n,"POST","/v1/accounts:signUp",e)})}function N8(n,e){return E(this,null,function*(){return sh(n,"POST","/v1/accounts:signInWithPassword",wo(n,e))})}function O8(n,e){return E(this,null,function*(){return sh(n,"POST","/v1/accounts:signInWithEmailLink",wo(n,e))})}function F8(n,e){return E(this,null,function*(){return sh(n,"POST","/v1/accounts:signInWithEmailLink",wo(n,e))})}var rh=class n extends nh{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iD(e,t,"signInWithPassword",N8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return O8(e,{email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iD(e,r,"signUpPassword",k8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return F8(e,{idToken:t,email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function WI(n,e){return E(this,null,function*(){return sh(n,"POST","/v1/accounts:signInWithIdp",wo(n,e))})}function L8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V8(n){let e=vl(_l(n)).link,t=e?vl(_l(e)).deep_link_id:null,r=vl(_l(n)).deep_link_id;return(r?vl(_l(r)).link:null)||r||t||e||n}var Zm=class n{constructor(e){var t,r,i,s,o,a;let c=vl(_l(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=L8((i=c.mode)!==null&&i!==void 0?i:null);re(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=V8(e);try{return new n(t)}catch{return null}}};var _F=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return rh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Zm.parseLink(r);return re(i,"argument-error"),rh._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Jm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sD=class extends Jm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function j8(n,e){return E(this,null,function*(){return sh(n,"POST","/v1/accounts:signUp",wo(n,e))})}var Dl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let s=yield _o._fromIdTokenResponse(e,r,i),o=z1(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=z1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function z1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var oD=class n extends cr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function bF(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?oD._fromErrorAndOperation(n,s,e,r):s})}function B8(n,e,t=!1){return E(this,null,function*(){let r=yield eh(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Dl._forOperation(n,"link",r)})}function U8(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(Kn(r.app))return Promise.reject(_s(r));let i="reauthenticate";try{let s=yield eh(n,bF(r,i,e,n),t);re(s.idToken,r,"internal-error");let o=yD(s.idToken);re(o,r,"internal-error");let{sub:a}=o;return re(n.uid===a,r,"user-mismatch"),Dl._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Fi(r,"user-mismatch"),s}})}function wF(n,e,t=!1){return E(this,null,function*(){if(Kn(n.app))return Promise.reject(_s(n));let r="signIn",i=yield bF(n,r,e),s=yield Dl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function ED(n,e){return E(this,null,function*(){return wF(Ra(n),e)})}function EF(n){return E(this,null,function*(){let e=Ra(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function sy(n,e,t){return E(this,null,function*(){if(Kn(n.app))return Promise.reject(_s(n));let r=Ra(n),o=yield iD(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j8,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&EF(n),c}),a=yield Dl._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function oy(n,e,t){return Kn(n.app)?Promise.reject(_s(n)):ED(dt(n),_F.credential(e,t)).catch(r=>E(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&EF(n),r}))}function oh(n,e,t,r){return dt(n).onIdTokenChanged(e,t,r)}function ID(n,e,t){return dt(n).beforeAuthStateChanged(e,t)}function ah(n,e,t,r){return dt(n).onAuthStateChanged(e,t,r)}function ay(n){return dt(n).signOut()}var ey="__sak";var ty=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ey,"1"),this.storage.removeItem(ey),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var $8=1e3,H8=10,z8=(()=>{class n extends ty{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);I8()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,H8):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},$8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield Us(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield Us(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield Us(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),IF=z8;var W8=(()=>{class n extends ty{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),DD=W8;function q8(n){return Promise.all(n.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var G8=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>E(this,null,function*(){return u(r.origin,o)})),l=yield q8(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function DF(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var aD=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=DF("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Oi(){return window}function K8(n){Oi().location.href=n}function CF(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}function Q8(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Y8(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function X8(){return CF()?self:null}var TF="firebaseLocalStorageDb",Z8=1,ny="firebaseLocalStorage",SF="fbase_key",Ma=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function cy(n,e){return n.transaction([ny],e?"readwrite":"readonly").objectStore(ny)}function J8(){let n=indexedDB.deleteDatabase(TF);return new Ma(n).toPromise()}function cD(){let n=indexedDB.open(TF,Z8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(ny,{keyPath:SF})}catch(i){t(i)}}),n.addEventListener("success",()=>E(this,null,function*(){let r=n.result;r.objectStoreNames.contains(ny)?e(r):(r.close(),yield J8(),e(yield cD()))}))})}function W1(n,e,t){return E(this,null,function*(){let r=cy(n,!0).put({[SF]:e,value:t});return new Ma(r).toPromise()})}function eK(n,e){return E(this,null,function*(){let t=cy(n,!1).get(e),r=yield new Ma(t).toPromise();return r===void 0?null:r.value})}function q1(n,e){let t=cy(n,!0).delete(e);return new Ma(t).toPromise()}var tK=800,nK=3,rK=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield cD(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>nK)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return CF()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=G8._getInstance(X8()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Q8(),!this.activeServiceWorker)return;this.sender=new aD(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Y8()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield cD();return yield W1(t,ey,"1"),yield q1(t,ey),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>W1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>eK(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>q1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(s=>{let o=cy(s,!1).getAll();return new Ma(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),tK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),xF=rK;var nge=mF("rcb"),rge=new Aa(3e4,6e4);function iK(n,e){return e?vs(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ih=class extends nh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return WI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return WI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return WI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function sK(n){return wF(n.auth,new ih(n),n.bypassAuthState)}function oK(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),U8(t,new ih(n),n.bypassAuthState)}function aK(n){return E(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),B8(t,new ih(n),n.bypassAuthState)})}var lD=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sK;case"linkViaPopup":case"linkViaRedirect":return aK;case"reauthViaPopup":case"reauthViaRedirect":return oK;default:Fi(this.auth,"internal-error")}}resolve(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ige=new Aa(2e3,1e4);var cK="pendingRedirect",zm=new Map,uD=class n extends lD{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=zm.get(this.auth._key());if(!e){try{let r=(yield lK(this.resolver,this.auth))?yield Us(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zm.set(this.auth._key(),e)}return this.bypassAuthState||zm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Us(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Us(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function lK(n,e){return E(this,null,function*(){let t=hK(e),r=dK(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function uK(n,e){zm.set(n._key(),e)}function dK(n){return vs(n._redirectPersistence)}function hK(n){return Hm(cK,n.config.apiKey,n.name)}function fK(n,e,t=!1){return E(this,null,function*(){if(Kn(n.app))return Promise.reject(_s(n));let r=Ra(n),i=iK(r,e),o=yield new uD(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var pK=10*60*1e3,dD=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gK(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!AF(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(xa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pK&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}};function G1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AF({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function gK(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AF(n);default:return!1}}function mK(t){return E(this,arguments,function*(n,e={}){return Eo(n,"GET","/v1/projects",e)})}var yK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vK=/^https?/;function _K(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield mK(n);for(let t of e)try{if(bK(t))return}catch{}Fi(n,"unauthorized-domain")})}function bK(n){let e=GI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!vK.test(t))return!1;if(yK.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var wK=new Aa(3e4,6e4);function K1(){let n=Oi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EK(n){return new Promise((e,t)=>{var r,i,s;function o(){K1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K1(),t(xa(n,"network-request-failed"))},timeout:wK.get()})}if(!((i=(r=Oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Oi().gapi)===null||s===void 0)&&s.load)o();else{let a=mF("iframefcb");return Oi()[a]=()=>{gapi.load?o():t(xa(n,"network-request-failed"))},gF(`${x8()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Wm=null,e})}var Wm=null;function IK(n){return Wm=Wm||EK(n),Wm}var DK=new Aa(5e3,15e3),CK="__/auth/iframe",TK="emulator/auth/iframe",SK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AK(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?gD(e,TK):`https://${n.config.authDomain}/${CK}`,r={apiKey:e.apiKey,appName:n.name,v:po},i=xK.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Wd(r).slice(1)}`}function MK(n){return E(this,null,function*(){let e=yield IK(n),t=Oi().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:AK(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SK,dontclear:!0},r=>new Promise((i,s)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=xa(n,"network-request-failed"),a=Oi().setTimeout(()=>{s(o)},DK.get());function c(){Oi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var RK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PK=500,kK=600,NK="_blank",OK="http://localhost",ry=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FK(n,e,t,r=PK,i=kK){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},RK),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Yt().toLowerCase();t&&(a=cF(l)?NK:t),oF(l)&&(e=e||OK,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(E8(l)&&a!=="_self")return LK(e||"",a),new ry(null);let h=window.open(e||"",a,u);re(h,n,"popup-blocked");try{h.focus()}catch{}return new ry(h)}function LK(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var VK="__/auth/handler",jK="emulator/auth/handler",BK=encodeURIComponent("fac");function Q1(n,e,t,r,i,s){return E(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:po,eventId:i};if(e instanceof Jm){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",c1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof sD){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield n._getAppCheckToken(),l=c?`#${BK}=${encodeURIComponent(c)}`:"";return`${UK(n)}?${Wd(a).slice(1)}${l}`})}function UK({config:n}){return n.emulator?gD(n,jK):`https://${n.authDomain}/${VK}`}var qI="webStorageSupport",hD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DD,this._completeRedirectFn=fK,this._overrideRedirectResult=uK}_openPopup(e,t,r,i){return E(this,null,function*(){var s;bo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Q1(e,t,r,GI(),i);return FK(e,o,DF())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let s=yield Q1(e,t,r,GI(),i);return K8(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(bo(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield MK(e),r=new dD(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qI,{type:qI},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[qI];o!==void 0&&t(!!o),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_K(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fF()||aF()||_D()}},MF=hD;var Y1="@firebase/auth",X1="1.10.1";var fD=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $K(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HK(n){ei(new Nn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pF(n)},l=new eD(r,i,s,c);return M8(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ei(new Nn("auth-internal",e=>{let t=Ra(e.getProvider("auth").getImmediate());return(r=>new fD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wt(Y1,X1,$K(n)),wt(Y1,X1,"esm2017")}var zK=5*60,WK=bI("authIdTokenMaxAge")||zK,Z1=null,qK=n=>e=>E(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>WK)return;let i=t?.token;Z1!==i&&(Z1=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function CD(n=Ca()){let e=bl(n,"auth");if(e.isInitialized())return e.getImmediate();let t=bD(n,{popupRedirectResolver:MF,persistence:[xF,IF,DD]}),r=bI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=qK(s.toString());ID(t,o,()=>o(t.currentUser)),oh(t,a=>o(a))}}let i=vI("auth");return i&&wD(t,`http://${i}`),t}function GK(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}T8({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=xa("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",GK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HK("Browser");function PF(n){return new ue(function(e){var t=oh(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var kF="auth",zt=class{constructor(e){return e}},ch=class{constructor(){return El(kF)}};var TD=new Q("angularfire2.auth-instances");function N7(n,e){let t=Kd(kF,n,e);return t&&new zt(t)}function O7(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new zt(r)}}var F7={provide:ch,deps:[[new Mn,TD]]},L7={provide:zt,useFactory:N7,deps:[[new Mn,TD],ti]};function NF(n,...e){return wt("angularfire",go.full,"auth"),yr([L7,F7,{provide:TD,useFactory:O7(n),multi:!0,deps:[xe,bt,mo,Sa,[new Mn,Il],...e]}])}var OF=Ht(PF,!0);var FF=Ht(CD,!0);var LF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VF={};var bs,SD;(function(){var n;function e(D,w){function I(){}I.prototype=w.prototype,D.D=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(S,A,P){for(var T=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)T[pt-2]=arguments[pt];return w.prototype[A].apply(S,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,w,I){I||(I=0);var S=Array(16);if(typeof w=="string")for(var A=0;16>A;++A)S[A]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(A=0;16>A;++A)S[A]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],A=D.g[2];var P=D.g[3],T=w+(P^I&(A^P))+S[0]+3614090360&4294967295;w=I+(T<<7&4294967295|T>>>25),T=P+(A^w&(I^A))+S[1]+3905402710&4294967295,P=w+(T<<12&4294967295|T>>>20),T=A+(I^P&(w^I))+S[2]+606105819&4294967295,A=P+(T<<17&4294967295|T>>>15),T=I+(w^A&(P^w))+S[3]+3250441966&4294967295,I=A+(T<<22&4294967295|T>>>10),T=w+(P^I&(A^P))+S[4]+4118548399&4294967295,w=I+(T<<7&4294967295|T>>>25),T=P+(A^w&(I^A))+S[5]+1200080426&4294967295,P=w+(T<<12&4294967295|T>>>20),T=A+(I^P&(w^I))+S[6]+2821735955&4294967295,A=P+(T<<17&4294967295|T>>>15),T=I+(w^A&(P^w))+S[7]+4249261313&4294967295,I=A+(T<<22&4294967295|T>>>10),T=w+(P^I&(A^P))+S[8]+1770035416&4294967295,w=I+(T<<7&4294967295|T>>>25),T=P+(A^w&(I^A))+S[9]+2336552879&4294967295,P=w+(T<<12&4294967295|T>>>20),T=A+(I^P&(w^I))+S[10]+4294925233&4294967295,A=P+(T<<17&4294967295|T>>>15),T=I+(w^A&(P^w))+S[11]+2304563134&4294967295,I=A+(T<<22&4294967295|T>>>10),T=w+(P^I&(A^P))+S[12]+1804603682&4294967295,w=I+(T<<7&4294967295|T>>>25),T=P+(A^w&(I^A))+S[13]+4254626195&4294967295,P=w+(T<<12&4294967295|T>>>20),T=A+(I^P&(w^I))+S[14]+2792965006&4294967295,A=P+(T<<17&4294967295|T>>>15),T=I+(w^A&(P^w))+S[15]+1236535329&4294967295,I=A+(T<<22&4294967295|T>>>10),T=w+(A^P&(I^A))+S[1]+4129170786&4294967295,w=I+(T<<5&4294967295|T>>>27),T=P+(I^A&(w^I))+S[6]+3225465664&4294967295,P=w+(T<<9&4294967295|T>>>23),T=A+(w^I&(P^w))+S[11]+643717713&4294967295,A=P+(T<<14&4294967295|T>>>18),T=I+(P^w&(A^P))+S[0]+3921069994&4294967295,I=A+(T<<20&4294967295|T>>>12),T=w+(A^P&(I^A))+S[5]+3593408605&4294967295,w=I+(T<<5&4294967295|T>>>27),T=P+(I^A&(w^I))+S[10]+38016083&4294967295,P=w+(T<<9&4294967295|T>>>23),T=A+(w^I&(P^w))+S[15]+3634488961&4294967295,A=P+(T<<14&4294967295|T>>>18),T=I+(P^w&(A^P))+S[4]+3889429448&4294967295,I=A+(T<<20&4294967295|T>>>12),T=w+(A^P&(I^A))+S[9]+568446438&4294967295,w=I+(T<<5&4294967295|T>>>27),T=P+(I^A&(w^I))+S[14]+3275163606&4294967295,P=w+(T<<9&4294967295|T>>>23),T=A+(w^I&(P^w))+S[3]+4107603335&4294967295,A=P+(T<<14&4294967295|T>>>18),T=I+(P^w&(A^P))+S[8]+1163531501&4294967295,I=A+(T<<20&4294967295|T>>>12),T=w+(A^P&(I^A))+S[13]+2850285829&4294967295,w=I+(T<<5&4294967295|T>>>27),T=P+(I^A&(w^I))+S[2]+4243563512&4294967295,P=w+(T<<9&4294967295|T>>>23),T=A+(w^I&(P^w))+S[7]+1735328473&4294967295,A=P+(T<<14&4294967295|T>>>18),T=I+(P^w&(A^P))+S[12]+2368359562&4294967295,I=A+(T<<20&4294967295|T>>>12),T=w+(I^A^P)+S[5]+4294588738&4294967295,w=I+(T<<4&4294967295|T>>>28),T=P+(w^I^A)+S[8]+2272392833&4294967295,P=w+(T<<11&4294967295|T>>>21),T=A+(P^w^I)+S[11]+1839030562&4294967295,A=P+(T<<16&4294967295|T>>>16),T=I+(A^P^w)+S[14]+4259657740&4294967295,I=A+(T<<23&4294967295|T>>>9),T=w+(I^A^P)+S[1]+2763975236&4294967295,w=I+(T<<4&4294967295|T>>>28),T=P+(w^I^A)+S[4]+1272893353&4294967295,P=w+(T<<11&4294967295|T>>>21),T=A+(P^w^I)+S[7]+4139469664&4294967295,A=P+(T<<16&4294967295|T>>>16),T=I+(A^P^w)+S[10]+3200236656&4294967295,I=A+(T<<23&4294967295|T>>>9),T=w+(I^A^P)+S[13]+681279174&4294967295,w=I+(T<<4&4294967295|T>>>28),T=P+(w^I^A)+S[0]+3936430074&4294967295,P=w+(T<<11&4294967295|T>>>21),T=A+(P^w^I)+S[3]+3572445317&4294967295,A=P+(T<<16&4294967295|T>>>16),T=I+(A^P^w)+S[6]+76029189&4294967295,I=A+(T<<23&4294967295|T>>>9),T=w+(I^A^P)+S[9]+3654602809&4294967295,w=I+(T<<4&4294967295|T>>>28),T=P+(w^I^A)+S[12]+3873151461&4294967295,P=w+(T<<11&4294967295|T>>>21),T=A+(P^w^I)+S[15]+530742520&4294967295,A=P+(T<<16&4294967295|T>>>16),T=I+(A^P^w)+S[2]+3299628645&4294967295,I=A+(T<<23&4294967295|T>>>9),T=w+(A^(I|~P))+S[0]+4096336452&4294967295,w=I+(T<<6&4294967295|T>>>26),T=P+(I^(w|~A))+S[7]+1126891415&4294967295,P=w+(T<<10&4294967295|T>>>22),T=A+(w^(P|~I))+S[14]+2878612391&4294967295,A=P+(T<<15&4294967295|T>>>17),T=I+(P^(A|~w))+S[5]+4237533241&4294967295,I=A+(T<<21&4294967295|T>>>11),T=w+(A^(I|~P))+S[12]+1700485571&4294967295,w=I+(T<<6&4294967295|T>>>26),T=P+(I^(w|~A))+S[3]+2399980690&4294967295,P=w+(T<<10&4294967295|T>>>22),T=A+(w^(P|~I))+S[10]+4293915773&4294967295,A=P+(T<<15&4294967295|T>>>17),T=I+(P^(A|~w))+S[1]+2240044497&4294967295,I=A+(T<<21&4294967295|T>>>11),T=w+(A^(I|~P))+S[8]+1873313359&4294967295,w=I+(T<<6&4294967295|T>>>26),T=P+(I^(w|~A))+S[15]+4264355552&4294967295,P=w+(T<<10&4294967295|T>>>22),T=A+(w^(P|~I))+S[6]+2734768916&4294967295,A=P+(T<<15&4294967295|T>>>17),T=I+(P^(A|~w))+S[13]+1309151649&4294967295,I=A+(T<<21&4294967295|T>>>11),T=w+(A^(I|~P))+S[4]+4149444226&4294967295,w=I+(T<<6&4294967295|T>>>26),T=P+(I^(w|~A))+S[11]+3174756917&4294967295,P=w+(T<<10&4294967295|T>>>22),T=A+(w^(P|~I))+S[2]+718787259&4294967295,A=P+(T<<15&4294967295|T>>>17),T=I+(P^(A|~w))+S[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+P&4294967295}r.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var I=w-this.blockSize,S=this.B,A=this.h,P=0;P<w;){if(A==0)for(;P<=I;)i(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<w;)if(S[A++]=D.charCodeAt(P++),A==this.blockSize){i(this,S),A=0;break}}else for(;P<w;)if(S[A++]=D[P++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var I=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=I&255,I/=256;for(this.u(D),D=Array(16),w=I=0;4>w;++w)for(var S=0;32>S;S+=8)D[I++]=this.g[w]>>>S&255;return D};function s(D,w){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function o(D,w){this.h=w;for(var I=[],S=!0,A=D.length-1;0<=A;A--){var P=D[A]|0;S&&P==w||(I[A]=P,S=!1)}this.g=I}var a={};function c(D){return-128<=D&&128>D?s(D,function(w){return new o([w|0],0>w?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return _(l(-D));for(var w=[],I=1,S=0;D>=I;S++)w[S]=D/I|0,I*=4294967296;return new o(w,0)}function u(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return _(u(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(w,8)),S=h,A=0;A<D.length;A+=8){var P=Math.min(8,D.length-A),T=parseInt(D.substring(A,A+P),w);8>P?(P=l(Math.pow(w,P)),S=S.j(P).add(l(T))):(S=S.j(I),S=S.add(l(T)))}return S}var h=c(0),f=c(1),p=c(16777216);n=o.prototype,n.m=function(){if(v(this))return-_(this).m();for(var D=0,w=1,I=0;I<this.g.length;I++){var S=this.i(I);D+=(0<=S?S:4294967296+S)*w,w*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(m(this))return"0";if(v(this))return"-"+_(this).toString(D);for(var w=l(Math.pow(D,6)),I=this,S="";;){var A=j(I,w).g;I=C(I,A.j(w));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=A,m(I))return P+S;for(;6>P.length;)P="0"+P;S=P+S}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function m(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function v(D){return D.h==-1}n.l=function(D){return D=C(this,D),v(D)?-1:m(D)?0:1};function _(D){for(var w=D.g.length,I=[],S=0;S<w;S++)I[S]=~D.g[S];return new o(I,~D.h).add(f)}n.abs=function(){return v(this)?_(this):this},n.add=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],S=0,A=0;A<=w;A++){var P=S+(this.i(A)&65535)+(D.i(A)&65535),T=(P>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);S=T>>>16,P&=65535,T&=65535,I[A]=T<<16|P}return new o(I,I[I.length-1]&-2147483648?-1:0)};function C(D,w){return D.add(_(w))}n.j=function(D){if(m(this)||m(D))return h;if(v(this))return v(D)?_(this).j(_(D)):_(_(this).j(D));if(v(D))return _(this.j(_(D)));if(0>this.l(p)&&0>D.l(p))return l(this.m()*D.m());for(var w=this.g.length+D.g.length,I=[],S=0;S<2*w;S++)I[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<D.g.length;A++){var P=this.i(S)>>>16,T=this.i(S)&65535,pt=D.i(A)>>>16,Re=D.i(A)&65535;I[2*S+2*A]+=T*Re,x(I,2*S+2*A),I[2*S+2*A+1]+=P*Re,x(I,2*S+2*A+1),I[2*S+2*A+1]+=T*pt,x(I,2*S+2*A+1),I[2*S+2*A+2]+=P*pt,x(I,2*S+2*A+2)}for(S=0;S<w;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=w;S<2*w;S++)I[S]=0;return new o(I,0)};function x(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function N(D,w){this.g=D,this.h=w}function j(D,w){if(m(w))throw Error("division by zero");if(m(D))return new N(h,h);if(v(D))return w=j(_(D),w),new N(_(w.g),_(w.h));if(v(w))return w=j(D,_(w)),new N(_(w.g),w.h);if(30<D.g.length){if(v(D)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var I=f,S=w;0>=S.l(D);)I=L(I),S=L(S);var A=B(I,1),P=B(S,1);for(S=B(S,2),I=B(I,2);!m(S);){var T=P.add(S);0>=T.l(D)&&(A=A.add(I),P=T),S=B(S,1),I=B(I,1)}return w=C(D,A.j(w)),new N(A,w)}for(A=h;0<=D.l(w);){for(I=Math.max(1,Math.floor(D.m()/w.m())),S=Math.ceil(Math.log(I)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),P=l(I),T=P.j(w);v(T)||0<T.l(D);)I-=S,P=l(I),T=P.j(w);m(P)&&(P=f),A=A.add(P),D=C(D,T)}return new N(A,D)}n.A=function(D){return j(this,D).h},n.and=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],S=0;S<w;S++)I[S]=this.i(S)&D.i(S);return new o(I,this.h&D.h)},n.or=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],S=0;S<w;S++)I[S]=this.i(S)|D.i(S);return new o(I,this.h|D.h)},n.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],S=0;S<w;S++)I[S]=this.i(S)^D.i(S);return new o(I,this.h^D.h)};function L(D){for(var w=D.g.length+1,I=[],S=0;S<w;S++)I[S]=D.i(S)<<1|D.i(S-1)>>>31;return new o(I,D.h)}function B(D,w){var I=w>>5;w%=32;for(var S=D.g.length-I,A=[],P=0;P<S;P++)A[P]=0<w?D.i(P+I)>>>w|D.i(P+I+1)<<32-w:D.i(P+I);return new o(A,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SD=VF.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,bs=VF.Integer=o}).apply(typeof LF<"u"?LF:typeof self<"u"?self:typeof window<"u"?window:{});var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ws={};var xD,V7,Cl,AD,lh,uy,MD,RD,PD;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,y){return d==Array.prototype||d==Object.prototype||(d[g]=y.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ly=="object"&&ly];for(var g=0;g<d.length;++g){var y=d[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=t(this);function i(d,g){if(g)e:{var y=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var k=d[b];if(!(k in y))break e;y=y[k]}d=d[d.length-1],b=y[d],g=g(b),g!=b&&g!=null&&e(y,d,{configurable:!0,writable:!0,value:g})}}function s(d,g){d instanceof String&&(d+="");var y=0,b=!1,k={next:function(){if(!b&&y<d.length){var V=y++;return{value:g(V,d[V]),done:!1}}return b=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(d){return d||function(){return s(this,function(g,y){return y})}});var o=o||{},a=this||self;function c(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function l(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function u(d,g,y){return d.call.apply(d.bind,arguments)}function h(d,g,y){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,b),d.apply(g,k)}}return function(){return d.apply(g,arguments)}}function f(d,g,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,g){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function m(d,g){function y(){}y.prototype=g.prototype,d.aa=g.prototype,d.prototype=new y,d.prototype.constructor=d,d.Qb=function(b,k,V){for(var W=Array(arguments.length-2),We=2;We<arguments.length;We++)W[We-2]=arguments[We];return g.prototype[k].apply(b,W)}}function v(d){let g=d.length;if(0<g){let y=Array(g);for(let b=0;b<g;b++)y[b]=d[b];return y}return[]}function _(d,g){for(let y=1;y<arguments.length;y++){let b=arguments[y];if(c(b)){let k=d.length||0,V=b.length||0;d.length=k+V;for(let W=0;W<V;W++)d[k+W]=b[W]}else d.push(b)}}class C{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(d){return/^[\s\xa0]*$/.test(d)}function N(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var L=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function B(d,g,y){for(let b in d)g.call(y,d[b],b,d)}function D(d,g){for(let y in d)g.call(void 0,d[y],y,d)}function w(d){let g={};for(let y in d)g[y]=d[y];return g}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(d,g){let y,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(y in b)d[y]=b[y];for(let V=0;V<I.length;V++)y=I[V],Object.prototype.hasOwnProperty.call(b,y)&&(d[y]=b[y])}}function A(d){var g=1;d=d.split(":");let y=[];for(;0<g&&d.length;)y.push(d.shift()),g--;return d.length&&y.push(d.join(":")),y}function P(d){a.setTimeout(()=>{throw d},0)}function T(){var d=At;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class pt{constructor(){this.h=this.g=null}add(g,y){let b=Re.get();b.set(g,y),this.h?this.h.next=b:this.g=b,this.h=b}}var Re=new C(()=>new Je,d=>d.reset());class Je{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,en=!1,At=new pt,Qi=()=>{let d=a.Promise.resolve(void 0);ze=()=>{d.then(sc)}};var sc=()=>{for(var d;d=T();){try{d.h.call(d.g)}catch(y){P(y)}var g=Re;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}en=!1};function Cn(){this.s=this.s,this.C=this.C}Cn.prototype.s=!1,Cn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Cn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var Yi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let y=()=>{};a.addEventListener("test",y,g),a.removeEventListener("test",y,g)}catch{}return d}();function Nr(d,g){if(vt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var y=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(L){e:{try{j(g.nodeName);var k=!0;break e}catch{}k=!1}k||(g=null)}}else y=="mouseover"?g=d.fromElement:y=="mouseout"&&(g=d.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Xi[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Nr.aa.h.call(this)}}m(Nr,vt);var Xi={2:"touch",3:"pen",4:"mouse"};Nr.prototype.h=function(){Nr.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var du="closure_listenable_"+(1e6*Math.random()|0),tU=0;function nU(d,g,y,b,k){this.listener=d,this.proxy=null,this.src=g,this.type=y,this.capture=!!b,this.ha=k,this.key=++tU,this.da=this.fa=!1}function Sf(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function xf(d){this.src=d,this.g={},this.h=0}xf.prototype.add=function(d,g,y,b,k){var V=d.toString();d=this.g[V],d||(d=this.g[V]=[],this.h++);var W=L_(d,g,b,k);return-1<W?(g=d[W],y||(g.fa=!1)):(g=new nU(g,this.src,V,!!b,k),g.fa=y,d.push(g)),g};function F_(d,g){var y=g.type;if(y in d.g){var b=d.g[y],k=Array.prototype.indexOf.call(b,g,void 0),V;(V=0<=k)&&Array.prototype.splice.call(b,k,1),V&&(Sf(g),d.g[y].length==0&&(delete d.g[y],d.h--))}}function L_(d,g,y,b){for(var k=0;k<d.length;++k){var V=d[k];if(!V.da&&V.listener==g&&V.capture==!!y&&V.ha==b)return k}return-1}var V_="closure_lm_"+(1e6*Math.random()|0),j_={};function yx(d,g,y,b,k){if(b&&b.once)return _x(d,g,y,b,k);if(Array.isArray(g)){for(var V=0;V<g.length;V++)yx(d,g[V],y,b,k);return null}return y=H_(y),d&&d[du]?d.K(g,y,l(b)?!!b.capture:!!b,k):vx(d,g,y,!1,b,k)}function vx(d,g,y,b,k,V){if(!g)throw Error("Invalid event type");var W=l(k)?!!k.capture:!!k,We=U_(d);if(We||(d[V_]=We=new xf(d)),y=We.add(g,y,b,W,V),y.proxy)return y;if(b=rU(),y.proxy=b,b.src=d,b.listener=y,d.addEventListener)Yi||(k=W),k===void 0&&(k=!1),d.addEventListener(g.toString(),b,k);else if(d.attachEvent)d.attachEvent(wx(g.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function rU(){function d(y){return g.call(d.src,d.listener,y)}let g=iU;return d}function _x(d,g,y,b,k){if(Array.isArray(g)){for(var V=0;V<g.length;V++)_x(d,g[V],y,b,k);return null}return y=H_(y),d&&d[du]?d.L(g,y,l(b)?!!b.capture:!!b,k):vx(d,g,y,!0,b,k)}function bx(d,g,y,b,k){if(Array.isArray(g))for(var V=0;V<g.length;V++)bx(d,g[V],y,b,k);else b=l(b)?!!b.capture:!!b,y=H_(y),d&&d[du]?(d=d.i,g=String(g).toString(),g in d.g&&(V=d.g[g],y=L_(V,y,b,k),-1<y&&(Sf(V[y]),Array.prototype.splice.call(V,y,1),V.length==0&&(delete d.g[g],d.h--)))):d&&(d=U_(d))&&(g=d.g[g.toString()],d=-1,g&&(d=L_(g,y,b,k)),(y=-1<d?g[d]:null)&&B_(y))}function B_(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[du])F_(g.i,d);else{var y=d.type,b=d.proxy;g.removeEventListener?g.removeEventListener(y,b,d.capture):g.detachEvent?g.detachEvent(wx(y),b):g.addListener&&g.removeListener&&g.removeListener(b),(y=U_(g))?(F_(y,d),y.h==0&&(y.src=null,g[V_]=null)):Sf(d)}}}function wx(d){return d in j_?j_[d]:j_[d]="on"+d}function iU(d,g){if(d.da)d=!0;else{g=new Nr(g,this);var y=d.listener,b=d.ha||d.src;d.fa&&B_(d),d=y.call(b,g)}return d}function U_(d){return d=d[V_],d instanceof xf?d:null}var $_="__closure_events_fn_"+(1e9*Math.random()>>>0);function H_(d){return typeof d=="function"?d:(d[$_]||(d[$_]=function(g){return d.handleEvent(g)}),d[$_])}function pn(){Cn.call(this),this.i=new xf(this),this.M=this,this.F=null}m(pn,Cn),pn.prototype[du]=!0,pn.prototype.removeEventListener=function(d,g,y,b){bx(this,d,g,y,b)};function Tn(d,g){var y,b=d.F;if(b)for(y=[];b;b=b.F)y.push(b);if(d=d.M,b=g.type||g,typeof g=="string")g=new vt(g,d);else if(g instanceof vt)g.target=g.target||d;else{var k=g;g=new vt(b,d),S(g,k)}if(k=!0,y)for(var V=y.length-1;0<=V;V--){var W=g.g=y[V];k=Af(W,b,!0,g)&&k}if(W=g.g=d,k=Af(W,b,!0,g)&&k,k=Af(W,b,!1,g)&&k,y)for(V=0;V<y.length;V++)W=g.g=y[V],k=Af(W,b,!1,g)&&k}pn.prototype.N=function(){if(pn.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var y=d.g[g],b=0;b<y.length;b++)Sf(y[b]);delete d.g[g],d.h--}}this.F=null},pn.prototype.K=function(d,g,y,b){return this.i.add(String(d),g,!1,y,b)},pn.prototype.L=function(d,g,y,b){return this.i.add(String(d),g,!0,y,b)};function Af(d,g,y,b){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,V=0;V<g.length;++V){var W=g[V];if(W&&!W.da&&W.capture==y){var We=W.listener,tn=W.ha||W.src;W.fa&&F_(d.i,W),k=We.call(tn,b)!==!1&&k}}return k&&!b.defaultPrevented}function Ex(d,g,y){if(typeof d=="function")y&&(d=f(d,y));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Ix(d){d.g=Ex(()=>{d.g=null,d.i&&(d.i=!1,Ix(d))},d.l);let g=d.h;d.h=null,d.m.apply(null,g)}class sU extends Cn{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ix(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hu(d){Cn.call(this),this.h=d,this.g={}}m(hu,Cn);var Dx=[];function Cx(d){B(d.g,function(g,y){this.g.hasOwnProperty(y)&&B_(g)},d),d.g={}}hu.prototype.N=function(){hu.aa.N.call(this),Cx(this)},hu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var z_=a.JSON.stringify,oU=a.JSON.parse,aU=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function W_(){}W_.prototype.h=null;function Tx(d){return d.h||(d.h=d.i())}function Sx(){}var fu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function q_(){vt.call(this,"d")}m(q_,vt);function G_(){vt.call(this,"c")}m(G_,vt);var $o={},xx=null;function Mf(){return xx=xx||new pn}$o.La="serverreachability";function Ax(d){vt.call(this,$o.La,d)}m(Ax,vt);function pu(d){let g=Mf();Tn(g,new Ax(g))}$o.STAT_EVENT="statevent";function Mx(d,g){vt.call(this,$o.STAT_EVENT,d),this.stat=g}m(Mx,vt);function Sn(d){let g=Mf();Tn(g,new Mx(g,d))}$o.Ma="timingevent";function Rx(d,g){vt.call(this,$o.Ma,d),this.size=g}m(Rx,vt);function gu(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function mu(){this.g=!0}mu.prototype.xa=function(){this.g=!1};function cU(d,g,y,b,k,V){d.info(function(){if(d.g)if(V)for(var W="",We=V.split("&"),tn=0;tn<We.length;tn++){var Fe=We[tn].split("=");if(1<Fe.length){var gn=Fe[0];Fe=Fe[1];var mn=gn.split("_");W=2<=mn.length&&mn[1]=="type"?W+(gn+"="+Fe+"&"):W+(gn+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+g+`
`+y+`
`+W})}function lU(d,g,y,b,k,V,W){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+g+`
`+y+`
`+V+" "+W})}function oc(d,g,y,b){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+dU(d,y)+(b?" "+b:"")})}function uU(d,g){d.info(function(){return"TIMEOUT: "+g})}mu.prototype.info=function(){};function dU(d,g){if(!d.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(d=0;d<y.length;d++)if(Array.isArray(y[d])){var b=y[d];if(!(2>b.length)){var k=b[1];if(Array.isArray(k)&&!(1>k.length)){var V=k[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<k.length;W++)k[W]=""}}}}return z_(y)}catch{return g}}var Rf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Px={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},K_;function Pf(){}m(Pf,W_),Pf.prototype.g=function(){return new XMLHttpRequest},Pf.prototype.i=function(){return{}},K_=new Pf;function Vs(d,g,y,b){this.j=d,this.i=g,this.l=y,this.R=b||1,this.U=new hu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kx}function kx(){this.i=null,this.g="",this.h=!1}var Nx={},Q_={};function Y_(d,g,y){d.L=1,d.v=Ff(Zi(g)),d.m=y,d.P=!0,Ox(d,null)}function Ox(d,g){d.F=Date.now(),kf(d),d.A=Zi(d.v);var y=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),Qx(y.i,"t",b),d.C=0,y=d.j.J,d.h=new kx,d.g=fA(d.j,y?g:null,!d.m),0<d.O&&(d.M=new sU(f(d.Y,d,d.g),d.O)),g=d.U,y=d.g,b=d.ca;var k="readystatechange";Array.isArray(k)||(k&&(Dx[0]=k.toString()),k=Dx);for(var V=0;V<k.length;V++){var W=yx(y,k[V],b||g.handleEvent,!1,g.h||g);if(!W)break;g.g[W.key]=W}g=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),pu(),cU(d.i,d.u,d.A,d.l,d.R,d.m)}Vs.prototype.ca=function(d){d=d.target;let g=this.M;g&&Ji(d)==3?g.j():this.Y(d)},Vs.prototype.Y=function(d){try{if(d==this.g)e:{let mn=Ji(this.g);var g=this.g.Ba();let lc=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||nA(this.g)))){this.J||mn!=4||g==7||(g==8||0>=lc?pu(3):pu(2)),X_(this);var y=this.g.Z();this.X=y;t:if(Fx(this)){var b=nA(this.g);d="";var k=b.length,V=Ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ho(this),yu(this);var W="";break t}this.h.i=new a.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,d+=this.h.i.decode(b[g],{stream:!(V&&g==k-1)});b.length=0,this.h.g+=d,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,lU(this.i,this.u,this.A,this.l,this.R,mn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var We,tn=this.g;if((We=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(We)){var Fe=We;break t}}Fe=null}if(y=Fe)oc(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Z_(this,y);else{this.o=!1,this.s=3,Sn(12),Ho(this),yu(this);break e}}if(this.P){y=!0;let Or;for(;!this.J&&this.C<W.length;)if(Or=hU(this,W),Or==Q_){mn==4&&(this.s=4,Sn(14),y=!1),oc(this.i,this.l,null,"[Incomplete Response]");break}else if(Or==Nx){this.s=4,Sn(15),oc(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else oc(this.i,this.l,Or,null),Z_(this,Or);if(Fx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||W.length!=0||this.h.h||(this.s=1,Sn(16),y=!1),this.o=this.o&&y,!y)oc(this.i,this.l,W,"[Invalid Chunked Response]"),Ho(this),yu(this);else if(0<W.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ib(gn),gn.M=!0,Sn(11))}}else oc(this.i,this.l,W,null),Z_(this,W);mn==4&&Ho(this),this.o&&!this.J&&(mn==4?lA(this.j,this):(this.o=!1,kf(this)))}else AU(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Sn(12)):(this.s=0,Sn(13)),Ho(this),yu(this)}}}catch{}finally{}};function Fx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function hU(d,g){var y=d.C,b=g.indexOf(`
`,y);return b==-1?Q_:(y=Number(g.substring(y,b)),isNaN(y)?Nx:(b+=1,b+y>g.length?Q_:(g=g.slice(b,b+y),d.C=b+y,g)))}Vs.prototype.cancel=function(){this.J=!0,Ho(this)};function kf(d){d.S=Date.now()+d.I,Lx(d,d.I)}function Lx(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=gu(f(d.ba,d),g)}function X_(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Vs.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(uU(this.i,this.A),this.L!=2&&(pu(),Sn(17)),Ho(this),this.s=2,yu(this)):Lx(this,this.S-d)};function yu(d){d.j.G==0||d.J||lA(d.j,d)}function Ho(d){X_(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Cx(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function Z_(d,g){try{var y=d.j;if(y.G!=0&&(y.g==d||J_(y.h,d))){if(!d.K&&J_(y.h,d)&&y.G==3){try{var b=y.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<d.F)Uf(y),jf(y);else break e;rb(y),Sn(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=gu(f(y.Za,y),6e3));if(1>=Bx(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Wo(y,11)}else if((d.K||y.g==d)&&Uf(y),!x(g))for(k=y.Da.g.parse(g),g=0;g<k.length;g++){let Fe=k[g];if(y.T=Fe[0],Fe=Fe[1],y.G==2)if(Fe[0]=="c"){y.K=Fe[1],y.ia=Fe[2];let gn=Fe[3];gn!=null&&(y.la=gn,y.j.info("VER="+y.la));let mn=Fe[4];mn!=null&&(y.Aa=mn,y.j.info("SVER="+y.Aa));let lc=Fe[5];lc!=null&&typeof lc=="number"&&0<lc&&(b=1.5*lc,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;let Or=d.g;if(Or){let Hf=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hf){var V=b.h;V.g||Hf.indexOf("spdy")==-1&&Hf.indexOf("quic")==-1&&Hf.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(eb(V,V.h),V.h=null))}if(b.D){let sb=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;sb&&(b.ya=sb,nt(b.I,b.D,sb))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-d.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var W=d;if(b.qa=hA(b,b.J?b.ia:null,b.W),W.K){Ux(b.h,W);var We=W,tn=b.L;tn&&(We.I=tn),We.B&&(X_(We),kf(We)),b.g=W}else aA(b);0<y.i.length&&Bf(y)}else Fe[0]!="stop"&&Fe[0]!="close"||Wo(y,7);else y.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Wo(y,7):nb(y):Fe[0]!="noop"&&y.l&&y.l.ta(Fe),y.v=0)}}pu(4)}catch{}}var fU=class{constructor(d,g){this.g=d,this.map=g}};function Vx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Bx(d){return d.h?1:d.g?d.g.size:0}function J_(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function eb(d,g){d.g?d.g.add(g):d.h=g}function Ux(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Vx.prototype.cancel=function(){if(this.i=$x(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function $x(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(let y of d.g.values())g=g.concat(y.D);return g}return v(d.i)}function pU(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var g=[],y=d.length,b=0;b<y;b++)g.push(d[b]);return g}g=[],y=0;for(b in d)g[y++]=d[b];return g}function gU(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var g=[];d=d.length;for(var y=0;y<d;y++)g.push(y);return g}g=[],y=0;for(let b in d)g[y++]=b;return g}}}function Hx(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var y=gU(d),b=pU(d),k=b.length,V=0;V<k;V++)g.call(void 0,b[V],y&&y[V],d)}var zx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mU(d,g){if(d){d=d.split("&");for(var y=0;y<d.length;y++){var b=d[y].indexOf("="),k=null;if(0<=b){var V=d[y].substring(0,b);k=d[y].substring(b+1)}else V=d[y];g(V,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function zo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zo){this.h=d.h,Nf(this,d.j),this.o=d.o,this.g=d.g,Of(this,d.s),this.l=d.l;var g=d.i,y=new bu;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Wx(this,y),this.m=d.m}else d&&(g=String(d).match(zx))?(this.h=!1,Nf(this,g[1]||"",!0),this.o=vu(g[2]||""),this.g=vu(g[3]||"",!0),Of(this,g[4]),this.l=vu(g[5]||"",!0),Wx(this,g[6]||"",!0),this.m=vu(g[7]||"")):(this.h=!1,this.i=new bu(null,this.h))}zo.prototype.toString=function(){var d=[],g=this.j;g&&d.push(_u(g,qx,!0),":");var y=this.g;return(y||g=="file")&&(d.push("//"),(g=this.o)&&d.push(_u(g,qx,!0),"@"),d.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&d.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&d.push("/"),d.push(_u(y,y.charAt(0)=="/"?_U:vU,!0))),(y=this.i.toString())&&d.push("?",y),(y=this.m)&&d.push("#",_u(y,wU)),d.join("")};function Zi(d){return new zo(d)}function Nf(d,g,y){d.j=y?vu(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Of(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Wx(d,g,y){g instanceof bu?(d.i=g,EU(d.i,d.h)):(y||(g=_u(g,bU)),d.i=new bu(g,d.h))}function nt(d,g,y){d.i.set(g,y)}function Ff(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function vu(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _u(d,g,y){return typeof d=="string"?(d=encodeURI(d).replace(g,yU),y&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yU(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qx=/[#\/\?@]/g,vU=/[#\?:]/g,_U=/[#\?]/g,bU=/[#\?@]/g,wU=/#/g;function bu(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function js(d){d.g||(d.g=new Map,d.h=0,d.i&&mU(d.i,function(g,y){d.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}n=bu.prototype,n.add=function(d,g){js(this),this.i=null,d=ac(this,d);var y=this.g.get(d);return y||this.g.set(d,y=[]),y.push(g),this.h+=1,this};function Gx(d,g){js(d),g=ac(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Kx(d,g){return js(d),g=ac(d,g),d.g.has(g)}n.forEach=function(d,g){js(this),this.g.forEach(function(y,b){y.forEach(function(k){d.call(g,k,b,this)},this)},this)},n.na=function(){js(this);let d=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let b=0;b<g.length;b++){let k=d[b];for(let V=0;V<k.length;V++)y.push(g[b])}return y},n.V=function(d){js(this);let g=[];if(typeof d=="string")Kx(this,d)&&(g=g.concat(this.g.get(ac(this,d))));else{d=Array.from(this.g.values());for(let y=0;y<d.length;y++)g=g.concat(d[y])}return g},n.set=function(d,g){return js(this),this.i=null,d=ac(this,d),Kx(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},n.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function Qx(d,g,y){Gx(d,g),0<y.length&&(d.i=null,d.g.set(ac(d,g),v(y)),d.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var b=g[y];let V=encodeURIComponent(String(b)),W=this.V(b);for(b=0;b<W.length;b++){var k=V;W[b]!==""&&(k+="="+encodeURIComponent(String(W[b]))),d.push(k)}}return this.i=d.join("&")};function ac(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function EU(d,g){g&&!d.j&&(js(d),d.i=null,d.g.forEach(function(y,b){var k=b.toLowerCase();b!=k&&(Gx(this,b),Qx(this,k,y))},d)),d.j=g}function IU(d,g){let y=new mu;if(a.Image){let b=new Image;b.onload=p(Bs,y,"TestLoadImage: loaded",!0,g,b),b.onerror=p(Bs,y,"TestLoadImage: error",!1,g,b),b.onabort=p(Bs,y,"TestLoadImage: abort",!1,g,b),b.ontimeout=p(Bs,y,"TestLoadImage: timeout",!1,g,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else g(!1)}function DU(d,g){let y=new mu,b=new AbortController,k=setTimeout(()=>{b.abort(),Bs(y,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:b.signal}).then(V=>{clearTimeout(k),V.ok?Bs(y,"TestPingServer: ok",!0,g):Bs(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Bs(y,"TestPingServer: error",!1,g)})}function Bs(d,g,y,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(y)}catch{}}function CU(){this.g=new aU}function TU(d,g,y){let b=y||"";try{Hx(d,function(k,V){let W=k;l(k)&&(W=z_(k)),g.push(b+V+"="+encodeURIComponent(W))})}catch(k){throw g.push(b+"type="+encodeURIComponent("_badmap")),k}}function wu(d){this.l=d.Ub||null,this.j=d.eb||!1}m(wu,W_),wu.prototype.g=function(){return new Lf(this.l,this.j)},wu.prototype.i=function(d){return function(){return d}}({});function Lf(d,g){pn.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Lf,pn),n=Lf.prototype,n.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Iu(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eu(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Iu(this)),this.g&&(this.readyState=3,Iu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yx(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yx(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Eu(this):Iu(this),this.readyState==3&&Yx(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Eu(this))},n.Qa=function(d){this.g&&(this.response=d,Eu(this))},n.ga=function(){this.g&&Eu(this)};function Eu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Iu(d)}n.setRequestHeader=function(d,g){this.u.append(d,g)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,d.push(y[0]+": "+y[1]),y=g.next();return d.join(`\r
`)};function Iu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Lf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xx(d){let g="";return B(d,function(y,b){g+=b,g+=":",g+=y,g+=`\r
`}),g}function tb(d,g,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=Xx(y),typeof d=="string"?y!=null&&encodeURIComponent(String(y)):nt(d,g,y))}function _t(d){pn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(_t,pn);var SU=/^https?$/i,xU=["POST","PUT"];n=_t.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,g,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():K_.g(),this.v=this.o?Tx(this.o):Tx(K_),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(V){Zx(this,V);return}if(d=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)y.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let V of b.keys())y.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),k=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xU,g,void 0))||b||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[V,W]of y)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tA(this),this.u=!0,this.g.send(d),this.u=!1}catch(V){Zx(this,V)}};function Zx(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,Jx(d),Vf(d)}function Jx(d){d.A||(d.A=!0,Tn(d,"complete"),Tn(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Tn(this,"complete"),Tn(this,"abort"),Vf(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vf(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?eA(this):this.bb())},n.bb=function(){eA(this)};function eA(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ji(d)!=4||d.Z()!=2)){if(d.u&&Ji(d)==4)Ex(d.Ea,0,d);else if(Tn(d,"readystatechange"),Ji(d)==4){d.h=!1;try{let W=d.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var b;if(b=W===0){var k=String(d.D).match(zx)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),b=!SU.test(k?k.toLowerCase():"")}y=b}if(y)Tn(d,"complete"),Tn(d,"success");else{d.m=6;try{var V=2<Ji(d)?d.g.statusText:""}catch{V=""}d.l=V+" ["+d.Z()+"]",Jx(d)}}finally{Vf(d)}}}}function Vf(d,g){if(d.g){tA(d);let y=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Tn(d,"ready");try{y.onreadystatechange=b}catch{}}}function tA(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Ji(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),oU(g)}};function nA(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function AU(d){let g={};d=(d.g&&2<=Ji(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if(x(d[b]))continue;var y=A(d[b]);let k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();let V=g[k]||[];g[k]=V,V.push(y)}D(g,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Du(d,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[d]||g}function rA(d){this.Aa=0,this.i=[],this.j=new mu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Du("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Du("baseRetryDelayMs",5e3,d),this.cb=Du("retryDelaySeedMs",1e4,d),this.Wa=Du("forwardChannelMaxRetries",2,d),this.wa=Du("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Vx(d&&d.concurrentRequestLimit),this.Da=new CU,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rA.prototype,n.la=8,n.G=1,n.connect=function(d,g,y,b){Sn(0),this.W=d,this.H=g||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=hA(this,null,this.W),Bf(this)};function nb(d){if(iA(d),d.G==3){var g=d.U++,y=Zi(d.I);if(nt(y,"SID",d.K),nt(y,"RID",g),nt(y,"TYPE","terminate"),Cu(d,y),g=new Vs(d,d.j,g),g.L=2,g.v=Ff(Zi(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=g.v,y=!0),y||(g.g=fA(g.j,null),g.g.ea(g.v)),g.F=Date.now(),kf(g)}dA(d)}function jf(d){d.g&&(ib(d),d.g.cancel(),d.g=null)}function iA(d){jf(d),d.u&&(a.clearTimeout(d.u),d.u=null),Uf(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Bf(d){if(!jx(d.h)&&!d.s){d.s=!0;var g=d.Ga;ze||Qi(),en||(ze(),en=!0),At.add(g,d),d.B=0}}function MU(d,g){return Bx(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=gu(f(d.Ga,d,g),uA(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let k=new Vs(this,this.j,d),V=this.o;if(this.S&&(V?(V=w(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(k.H=V,V=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=oA(this,k,g),y=Zi(this.I),nt(y,"RID",d),nt(y,"CVER",22),this.D&&nt(y,"X-HTTP-Session-Id",this.D),Cu(this,y),V&&(this.O?g="headers="+encodeURIComponent(String(Xx(V)))+"&"+g:this.m&&tb(y,this.m,V)),eb(this.h,k),this.Ua&&nt(y,"TYPE","init"),this.P?(nt(y,"$req",g),nt(y,"SID","null"),k.T=!0,Y_(k,y,null)):Y_(k,y,g),this.G=2}}else this.G==3&&(d?sA(this,d):this.i.length==0||jx(this.h)||sA(this))};function sA(d,g){var y;g?y=g.l:y=d.U++;let b=Zi(d.I);nt(b,"SID",d.K),nt(b,"RID",y),nt(b,"AID",d.T),Cu(d,b),d.m&&d.o&&tb(b,d.m,d.o),y=new Vs(d,d.j,y,d.B+1),d.m===null&&(y.H=d.o),g&&(d.i=g.D.concat(d.i)),g=oA(d,y,1e3),y.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),eb(d.h,y),Y_(y,b,g)}function Cu(d,g){d.H&&B(d.H,function(y,b){nt(g,b,y)}),d.l&&Hx({},function(y,b){nt(g,b,y)})}function oA(d,g,y){y=Math.min(d.i.length,y);var b=d.l?f(d.l.Na,d.l,d):null;e:{var k=d.i;let V=-1;for(;;){let W=["count="+y];V==-1?0<y?(V=k[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let We=!0;for(let tn=0;tn<y;tn++){let Fe=k[tn].g,gn=k[tn].map;if(Fe-=V,0>Fe)V=Math.max(0,k[tn].g-100),We=!1;else try{TU(gn,W,"req"+Fe+"_")}catch{b&&b(gn)}}if(We){b=W.join("&");break e}}}return d=d.i.splice(0,y),g.D=d,b}function aA(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;ze||Qi(),en||(ze(),en=!0),At.add(g,d),d.v=0}}function rb(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=gu(f(d.Fa,d),uA(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,cA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=gu(f(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Sn(10),jf(this),cA(this))};function ib(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function cA(d){d.g=new Vs(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=Zi(d.qa);nt(g,"RID","rpc"),nt(g,"SID",d.K),nt(g,"AID",d.T),nt(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(g,"TO",d.ja),nt(g,"TYPE","xmlhttp"),Cu(d,g),d.m&&d.o&&tb(g,d.m,d.o),d.L&&(d.g.I=d.L);var y=d.g;d=d.ia,y.L=1,y.v=Ff(Zi(g)),y.m=null,y.P=!0,Ox(y,d)}n.Za=function(){this.C!=null&&(this.C=null,jf(this),rb(this),Sn(19))};function Uf(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function lA(d,g){var y=null;if(d.g==g){Uf(d),ib(d),d.g=null;var b=2}else if(J_(d.h,g))y=g.D,Ux(d.h,g),b=1;else return;if(d.G!=0){if(g.o)if(b==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var k=d.B;b=Mf(),Tn(b,new Rx(b,y)),Bf(d)}else aA(d);else if(k=g.s,k==3||k==0&&0<g.X||!(b==1&&MU(d,g)||b==2&&rb(d)))switch(y&&0<y.length&&(g=d.h,g.i=g.i.concat(y)),k){case 1:Wo(d,5);break;case 4:Wo(d,10);break;case 3:Wo(d,6);break;default:Wo(d,2)}}}function uA(d,g){let y=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(y*=2),y*g}function Wo(d,g){if(d.j.info("Error code "+g),g==2){var y=f(d.fb,d),b=d.Xa;let k=!b;b=new zo(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nf(b,"https"),Ff(b),k?IU(b.toString(),y):DU(b.toString(),y)}else Sn(2);d.G=0,d.l&&d.l.sa(g),dA(d),iA(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Sn(2)):(this.j.info("Failed to ping google.com"),Sn(1))};function dA(d){if(d.G=0,d.ka=[],d.l){let g=$x(d.h);(g.length!=0||d.i.length!=0)&&(_(d.ka,g),_(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function hA(d,g,y){var b=y instanceof zo?Zi(y):new zo(y);if(b.g!="")g&&(b.g=g+"."+b.g),Of(b,b.s);else{var k=a.location;b=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var V=new zo(null);b&&Nf(V,b),g&&(V.g=g),k&&Of(V,k),y&&(V.l=y),b=V}return y=d.D,g=d.ya,y&&g&&nt(b,y,g),nt(b,"VER",d.la),Cu(d,b),b}function fA(d,g,y){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new _t(new wu({eb:y})):new _t(d.pa),g.Ha(d.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pA(){}n=pA.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $f(){}$f.prototype.g=function(d,g){return new Jn(d,g)};function Jn(d,g){pn.call(this),this.g=new rA(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!x(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new cc(this)}m(Jn,pn),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){nb(this.g)},Jn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var y={};y.__data__=d,d=y}else this.u&&(y={},y.__data__=z_(d),d=y);g.i.push(new fU(g.Ya++,d)),g.G==3&&Bf(g)},Jn.prototype.N=function(){this.g.l=null,delete this.j,nb(this.g),delete this.g,Jn.aa.N.call(this)};function gA(d){q_.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(let y in g){d=y;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}m(gA,q_);function mA(){G_.call(this),this.status=1}m(mA,G_);function cc(d){this.g=d}m(cc,pA),cc.prototype.ua=function(){Tn(this.g,"a")},cc.prototype.ta=function(d){Tn(this.g,new gA(d))},cc.prototype.sa=function(d){Tn(this.g,new mA)},cc.prototype.ra=function(){Tn(this.g,"b")},$f.prototype.createWebChannel=$f.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,PD=ws.createWebChannelTransport=function(){return new $f},RD=ws.getStatEventTarget=function(){return Mf()},MD=ws.Event=$o,uy=ws.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rf.NO_ERROR=0,Rf.TIMEOUT=8,Rf.HTTP_ERROR=6,lh=ws.ErrorCode=Rf,Px.COMPLETE="complete",AD=ws.EventType=Px,Sx.EventType=fu,fu.OPEN="a",fu.CLOSE="b",fu.ERROR="c",fu.MESSAGE="d",pn.prototype.listen=pn.prototype.K,Cl=ws.WebChannel=Sx,V7=ws.FetchXmlHttpFactory=wu,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,xD=ws.XhrIo=_t}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var jF="@firebase/firestore",BF="4.7.11";var Xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");var Yl="11.6.1";var Na=new ki("@firebase/firestore");function Tl(){return Na.logLevel}function Y(n,...e){if(Na.logLevel<=Se.DEBUG){let t=e.map(wT);Na.debug(`Firestore (${Yl}): ${n}`,...t)}}function Es(n,...e){if(Na.logLevel<=Se.ERROR){let t=e.map(wT);Na.error(`Firestore (${Yl}): ${n}`,...t)}}function kl(n,...e){if(Na.logLevel<=Se.WARN){let t=e.map(wT);Na.warn(`Firestore (${Yl}): ${n}`,...t)}}function wT(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,PL(n,r,t)}function PL(n,e,t){let r=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Es(r),new Error(r)}function Ne(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||PL(e,i,r)}function se(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ar=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var yy=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},FD=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}},LD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},VD=class{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ne(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ar,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ar)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new yy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}},jD=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},BD=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new jD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},vy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},UD=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ne(this.o===void 0,3512);let r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vy(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new vy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function j7(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function kL(){return new TextEncoder}var _y=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=j7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Ie(n,e){return n<e?-1:n>e?1:0}function $D(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ie(r,i);{let s=kL(),o=B7(s.encode(UF(n,t)),s.encode(UF(e,t)));return o!==0?o:Ie(r,i)}}t+=r>65535?2:1}return Ie(n.length,e.length)}function UF(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function B7(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ie(n[t],e[t]);return Ie(n.length,e.length)}function Nl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var $F=-62135596800,HF=1e6,$e=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*HF);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$F)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HF}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-$F;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new $e(0,0))}static max(){return new n(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zF="__name__",by=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):$D(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}},st=class n extends by{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},U7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lr=class n extends by{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return U7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zF}static keyField(){return new n([zF])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var te=class n{constructor(e){this.path=e}static fromPath(e){return new n(st.fromString(e))}static fromName(e){return new n(st.fromString(e).popFirst(5))}static empty(){return new n(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new st(e.slice()))}};var yh=-1,HD=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};HD.UNKNOWN_ID=-1;function $7(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new $e(t+1,0):new $e(t,r));return new Oa(i,te.empty(),e)}function H7(n){return new Oa(n.readTime,n.key,yh)}var Oa=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ie.min(),te.empty(),yh)}static max(){return new n(ie.max(),te.empty(),yh)}};function z7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=te.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}var W7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zD=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Xl(n){return E(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==W7)throw n;Y("LocalStore","Unexpectedly lost primary lease")})}var H=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function q7(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zl(n){return n.name==="IndexedDbTransactionError"}var ET=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),IT=-1;function kh(n){return n==null}function vh(n){return n===0&&1/n==-1/0}function G7(n){return typeof n=="number"&&Number.isInteger(n)&&!vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var NL="";function K7(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=WF(e)),e=Q7(n.get(t),e);return WF(e)}function Q7(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case NL:t+="";break;default:t+=s}}return t}function WF(n){return n+NL+""}var Y7="remoteDocuments",OL="owner";var FL="mutationQueues";var LL="mutations";var VL="documentMutations",X7="remoteDocumentsV14";var jL="remoteDocumentGlobal";var BL="targets";var UL="targetDocuments";var $L="targetGlobal",HL="collectionParents";var zL="clientMetadata";var WL="bundles";var qL="namedQueries";var Z7="indexConfiguration";var J7="indexState";var eQ="indexEntries";var GL="documentOverlays";var tQ="globals";var nQ=[FL,LL,VL,Y7,BL,OL,$L,UL,zL,jL,HL,WL,qL],lme=[...nQ,GL],rQ=[FL,LL,VL,X7,BL,OL,$L,UL,zL,jL,HL,WL,qL,GL],iQ=rQ,sQ=[...iQ,Z7,J7,eQ];var ume=[...sQ,tQ];function qF(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KL(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Et=class n{constructor(e,t){this.comparator=e,this.root=t||Li.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ml(this.root,e,this.comparator,!0)}},Ml=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Li=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}};Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1;Li.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Li(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Zt=class n{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(e){return new wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},wy=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var xr=class n{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new n([])}unionWith(e){let t=new Zt(lr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Ey=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var In=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ey("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};In.EMPTY_BYTE_STRING=new In("");var oQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(Ne(!!n,39018),typeof n=="string"){let e=0,t=oQ.exec(n);if(Ne(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ds(n){return typeof n=="string"?In.fromBase64String(n):In.fromUint8Array(n)}var QL="server_timestamp",YL="__type__",XL="__previous_value__",ZL="__local_write_time__";function DT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[YL])===null||t===void 0?void 0:t.stringValue)===QL}function Jy(n){let e=n.mapValue.fields[XL];return DT(e)?Jy(e):e}function _h(n){let e=Is(n.mapValue.fields[ZL].timestampValue);return new $e(e.seconds,e.nanos)}var WD=class{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Iy="(default)",Dy=class n{constructor(e,t){this.projectId=e,this.database=t||Iy}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Iy}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var CT="__type__",JL="__max__",dy={mapValue:{fields:{__type__:{stringValue:JL}}}},TT="__vector__",Ol="value";function Co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?DT(n)?4:tV(n)?9007199254740991:eV(n)?10:11:ee(28295,{value:n})}function ji(n,e){if(n===e)return!0;let t=Co(n);if(t!==Co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _h(n).isEqual(_h(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Is(i.timestampValue),a=Is(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ds(i.bytesValue).isEqual(Ds(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ht(i.geoPointValue.latitude)===ht(s.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ht(i.integerValue)===ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ht(i.doubleValue),a=ht(s.doubleValue);return o===a?vh(o)===vh(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Nl(n.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(qF(o)!==qF(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ji(o[c],a[c])))return!1;return!0}(n,e);default:return ee(52216,{left:n})}}function bh(n,e){return(n.values||[]).find(t=>ji(t,e))!==void 0}function Fl(n,e){if(n===e)return 0;let t=Co(n),r=Co(e);if(t!==r)return Ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ht(s.integerValue||s.doubleValue),c=ht(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return GF(n.timestampValue,e.timestampValue);case 4:return GF(_h(n),_h(e));case 5:return $D(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Ds(s),c=Ds(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Ie(a[l],c[l]);if(u!==0)return u}return Ie(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ie(ht(s.latitude),ht(o.latitude));return a!==0?a:Ie(ht(s.longitude),ht(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return KF(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,u;let h=s.fields||{},f=o.fields||{},p=(a=h[Ol])===null||a===void 0?void 0:a.arrayValue,m=(c=f[Ol])===null||c===void 0?void 0:c.arrayValue,v=Ie(((l=p?.values)===null||l===void 0?void 0:l.length)||0,((u=m?.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:KF(p,m)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===dy.mapValue&&o===dy.mapValue)return 0;if(s===dy.mapValue)return 1;if(o===dy.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){let f=$D(c[h],u[h]);if(f!==0)return f;let p=Fl(a[c[h]],l[u[h]]);if(p!==0)return p}return Ie(c.length,u.length)}(n.mapValue,e.mapValue);default:throw ee(23264,{Pe:t})}}function GF(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);let t=Is(n),r=Is(e),i=Ie(t.seconds,r.seconds);return i!==0?i:Ie(t.nanos,r.nanos)}function KF(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Fl(t[i],r[i]);if(s)return s}return Ie(t.length,r.length)}function Ll(n){return qD(n)}function qD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Is(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ds(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=qD(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${qD(t.fields[o])}`;return i+"}"}(n.mapValue):ee(61005,{value:n})}function py(n){switch(Co(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Jy(n);return e?16+py(e):16;case 5:return 2*n.stringValue.length;case 6:return Ds(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+py(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return xo(r.fields,(s,o)=>{i+=s.length+py(o)}),i}(n.mapValue);default:throw ee(13486,{value:n})}}function QF(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function GD(n){return!!n&&"integerValue"in n}function ST(n){return!!n&&"arrayValue"in n}function YF(n){return!!n&&"nullValue"in n}function XF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gy(n){return!!n&&"mapValue"in n}function eV(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[CT])===null||t===void 0?void 0:t.stringValue)===TT}function hh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return xo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hh(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JL}var hme={mapValue:{fields:{[CT]:{stringValue:TT},[Ol]:{arrayValue:{}}}}};var Qn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(t)}setAll(e){let t=lr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=hh(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());gy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];gy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xo(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(hh(this.value))}};function nV(n){let e=[];return xo(n.fields,(t,r)=>{let i=new lr([t]);if(gy(r)){let s=nV(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new xr(e)}var dr=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ie.min(),ie.min(),ie.min(),Qn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ie.min(),ie.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ie.min(),ie.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vl=class{constructor(e,t){this.position=e,this.inclusive=t}};function ZF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),t.key):r=Fl(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JF(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ji(n.position[t],e.position[t]))return!1;return!0}var jl=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function aQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Cy=class{},Nt=class n extends Cy{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new QD(e,t,r):t==="array-contains"?new ZD(e,r):t==="in"?new JD(e,r):t==="not-in"?new eC(e,r):t==="array-contains-any"?new tC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new YD(e,r):new XD(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fl(t,this.value)):t!==null&&Co(this.value)===Co(t)&&this.matchesComparison(Fl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ri=class n extends Cy{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return rV(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function rV(n){return n.op==="and"}function iV(n){return cQ(n)&&rV(n)}function cQ(n){for(let e of n.filters)if(e instanceof ri)return!1;return!0}function KD(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+Ll(n.value);if(iV(n))return n.filters.map(e=>KD(e)).join(",");{let e=n.filters.map(t=>KD(t)).join(",");return`${n.op}(${e})`}}function sV(n,e){return n instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&ji(r.value,i.value)}(n,e):n instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&sV(o,i.filters[a]),!0):!1}(n,e):void ee(19439)}function oV(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ll(t.value)}`}(n):n instanceof ri?function(t){return t.op.toString()+" {"+t.getFilters().map(oV).join(" ,")+"}"}(n):"Filter"}var QD=class extends Nt{constructor(e,t,r){super(e,t,r),this.key=te.fromName(r.referenceValue)}matches(e){let t=te.comparator(e.key,this.key);return this.matchesComparison(t)}},YD=class extends Nt{constructor(e,t){super(e,"in",t),this.keys=aV("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},XD=class extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=aV("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function aV(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>te.fromName(r.referenceValue))}var ZD=class extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ST(t)&&bh(t.arrayValue,this.value)}},JD=class extends Nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&bh(this.value.arrayValue,t)}},eC=class extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bh(this.value.arrayValue,t)}},tC=class extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ST(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bh(this.value.arrayValue,r))}};var nC=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}};function eL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new nC(n,e,t,r,i,s,o)}function xT(n){let e=se(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>KD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ll(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ll(r)).join(",")),e.Ie=t}return e.Ie}function AT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aQ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JF(n.startAt,e.startAt)&&JF(n.endAt,e.endAt)}function rC(n){return te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Fa=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function lQ(n,e,t,r,i,s,o,a){return new Fa(n,e,t,r,i,s,o,a)}function ev(n){return new Fa(n)}function tL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cV(n){return n.collectionGroup!==null}function fh(n){let e=se(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Zt(lr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new jl(s,r))}),t.has(lr.keyField().canonicalString())||e.Ee.push(new jl(lr.keyField(),r))}return e.Ee}function Vi(n){let e=se(n);return e.de||(e.de=uQ(e,fh(n))),e.de}function uQ(n,e){if(n.limitType==="F")return eL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new jl(i.field,s)});let t=n.endAt?new Vl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Vl(n.startAt.position,n.startAt.inclusive):null;return eL(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function iC(n,e){let t=n.filters.concat([e]);return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sC(n,e,t){return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tv(n,e){return AT(Vi(n),Vi(e))&&n.limitType===e.limitType}function lV(n){return`${xT(Vi(n))}|lt:${n.limitType}`}function Sl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>oV(i)).join(", ")}]`),kh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ll(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ll(i)).join(",")),`Target(${r})`}(Vi(n))}; limitType=${n.limitType})`}function nv(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of fh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=ZF(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,fh(r),i)||r.endAt&&!function(o,a,c){let l=ZF(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,fh(r),i))}(n,e)}function dQ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uV(n){return(e,t)=>{let r=!1;for(let i of fh(n)){let s=hQ(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function hQ(n,e,t){let r=n.field.isKeyField()?te.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Fl(c,l):ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:n.dir})}}var Cs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return KL(this.inner)}size(){return this.innerSize}};var fQ=new Et(te.comparator);function Ts(){return fQ}var dV=new Et(te.comparator);function uh(...n){let e=dV;for(let t of n)e=e.insert(t.key,t);return e}function hV(n){let e=dV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Pa(){return ph()}function fV(){return ph()}function ph(){return new Cs(n=>n.toString(),(n,e)=>n.isEqual(e))}var pQ=new Et(te.comparator),gQ=new Zt(te.comparator);function Ae(...n){let e=gQ;for(let t of n)e=e.add(t);return e}var mQ=new Zt(Ie);function yQ(){return mQ}function MT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function pV(n){return{integerValue:""+n}}function vQ(n,e){return G7(e)?pV(e):MT(n,e)}var Bl=class{constructor(){this._=void 0}};function _Q(n,e,t){return n instanceof Ul?function(i,s){let o={fields:{[YL]:{stringValue:QL},[ZL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&DT(s)&&(s=Jy(s)),s&&(o.fields[XL]=s),{mapValue:o}}(t,e):n instanceof La?mV(n,e):n instanceof Va?yV(n,e):function(i,s){let o=gV(i,s),a=nL(o)+nL(i.Re);return GD(o)&&GD(i.Re)?pV(a):MT(i.serializer,a)}(n,e)}function bQ(n,e,t){return n instanceof La?mV(n,e):n instanceof Va?yV(n,e):t}function gV(n,e){return n instanceof $l?function(r){return GD(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ul=class extends Bl{},La=class extends Bl{constructor(e){super(),this.elements=e}};function mV(n,e){let t=vV(e);for(let r of n.elements)t.some(i=>ji(i,r))||t.push(r);return{arrayValue:{values:t}}}var Va=class extends Bl{constructor(e){super(),this.elements=e}};function yV(n,e){let t=vV(e);for(let r of n.elements)t=t.filter(i=>!ji(i,r));return{arrayValue:{values:t}}}var $l=class extends Bl{constructor(e,t){super(),this.serializer=e,this.Re=t}};function nL(n){return ht(n.integerValue||n.doubleValue)}function vV(n){return ST(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wQ(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof La&&i instanceof La||r instanceof Va&&i instanceof Va?Nl(r.elements,i.elements,ji):r instanceof $l&&i instanceof $l?ji(r.Re,i.Re):r instanceof Ul&&i instanceof Ul}(n.transform,e.transform)}var oC=class{constructor(e,t){this.version=e,this.transformResults=t}},On=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function my(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Hl=class{};function _V(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zl(n.key,On.none()):new ja(n.key,n.data,On.none());{let t=n.data,r=Qn.empty(),i=new Zt(lr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bi(n.key,r,new xr(i.toArray()),On.none())}}function EQ(n,e,t){n instanceof ja?function(i,s,o){let a=i.value.clone(),c=iL(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Bi?function(i,s,o){if(!my(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=iL(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(bV(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function gh(n,e,t,r){return n instanceof ja?function(s,o,a,c){if(!my(s.precondition,o))return a;let l=s.value.clone(),u=sL(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Bi?function(s,o,a,c){if(!my(s.precondition,o))return a;let l=sL(s.fieldTransforms,c,o),u=o.data;return u.setAll(bV(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return my(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function IQ(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=gV(r.transform,i||null);s!=null&&(t===null&&(t=Qn.empty()),t.set(r.field,s))}return t||null}function rL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Nl(r,i,(s,o)=>wQ(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ja=class extends Hl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bi=class extends Hl{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function bV(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function iL(n,e,t){let r=new Map;Ne(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,bQ(o,a,t[i]))}return r}function sL(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,_Q(s,o,e))}return r}var zl=class extends Hl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ty=class extends Hl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var aC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&EQ(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=gh(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=gh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=fV();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=_V(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,(t,r)=>rL(t,r))&&Nl(this.baseMutations,e.baseMutations,(t,r)=>rL(t,r))}},cC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ne(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return pQ}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var lC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var uC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Pt,ke;function wV(n){switch(n){case U.OK:return ee(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ee(15467,{code:n})}}function EV(n){if(n===void 0)return Es("GRPC error has no .code"),U.UNKNOWN;switch(n){case Pt.OK:return U.OK;case Pt.CANCELLED:return U.CANCELLED;case Pt.UNKNOWN:return U.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return U.INTERNAL;case Pt.UNAVAILABLE:return U.UNAVAILABLE;case Pt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Pt.NOT_FOUND:return U.NOT_FOUND;case Pt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Pt.ABORTED:return U.ABORTED;case Pt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Pt.DATA_LOSS:return U.DATA_LOSS;default:return ee(39323,{code:n})}}(ke=Pt||(Pt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";var oL=null;var DQ=new bs([4294967295,4294967295],0);function aL(n){let e=kL().encode(n),t=new SD;return t.update(e),new Uint8Array(t.digest())}function cL(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bs([t,r],0),new bs([i,s],0)]}var dC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ka(`Invalid padding: ${t}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ka(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=bs.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(bs.fromNumber(r)));return i.compare(DQ)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=aL(e),[r,i]=cL(t);for(let s=0;s<this.hashCount;s++){let o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;let t=aL(e),[r,i]=cL(t);for(let s=0;s<this.hashCount;s++){let o=this.we(r,i,s);this.Se(o)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ka=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sy=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ie.min(),i,new Et(Ie),Ts(),Ae())}},wh=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var Rl=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},xy=class{constructor(e,t){this.targetId=e,this.Ce=t}},Ay=class{constructor(e,t,r=In.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},My=class{constructor(){this.Fe=0,this.Me=lL(),this.xe=In.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ae(),t=Ae(),r=Ae();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:s})}}),new wh(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=lL()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},hC=class{constructor(e){this.ze=e,this.je=new Map,this.He=Ts(),this.Je=hy(),this.Ye=hy(),this.Ze=new Et(Ie)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let s=i.target;if(rC(s))if(r===0){let o=new te(s.path);this.tt(t,o,dr.newNoDocument(o,ie.min()))}else Ne(r===1,20013,{expectedCount:r});else{let o=this.ut(t);if(o!==r){let a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}oL?.ht(function(u,h,f,p,m){var v,_,C,x,N,j;let L={localCacheCount:u,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},B=h.unchangedNames;return B&&(L.bloomFilter={applied:m===0,hashCount:(v=B?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(x=(C=(_=B?.bits)===null||_===void 0?void 0:_.bitmap)===null||C===void 0?void 0:C.length)!==null&&x!==void 0?x:0,padding:(j=(N=B?.bits)===null||N===void 0?void 0:N.padding)!==null&&j!==void 0?j:0,mightContain:D=>{var w;return(w=p?.mightContain(D))!==null&&w!==void 0&&w}}),L}(o,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Ds(r).toUint8Array()}catch(c){if(c instanceof Ey)return kl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new dC(o,i,s)}catch(c){return kl(c instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,s,null),i++)}),i}It(e){let t=new Map;this.je.forEach((s,o)=>{let a=this._t(o);if(a){if(s.current&&rC(a.target)){let c=new te(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,dr.newNoDocument(c,e))}s.Le&&(t.set(o,s.qe()),s.Qe())}});let r=Ae();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));let i=new Sy(e,t,this.Ze,this.He,r);return this.He=Ts(),this.Je=hy(),this.Ye=hy(),this.Ze=new Et(Ie),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new My,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Zt(Ie),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Zt(Ie),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new My),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function hy(){return new Et(te.comparator)}function lL(){return new Et(te.comparator)}var CQ={asc:"ASCENDING",desc:"DESCENDING"},TQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SQ={and:"AND",or:"OR"},fC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function pC(n,e){return n.useProto3Json||kh(e)?e:{value:e}}function Ry(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xQ(n,e){return Ry(n,e.toTimestamp())}function ur(n){return Ne(!!n,49232),ie.fromTimestamp(function(t){let r=Is(t);return new $e(r.seconds,r.nanos)}(n))}function RT(n,e){return gC(n,e).canonicalString()}function gC(n,e){let t=function(i){return new st(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DV(n){let e=st.fromString(n);return Ne(MV(e),10190,{key:e.toString()}),e}function Py(n,e){return RT(n.databaseId,e.path)}function mh(n,e){let t=DV(e);if(t.get(1)!==n.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new te(TV(t))}function CV(n,e){return RT(n.databaseId,e)}function AQ(n){let e=DV(n);return e.length===4?st.emptyPath():TV(e)}function mC(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TV(n){return Ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function uL(n,e,t){return{name:Py(n,e),fields:t.value.mapValue.fields}}function MQ(n,e){return"found"in e?function(r,i){Ne(!!i.found,43571),i.found.name,i.found.updateTime;let s=mh(r,i.found.name),o=ur(i.found.updateTime),a=i.found.createTime?ur(i.found.createTime):ie.min(),c=new Qn({mapValue:{fields:i.found.fields}});return dr.newFoundDocument(s,o,a,c)}(n,e):"missing"in e?function(r,i){Ne(!!i.missing,3894),Ne(!!i.readTime,22933);let s=mh(r,i.missing),o=ur(i.readTime);return dr.newNoDocument(s,o)}(n,e):ee(7234,{result:e})}function RQ(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Ne(u===void 0||typeof u=="string",58123),In.fromBase64String(u||"")):(Ne(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),In.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?U.UNKNOWN:EV(l.code);return new K(u,l.message||"")}(o);t=new Ay(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=mh(n,r.document.name),s=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):ie.min(),a=new Qn({mapValue:{fields:r.document.fields}}),c=dr.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];t=new Rl(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=mh(n,r.document),s=r.readTime?ur(r.readTime):ie.min(),o=dr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Rl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=mh(n,r.document),s=r.removedTargetIds||[];t=new Rl([],s,i,null)}else{if(!("filter"in e))return ee(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new uC(i,s),a=r.targetId;t=new xy(a,o)}}return t}function SV(n,e){let t;if(e instanceof ja)t={update:uL(n,e.key,e.value)};else if(e instanceof zl)t={delete:Py(n,e.key)};else if(e instanceof Bi)t={update:uL(n,e.key,e.data),updateMask:BQ(e.fieldMask)};else{if(!(e instanceof Ty))return ee(16599,{ft:e.type});t={verify:Py(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ul)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof La)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Va)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee(27497)}(n,e.precondition)),t}function PQ(n,e){return n&&n.length>0?(Ne(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?ur(i.updateTime):ur(s);return o.isEqual(ie.min())&&(o=ur(s)),new oC(o,i.transformResults||[])}(t,e))):[]}function kQ(n,e){return{documents:[CV(n,e.path)]}}function NQ(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=CV(n,i);let s=function(l){if(l.length!==0)return AV(ri.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:xl(f.field),direction:LQ(f.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=pC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function OQ(n){let e=AQ(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ne(r===1,65062);let u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){let f=xV(h);return f instanceof ri&&iV(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(m){return new jl(Al(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,kh(f)?null:f}(t.limit));let c=null;t.startAt&&(c=function(h){let f=!!h.before,p=h.values||[];return new Vl(p,f)}(t.startAt));let l=null;return t.endAt&&(l=function(h){let f=!h.before,p=h.values||[];return new Vl(p,f)}(t.endAt)),lQ(e,i,o,s,a,"F",c,l)}function FQ(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xV(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Al(t.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Al(t.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Al(t.unaryFilter.field);return Nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Al(t.unaryFilter.field);return Nt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(Al(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ri.create(t.compositeFilter.filters.map(r=>xV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(t.compositeFilter.op))}(n):ee(30097,{filter:n})}function LQ(n){return CQ[n]}function VQ(n){return TQ[n]}function jQ(n){return SQ[n]}function xl(n){return{fieldPath:n.canonicalString()}}function Al(n){return lr.fromServerFormat(n.fieldPath)}function AV(n){return n instanceof Nt?function(t){if(t.op==="=="){if(XF(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NAN"}};if(YF(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XF(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NAN"}};if(YF(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(t.field),op:VQ(t.op),value:t.value}}}(n):n instanceof ri?function(t){let r=t.getFilters().map(i=>AV(i));return r.length===1?r[0]:{compositeFilter:{op:jQ(t.op),filters:r}}}(n):ee(54877,{filter:n})}function BQ(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Eh=class n{constructor(e,t,r,i,s=ie.min(),o=ie.min(),a=In.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var yC=class{constructor(e){this.wt=e}};function UQ(n){let e=OQ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sC(e,e.limit,"L"):e}var ky=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ht(e.integerValue));else if("doubleValue"in e){let r=ht(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),vh(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Is(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ds(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?tV(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):eV(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ee(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let s=e.fields||{};this.Mt(t,53);let o=Ol,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ht(a)),this.Nt(o,t),this.Ct(s[o],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),te.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};ky.Wt=new ky;var vC=class{constructor(){this.yn=new _C}addToCollectionParentIndex(e,t){return this.yn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Oa.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}},_C=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Zt(st.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(st.comparator)).toArray()}};var fme=new Uint8Array(0);var dL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RV=41943040,Sr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(RV,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);var Ih=class n{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new n(0)}static ir(){return new n(-1)}};var hL="LruGarbageCollector",$Q=1048576;function fL([n,e],[t,r]){let i=Ie(n,t);return i===0?Ie(e,r):i}var bC=class{constructor(e){this.cr=e,this.buffer=new Zt(fL),this.lr=0}hr(){return++this.lr}Pr(e){let t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();fL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},wC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Y(hL,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zl(t)?Y(hL,"Ignoring IndexedDB error during garbage collection: ",t):yield Xl(t)}yield this.Ir(3e5)}))}},EC=class{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return H.resolve(ET.le);let r=new bC(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(dL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dL):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,s,o,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),Tl()<=Se.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}};function HQ(n,e){return new EC(n,e)}var IC=class{constructor(){this.changes=new Cs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var DC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var CC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&gh(r.mutation,i,xr.empty(),$e.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=Pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=uh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ts(),o=ph(),a=function(){return ph()}();return t.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Bi)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),gh(u.mutation,l,u.mutation.getFieldMask(),$e.now())):o.set(l.key,xr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var h;return a.set(l,new DC(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ph(),i=new Et((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=r.get(c)||xr.empty();u=a.applyToLocalView(l,u),r.set(c,u);let h=(i.get(a.batchId)||Ae()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,h=fV();u.forEach(f=>{if(!s.has(f)){let p=_V(t.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):H.resolve(Pa()),a=yh,c=s;return o.next(l=>H.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Ae())).next(u=>({batchId:a,changes:hV(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next(r=>{let i=uh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=uh();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,c=>{let l=function(h,f){return new Fa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,dr.newInvalidDocument(u)))});let a=uh();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&gh(u.mutation,l,xr.empty(),$e.now()),nv(t,l)&&(a=a.insert(c,l))}),a})}};var TC=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return H.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:UQ(i.bundledQuery),readTime:ur(i.readTime)}}(t)),H.resolve()}};var SC=class{constructor(){this.overlays=new Et(te.comparator),this.Or=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Pa();return H.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),H.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){let i=Pa(),s=t.length+1,o=new te(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Et((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=Pa(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Pa(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return H.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lC(t,r));let s=this.Or.get(t);s===void 0&&(s=Ae(),this.Or.set(t,s)),this.Or.set(t,s.add(r.key))}};var xC=class{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}};var Dh=class{constructor(){this.Nr=new Zt(kt.Br),this.Lr=new Zt(kt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){let r=new kt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new kt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){let t=new te(new st([])),r=new kt(t,e),i=new kt(t,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let t=new te(new st([])),r=new kt(t,e),i=new kt(t,e+1),s=Ae();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new kt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},kt=class{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return te.comparator(e.key,t.key)||Ie(e.Gr,t.Gr)}static kr(e,t){return Ie(e.Gr,t.Gr)||te.comparator(e.key,t.key)}};var AC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Zt(kt.Br)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new aC(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.zr=this.zr.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,t){return H.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Hr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?IT:this.Jn-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new kt(t,0),i=new kt(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{let a=this.jr(o.Gr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(Ie);return t.forEach(i=>{let s=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),H.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new kt(new te(s),0),a=new Zt(Ie);return this.zr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Gr)),!0)},o),H.resolve(this.Jr(a))}Jr(e){let t=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ne(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return H.forEach(t.mutations,i=>{let s=new kt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){let r=new kt(t,0),i=this.zr.firstAfterOrEqual(r);return H.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var MC=class{constructor(e){this.Zr=e,this.docs=function(){return new Et(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=Ts();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dr.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ts(),o=t.path,a=new te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||z7(H7(u),r)<=0||(i.has(u.key)||nv(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ee(9500)}Xr(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RC(this)}getSize(e){return H.resolve(this.size)}},RC=class extends IC{constructor(e){super(),this.vr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}};var PC=class{constructor(e){this.persistence=e,this.ei=new Cs(t=>xT(t),AT),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.ti=0,this.ni=new Dh,this.targetCount=0,this.ri=Ih.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),H.resolve()}ar(e){this.ei.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ri=new Ih(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.ar(t),H.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){let r=this.ei.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),H.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ni.Wr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.ni.containsKey(t))}};var Ny=class{constructor(e,t){this.ii={},this.overlays={},this.si=new ET(0),this.oi=!1,this.oi=!0,this._i=new xC,this.referenceDelegate=e(this),this.ai=new PC(this),this.indexManager=new vC,this.remoteDocumentCache=function(i){return new MC(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new yC(t),this.ci=new TC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new AC(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);let i=new kC(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,t){return H.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}},kC=class extends zD{constructor(e){super(),this.currentSequenceNumber=e}},NC=class n{constructor(e){this.persistence=e,this.Ti=new Dh,this.Ii=null}static Ei(e){return new n(e)}get di(){if(this.Ii)return this.Ii;throw ee(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.di,r=>{let i=te.fromPath(r);return this.Ai(e,i).next(s=>{s||t.removeEntry(i,ie.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return H.or([()=>H.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}},Oy=class n{constructor(e,t){this.persistence=e,this.Ri=new Cs(r=>K7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=HQ(this,t)}static Ei(e,t){return new n(e,t)}li(){}hi(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return H.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?H.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),H.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=py(e.data.value)),t}gr(e,t,r){return H.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.Ri.get(t);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var OC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=Ae(),i=Ae();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var FC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var LC=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return o1()?8:q7(Yt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new FC;return this.fs(e,t,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,t,o,a.size)})}).next(()=>s.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Tl()<=Se.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Sl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),H.resolve()):(Tl()<=Se.DEBUG&&Y("QueryEngine","Query:",Sl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Tl()<=Se.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Sl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(t))):H.resolve())}Rs(e,t){if(tL(t))return H.resolve(null);let r=Vi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=sC(t,null,"F"),r=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ae(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ps(t,a);return this.ys(t,l,o,c.readTime)?this.Rs(e,sC(t,null,"F")):this.ws(e,l,t,c)}))})))}Vs(e,t,r,i){return tL(t)||i.isEqual(ie.min())?H.resolve(null):this.As.getDocuments(e,r).next(s=>{let o=this.ps(t,s);return this.ys(t,o,r,i)?H.resolve(null):(Tl()<=Se.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sl(t)),this.ws(e,o,t,$7(i,yh)).next(a=>a))})}ps(e,t){let r=new Zt(uV(e));return t.forEach((i,s)=>{nv(e,s)&&(r=r.add(s))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,t,r){return Tl()<=Se.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Sl(t)),this.As.getDocumentsMatchingQuery(e,t,Oa.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var PT="LocalStore",zQ=3e8,VC=class{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Et(Ie),this.Ds=new Cs(s=>xT(s),AT),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CC(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}};function WQ(n,e,t,r){return new VC(n,e,t,r)}function PV(n,e){return E(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Ae();for(let l of i){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Ms:l,removedBatchIds:o,addedBatchIds:a}))})})})}function qQ(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let h=l.batch,f=h.keys(),p=H.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(c,m)).next(v=>{let _=l.docVersions.get(m);Ne(_!==null,48541),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ae();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function kV(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function GQ(n,e){let t=se(n),r=e.snapshotVersion,i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;let a=[];e.targetChanges.forEach((u,h)=>{let f=i.get(h);if(!f)return;a.push(t.ai.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.ai.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(In.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(v,_,C){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=zQ?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,p,u)&&a.push(t.ai.updateTargetData(s,p))});let c=Ts(),l=Ae();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(KQ(s,o,e.documentUpdates).next(u=>{c=u.xs,l=u.Os})),!r.isEqual(ie.min())){let u=t.ai.getLastRemoteSnapshotVersion(s).next(h=>t.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.Ss=i,s))}function KQ(n,e,t){let r=Ae(),i=Ae();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ts();return t.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Y(PT,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{xs:o,Os:i}})}function QQ(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=IT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YQ(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):t.ai.allocateTargetId(r).next(o=>(i=new Eh(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}function jC(n,e,t){return E(this,null,function*(){let r=se(n),i=r.Ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Zl(o))throw o;Y(PT,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function pL(n,e,t){let r=se(n),i=ie.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let h=se(c),f=h.Ds.get(u);return f!==void 0?H.resolve(h.Ss.get(f)):h.ai.getTargetData(l,u)}(r,o,Vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,t?i:ie.min(),t?s:Ae())).next(a=>(XQ(r,dQ(e),a),{documents:a,Ns:s})))}function XQ(n,e,t){let r=n.vs.get(e)||ie.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.vs.set(e,r)}var Fy=class{constructor(){this.activeTargetIds=yQ()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var BC=class{constructor(){this.So=new Fy,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Fy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var UC=class{vo(e){}shutdown(){}};var gL="ConnectivityMonitor",Ly=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Y(gL,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){Y(gL,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var fy=null;function $C(){return fy===null?fy=function(){return 268435456+Math.round(2147483648*Math.random())}():fy++,"0x"+fy.toString(16)}var kD="RestConnection",ZQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},HC=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Iy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,s){let o=$C(),a=this.$o(e,t.toUriEncodedString());Y(kD,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,i,s),this.Ko(e,a,c,r).then(l=>(Y(kD,`Received RPC '${e}' ${o}: `,l),l),l=>{throw kl(kD,`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}Wo(e,t,r,i,s,o){return this.Qo(e,t,r,i,s)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,t){let r=ZQ[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}};var zC=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var En="WebChannelConnection",WC=class extends HC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){let s=$C();return new Promise((o,a)=>{let c=new xD;c.setWithCredentials(!0),c.listenOnce(AD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case lh.NO_ERROR:let u=c.getResponseJson();Y(En,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case lh.TIMEOUT:Y(En,`RPC '${e}' ${s} timed out`),a(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:let h=c.getStatus();if(Y(En,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);let p=f?.error;if(p&&p.status&&p.message){let m=function(_){let C=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(C)>=0?C:U.UNKNOWN}(p.status);a(new K(m,p.message))}else a(new K(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new K(U.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{s_:e,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Y(En,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);Y(En,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}a_(e,t,r){let i=$C(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PD(),a=RD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let u=s.join("");Y(En,`Creating RPC '${e}' stream ${i}: ${u}`,c);let h=o.createWebChannel(u,c),f=!1,p=!1,m=new zC({Go:_=>{p?Y(En,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(Y(En,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Y(En,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},zo:()=>h.close()}),v=(_,C,x)=>{_.listen(C,N=>{try{x(N)}catch(j){setTimeout(()=>{throw j},0)}})};return v(h,Cl.EventType.OPEN,()=>{p||(Y(En,`RPC '${e}' stream ${i} transport opened.`),m.t_())}),v(h,Cl.EventType.CLOSE,()=>{p||(p=!0,Y(En,`RPC '${e}' stream ${i} transport closed`),m.r_())}),v(h,Cl.EventType.ERROR,_=>{p||(p=!0,kl(En,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),m.r_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),v(h,Cl.EventType.MESSAGE,_=>{var C;if(!p){let x=_.data[0];Ne(!!x,16349);let N=x,j=N?.error||((C=N[0])===null||C===void 0?void 0:C.error);if(j){Y(En,`RPC '${e}' stream ${i} received error:`,j);let L=j.status,B=function(I){let S=Pt[I];if(S!==void 0)return EV(S)}(L),D=j.message;B===void 0&&(B=U.INTERNAL,D="Unknown error status: "+L+" with message "+j.message),p=!0,m.r_(new K(B,D)),h.close()}else Y(En,`RPC '${e}' stream ${i} received:`,x),m.i_(x)}}),v(a,MD.STAT_EVENT,_=>{_.stat===uy.PROXY?Y(En,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===uy.NOPROXY&&Y(En,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.n_()},0),m}};function ND(){return typeof document<"u"?document:null}function rv(n){return new fC(n,!0)}var Ch=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var mL="PersistentStream",Vy=class{constructor(e,t,r,i,s,o,a,c){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Ch(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return E(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return E(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,t){return E(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Es(t.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(t)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{let i=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){let r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>E(this,null,function*(){this.state=0,this.start()}))}L_(e){return Y(mL,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Y(mL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qC=class extends Vy{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let t=RQ(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?ur(o.readTime):ie.min()}(e);return this.listener.Q_(t,r)}U_(e){let t={};t.database=mC(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=rC(c)?{documents:kQ(s,c)}:{query:NQ(s,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IV(s,o.resumeToken);let l=pC(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=Ry(s,o.snapshotVersion.toTimestamp());let l=pC(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=FQ(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){let t={};t.database=mC(this.serializer),t.removeTarget=e,this.F_(t)}},GC=class extends Vy{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let t=PQ(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.j_(r,t)}H_(){let e={};e.database=mC(this.serializer),this.F_(e)}G_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>SV(this.serializer,r))};this.F_(t)}};var KC=class{},QC=class extends KC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,gC(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(U.UNKNOWN,s.toString())})}Wo(e,t,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,gC(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},YC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Es(t),this.ea=!1):Y("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var Ba="RemoteStore",XC=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(()=>E(this,null,function*(){Ha(this)&&(Y(Ba,"Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let l=se(c);l.aa.add(4),yield Nh(l),l.la.set("Unknown"),l.aa.delete(4),yield iv(l)})}(this))}))}),this.la=new YC(r,i)}};function iv(n){return E(this,null,function*(){if(Ha(n))for(let e of n.ua)yield e(!0)})}function Nh(n){return E(this,null,function*(){for(let e of n.ua)yield e(!1)})}function NV(n,e){let t=se(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),FT(t)?OT(t):Jl(t).b_()&&NT(t,e))}function kT(n,e){let t=se(n),r=Jl(t);t._a.delete(e),r.b_()&&OV(t,e),t._a.size===0&&(r.b_()?r.v_():Ha(t)&&t.la.set("Unknown"))}function NT(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jl(n).U_(e)}function OV(n,e){n.ha.Ke(e),Jl(n).K_(e)}function OT(n){n.ha=new hC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Jl(n).start(),n.la.ta()}function FT(n){return Ha(n)&&!Jl(n).w_()&&n._a.size>0}function Ha(n){return se(n).aa.size===0}function FV(n){n.ha=void 0}function JQ(n){return E(this,null,function*(){n.la.set("Online")})}function eY(n){return E(this,null,function*(){n._a.forEach((e,t)=>{NT(n,e)})})}function tY(n,e){return E(this,null,function*(){FV(n),FT(n)?(n.la.ia(e),OT(n)):n.la.set("Unknown")})}function nY(n,e,t){return E(this,null,function*(){if(n.la.set("Online"),e instanceof Ay&&e.state===2&&e.cause)try{yield function(i,s){return E(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))})}(n,e)}catch(r){Y(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jy(n,r)}else if(e instanceof Rl?n.ha.Xe(e):e instanceof xy?n.ha.ot(e):n.ha.nt(e),!t.isEqual(ie.min()))try{let r=yield kV(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.ha.It(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s._a.get(l);u&&s._a.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s._a.get(c);if(!u)return;s._a.set(c,u.withResumeToken(In.EMPTY_BYTE_STRING,u.snapshotVersion)),OV(s,c);let h=new Eh(u.target,c,l,u.sequenceNumber);NT(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Y(Ba,"Failed to raise snapshot:",r),yield jy(n,r)}})}function jy(n,e,t){return E(this,null,function*(){if(!Zl(e))throw e;n.aa.add(1),yield Nh(n),n.la.set("Offline"),t||(t=()=>kV(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){Y(Ba,"Retrying IndexedDB access"),yield t(),n.aa.delete(1),yield iv(n)}))})}function LV(n,e){return e().catch(t=>jy(n,t,e))}function sv(n){return E(this,null,function*(){let e=se(n),t=To(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:IT;for(;rY(e);)try{let i=yield QQ(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,iY(e,i)}catch(i){yield jy(e,i)}VV(e)&&jV(e)})}function rY(n){return Ha(n)&&n.oa.length<10}function iY(n,e){n.oa.push(e);let t=To(n);t.b_()&&t.W_&&t.G_(e.mutations)}function VV(n){return Ha(n)&&!To(n).w_()&&n.oa.length>0}function jV(n){To(n).start()}function sY(n){return E(this,null,function*(){To(n).H_()})}function oY(n){return E(this,null,function*(){let e=To(n);for(let t of n.oa)e.G_(t.mutations)})}function aY(n,e,t){return E(this,null,function*(){let r=n.oa.shift(),i=cC.from(r,e,t);yield LV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield sv(n)})}function cY(n,e){return E(this,null,function*(){e&&To(n).W_&&(yield function(r,i){return E(this,null,function*(){if(function(o){return wV(o)&&o!==U.ABORTED}(i.code)){let s=r.oa.shift();To(r).D_(),yield LV(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield sv(r)}})}(n,e)),VV(n)&&jV(n)})}function yL(n,e){return E(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),Y(Ba,"RemoteStore received new credentials");let r=Ha(t);t.aa.add(3),yield Nh(t),r&&t.la.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),yield iv(t)})}function lY(n,e){return E(this,null,function*(){let t=se(n);e?(t.aa.delete(2),yield iv(t)):e||(t.aa.add(2),yield Nh(t),t.la.set("Unknown"))})}function Jl(n){return n.Pa||(n.Pa=function(t,r,i){let s=se(t);return s.Y_(),new qC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:JQ.bind(null,n),Jo:eY.bind(null,n),Zo:tY.bind(null,n),Q_:nY.bind(null,n)}),n.ua.push(e=>E(this,null,function*(){e?(n.Pa.D_(),FT(n)?OT(n):n.la.set("Unknown")):(yield n.Pa.stop(),FV(n))}))),n.Pa}function To(n){return n.Ta||(n.Ta=function(t,r,i){let s=se(t);return s.Y_(),new GC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:sY.bind(null,n),Zo:cY.bind(null,n),z_:oY.bind(null,n),j_:aY.bind(null,n)}),n.ua.push(e=>E(this,null,function*(){e?(n.Ta.D_(),yield sv(n)):(yield n.Ta.stop(),n.oa.length>0&&(Y(Ba,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))}))),n.Ta}var ZC=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function LT(n,e){if(Es("AsyncQueue",`${e}: ${n}`),Zl(n))return new K(U.UNAVAILABLE,`${e}: ${n}`);throw n}var By=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||te.comparator(t.key,r.key):(t,r)=>te.comparator(t.key,r.key),this.keyedMap=uh(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Uy=class{constructor(){this.Ia=new Et(te.comparator)}track(e){let t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):ee(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){let e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}},Wl=class n{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,By.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var JC=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},eT=class{constructor(){this.queries=vL(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){let i=se(t),s=i.queries;i.queries=vL(),s.forEach((o,a)=>{for(let c of a.Ra)c.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}};function vL(){return new Cs(n=>lV(n),tv)}function VT(n,e){return E(this,null,function*(){let t=se(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new JC,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=yield t.onListen(i,!0);break;case 1:s.Aa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=LT(o,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Ra.push(e),e.ga(t.onlineState),s.Aa&&e.pa(s.Aa)&&BT(t)})}function jT(n,e){return E(this,null,function*(){let t=se(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function uY(n,e){let t=se(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&BT(t)}function dY(n,e,t){let r=se(n),i=r.queries.get(e);if(i)for(let s of i.Ra)s.onError(t);r.queries.delete(e)}function BT(n){n.fa.forEach(e=>{e.next()})}var tT,_L;(_L=tT||(tT={})).ya="default",_L.Cache="cache";var Th=class{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;let r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==tT.Cache}};var $y=class{constructor(e){this.key=e}},Hy=class{constructor(e){this.key=e}},nT=class{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ae(),this.mutatedKeys=Ae(),this.Ua=uV(e),this.Ka=new By(this.Ua)}get Wa(){return this.qa}Ga(e,t){let r=t?t.za:new Uy,i=t?t.Ka:this.Ka,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{let f=i.get(u),p=nv(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),_=!1;f&&p?f.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),_=!0):this.ja(f,p)||(r.track({type:2,doc:p}),_=!0,(c&&this.Ua(p,c)>0||l&&this.Ua(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),_=!0):f&&!p&&(r.track({type:1,doc:f}),_=!0,(c||l)&&(a=!0)),_&&(p?(o=o.add(p),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let o=e.za.da();o.sort((u,h)=>function(p,m){let v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Vt:_})}};return v(p)-v(m)}(u.type,h.type)||this.Ua(u.doc,h.doc)),this.Ha(r),i=i!=null&&i;let a=t&&!i?this.Ja():[],c=this.$a.size===0&&this.current&&!i?1:0,l=c!==this.Qa;return this.Qa=c,o.length!==0||l?{snapshot:new Wl(this.query,e.Ka,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Uy,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=Ae(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new Hy(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new $y(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Ae();let t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Wl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},UT="SyncEngine",rT=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},iT=class{constructor(e){this.key=e,this.tu=!1}},sT=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Cs(a=>lV(a),tv),this.iu=new Map,this.su=new Set,this.ou=new Et(te.comparator),this._u=new Map,this.au=new Dh,this.uu={},this.cu=new Map,this.lu=Ih.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function hY(n,e,t=!0){return E(this,null,function*(){let r=WV(n),i,s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=yield BV(r,e,t,!0),i})}function fY(n,e){return E(this,null,function*(){let t=WV(n);yield BV(t,e,!0,!1)})}function BV(n,e,t,r){return E(this,null,function*(){let i=yield YQ(n.localStore,Vi(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield pY(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&NV(n.remoteStore,i),a})}function pY(n,e,t,r,i){return E(this,null,function*(){n.Pu=(h,f,p)=>function(v,_,C,x){return E(this,null,function*(){let N=_.view.Ga(C);N.ys&&(N=yield pL(v.localStore,_.query,!1).then(({documents:D})=>_.view.Ga(D,N)));let j=x&&x.targetChanges.get(_.targetId),L=x&&x.targetMismatches.get(_.targetId)!=null,B=_.view.applyChanges(N,v.isPrimaryClient,j,L);return wL(v,_.targetId,B.Ya),B.snapshot})}(n,h,f,p);let s=yield pL(n.localStore,e,!0),o=new nT(e,s.Ns),a=o.Ga(s.documents),c=wh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,c);wL(n,t,l.Ya);let u=new rT(e,t,o);return n.ru.set(e,u),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),l.snapshot})}function gY(n,e,t){return E(this,null,function*(){let r=se(n),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!tv(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&kT(r.remoteStore,i.targetId),oT(r,i.targetId)}).catch(Xl))):(oT(r,i.targetId),yield jC(r.localStore,i.targetId,!0))})}function mY(n,e){return E(this,null,function*(){let t=se(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kT(t.remoteStore,r.targetId))})}function yY(n,e,t){return E(this,null,function*(){let r=DY(n);try{let i=yield function(o,a){let c=se(o),l=$e.now(),u=a.reduce((p,m)=>p.add(m.key),Ae()),h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ts(),v=Ae();return c.Cs.getEntries(p,u).next(_=>{m=_,m.forEach((C,x)=>{x.isValidDocument()||(v=v.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(_=>{h=_;let C=[];for(let x of a){let N=IQ(x,h.get(x.key).overlayedDocument);N!=null&&C.push(new Bi(x.key,N,nV(N.value.mapValue),On.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,C,a)}).next(_=>{f=_;let C=_.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(p,_.batchId,C)})}).then(()=>({batchId:f.batchId,changes:hV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.uu[o.currentUser.toKey()];l||(l=new Et(Ie)),l=l.insert(a,c),o.uu[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Oh(r,i.changes),yield sv(r.remoteStore)}catch(i){let s=LT(i,"Failed to persist write");t.reject(s)}})}function UV(n,e){return E(this,null,function*(){let t=se(n);try{let r=yield GQ(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t._u.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Ne(o.tu,14607):i.removedDocuments.size>0&&(Ne(o.tu,42227),o.tu=!1))}),yield Oh(t,r,e)}catch(r){yield Xl(r)}})}function bL(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ru.forEach((s,o)=>{let a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=se(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(let f of h.Ra)f.ga(a)&&(l=!0)}),l&&BT(c)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vY(n,e,t){return E(this,null,function*(){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r._u.get(e),s=i&&i.key;if(s){let o=new Et(te.comparator);o=o.insert(s,dr.newNoDocument(s,ie.min()));let a=Ae().add(s),c=new Sy(ie.min(),new Map,new Et(Ie),o,a);yield UV(r,c),r.ou=r.ou.remove(s),r._u.delete(e),$T(r)}else yield jC(r.localStore,e,!1).then(()=>oT(r,e,t)).catch(Xl)})}function _Y(n,e){return E(this,null,function*(){let t=se(n),r=e.batch.batchId;try{let i=yield qQ(t.localStore,e);HV(t,r,null),$V(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Oh(t,i)}catch(i){yield Xl(i)}})}function bY(n,e,t){return E(this,null,function*(){let r=se(n);try{let i=yield function(o,a){let c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ne(h!==null,37113),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);HV(r,e,t),$V(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Oh(r,i)}catch(i){yield Xl(i)}})}function $V(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function HV(n,e,t){let r=se(n),i=r.uu[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function oT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||zV(n,r)})}function zV(n,e){n.su.delete(e.path.canonicalString());let t=n.ou.get(e);t!==null&&(kT(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),$T(n))}function wL(n,e,t){for(let r of t)r instanceof $y?(n.au.addReference(r.key,e),wY(n,r)):r instanceof Hy?(Y(UT,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||zV(n,r.key)):ee(19791,{Iu:r})}function wY(n,e){let t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Y(UT,"New document in limbo: "+t),n.su.add(r),$T(n))}function $T(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){let e=n.su.values().next().value;n.su.delete(e);let t=new te(st.fromString(e)),r=n.lu.next();n._u.set(r,new iT(t)),n.ou=n.ou.insert(t,r),NV(n.remoteStore,new Eh(Vi(ev(t.path)),r,"TargetPurposeLimboResolution",ET.le))}}function Oh(n,e,t){return E(this,null,function*(){let r=se(n),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,c)=>{o.push(r.Pu(c,e,t).then(l=>{var u;if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=OC.Ps(c.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.nu.Q_(i),yield function(c,l){return E(this,null,function*(){let u=se(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(l,f=>H.forEach(f.ls,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>H.forEach(f.hs,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Zl(h))throw h;Y(PT,"Failed to update sequence numbers: "+h)}for(let h of l){let f=h.targetId;if(!h.fromCache){let p=u.Ss.get(f),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);u.Ss=u.Ss.insert(f,v)}}})}(r.localStore,s))})}function EY(n,e){return E(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){Y(UT,"User change. New user:",e.toKey());let r=yield PV(t.localStore,e);t.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(c=>{c.reject(new K(U.CANCELLED,o))})}),s.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oh(t,r.Ms)}})}function IY(n,e){let t=se(n),r=t._u.get(e);if(r&&r.tu)return Ae().add(r.key);{let i=Ae(),s=t.iu.get(e);if(!s)return i;for(let o of s){let a=t.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function WV(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vY.bind(null,e),e.nu.Q_=uY.bind(null,e.eventManager),e.nu.Tu=dY.bind(null,e.eventManager),e}function DY(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_Y.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bY.bind(null,e),e}var qV=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=rv(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),yield this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)})}mu(t,r){return null}fu(t,r){return null}Vu(t){return WQ(this.persistence,new LC,t.initialUser,this.serializer)}Ru(t){return new Ny(NC.Ei,this.serializer)}Au(t){return new BC}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),aT=class extends qV{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ne(this.persistence.referenceDelegate instanceof Oy,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new wC(r,e.asyncQueue,t)}Ru(e){let t=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new Ny(r=>Oy.Ei(r,t),this.serializer)}};var CY=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bL(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=EY.bind(null,this.syncEngine),yield lY(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new eT}()}createDatastore(t){let r=rv(t.databaseInfo.databaseId),i=function(o){return new WC(o)}(t.databaseInfo);return function(o,a,c,l){return new QC(o,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,c){return new XC(i,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>bL(this.syncEngine,r,0),function(){return Ly.C()?new Ly:new UC}())}createSyncEngine(t,r){return function(s,o,a,c,l,u,h){let f=new sT(s,o,a,c,l,u);return h&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield function(s){return E(this,null,function*(){let o=se(s);Y(Ba,"RemoteStore shutting down."),o.aa.add(5),yield Nh(o),o.ca.shutdown(),o.la.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Sh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var cT=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return E(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new K(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,s){return E(this,null,function*(){let o=se(i),a={documents:s.map(h=>Py(o.serializer,h))},c=yield o.Wo("BatchGetDocuments",o.serializer.databaseId,st.emptyPath(),a,s.length),l=new Map;c.forEach(h=>{let f=MQ(o.serializer,h);l.set(f.key.toString(),f)});let u=[];return s.forEach(h=>{let f=l.get(h.toString());Ne(!!f,55234,{key:h}),u.push(f)}),u})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new zl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return E(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=te.fromPath(r);this.mutations.push(new Ty(i,this.precondition(i)))}),yield function(r,i){return E(this,null,function*(){let s=se(r),o={writes:i.map(a=>SV(s.serializer,a))};yield s.Qo("Commit",s.serializer.databaseId,st.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ee(50498,{xu:e.constructor.name});t=ie.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new K(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ie.min())?On.exists(!1):On.updateTime(t):On.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ie.min()))throw new K(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return On.updateTime(t)}return On.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var lT=class{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Ou=r.maxAttempts,this.y_=new Ch(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(()=>E(this,null,function*(){let e=new cT(this.datastore),t=this.Lu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ku(i)}))}).catch(r=>{this.ku(r)})}))}Lu(e){try{let t=this.updateFunction(e);return!kh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!wV(t)}return!1}};var So="FirestoreClient",uT=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=_y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>E(this,null,function*(){Y(So,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Y(So,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=LT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function OD(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Y(So,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield PV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function EL(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield TY(n);Y(So,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>yL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>yL(e.remoteStore,i)),n._onlineComponents=e})}function TY(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y(So,"Using user provided OfflineComponentProvider");try{yield OD(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;kl("Error using user provided cache. Falling back to memory cache: "+t),yield OD(n,new qV)}}else Y(So,"Using default OfflineComponentProvider"),yield OD(n,new aT(void 0));return n._offlineComponents})}function HT(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y(So,"Using user provided OnlineComponentProvider"),yield EL(n,n._uninitializedComponentsProvider._online)):(Y(So,"Using default OnlineComponentProvider"),yield EL(n,new CY))),n._onlineComponents})}function SY(n){return HT(n).then(e=>e.syncEngine)}function xY(n){return HT(n).then(e=>e.datastore)}function zy(n){return E(this,null,function*(){let e=yield HT(n),t=e.eventManager;return t.onListen=hY.bind(null,e.syncEngine),t.onUnlisten=gY.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fY.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mY.bind(null,e.syncEngine),t})}function AY(n,e,t={}){let r=new Ar;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,a,c,l){let u=new Sh({next:f=>{u.yu(),o.enqueueAndForget(()=>jT(s,h));let p=f.docs.has(a);!p&&f.fromCache?l.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?l.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Th(ev(a.path),u,{includeMetadataChanges:!0,Fa:!0});return VT(s,h)}(yield zy(n),n.asyncQueue,e,t,r)})),r.promise}function MY(n,e,t={}){let r=new Ar;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,a,c,l){let u=new Sh({next:f=>{u.yu(),o.enqueueAndForget(()=>jT(s,h)),f.fromCache&&c.source==="server"?l.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Th(a,u,{includeMetadataChanges:!0,Fa:!0});return VT(s,h)}(yield zy(n),n.asyncQueue,e,t,r)})),r.promise}function GV(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var IL=new Map;function KV(n,e,t){if(!t)throw new K(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RY(n,e,t,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DL(n){if(!te.isDocumentKey(n))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CL(n){if(te.isDocumentKey(n))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ov(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee(12329,{type:typeof n})}function Fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ov(n);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var QV="firestore.googleapis.com",TL=!0,Wy=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QV,this.ssl=TL}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:TL;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$Q)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ql=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FD;switch(r.type){case"firstParty":return new BD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=IL.get(t);r&&(Y("ComponentProvider","Removing Datastore"),IL.delete(t),r.terminate())}(this),Promise.resolve()}};function YV(n,e,t,r={}){var i;let s=(n=Fn(n,ql))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==QV&&s.host!==a&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Pi(c,o)&&(n._setSettings(c),r.mockUserToken)){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Xt.MOCK_USER;else{l=e1(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xt(h)}n._authCredentials=new LD(new yy(l,u))}}var Ua=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},hn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Do=class n extends Ua{constructor(e,t,r){super(e,t,ev(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new te(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function av(n,e,...t){if(n=dt(n),KV("collection","path",e),n instanceof ql){let r=st.fromString(e,...t);return CL(r),new Do(n,null,r)}{if(!(n instanceof hn||n instanceof Do))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(st.fromString(e,...t));return CL(r),new Do(n.firestore,null,r)}}function za(n,e,...t){if(n=dt(n),arguments.length===1&&(e=_y.newId()),KV("doc","path",e),n instanceof ql){let r=st.fromString(e,...t);return DL(r),new hn(n,null,new te(r))}{if(!(n instanceof hn||n instanceof Do))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(st.fromString(e,...t));return DL(r),new hn(n.firestore,n instanceof Do?n.converter:null,new te(r))}}var SL="AsyncQueue",qy=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Ch(this,"async_queue_retry"),this.ju=()=>{let r=ND();r&&Y(SL,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let t=ND();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let t=ND();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let t=new Ar;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return E(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Zl(e))throw e;Y(SL,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Es("INTERNAL UNHANDLED ERROR: ",xL(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);let i=ZC.createAndSchedule(this,e,t,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&ee(47125,{ec:xL(this.Ku)})}verifyOperationInProgress(){}tc(){return E(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let t=this.Uu.indexOf(e);this.Uu.splice(t,1)}};function xL(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function AL(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Mr=class extends ql{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new qy,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qy(e),this._firestoreClient=void 0,yield e}})}};function XV(n,e){let t=typeof n=="object"?n:Ca(),r=typeof n=="string"?n:e||Iy,i=bl(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=JO("firestore");s&&YV(i,...s)}return i}function Fh(n){if(n._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PY(n),n._firestoreClient}function PY(n){var e,t,r;let i=n._freezeSettings(),s=function(a,c,l,u){return new WD(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GV(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new uT(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Gl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(In.fromBase64String(e))}catch(t){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var $a=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var xh=class{constructor(e){this._methodName=e}};var Ah=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var Mh=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var kY=/^__.*__$/,dT=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new ja(e,this.data,t,this.fieldTransforms)}},Gy=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function ZV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{oc:n})}}var hT=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Qy(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(ZV(this.oc)&&kY.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},fT=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rv(e)}dc(e,t,r,i=!1){return new hT({oc:e,methodName:t,Ec:r,path:lr.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Lh(n){let e=n._freezeSettings(),t=rv(n._databaseId);return new fT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zT(n,e,t,r,i,s={}){let o=n.dc(s.merge||s.mergeFields?2:0,e,t,i);WT("Data must be an object, but it was:",o,r);let a=t2(r,o),c,l;if(s.merge)c=new xr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let h of s.mergeFields){let f=pT(e,h,t);if(!o.contains(f))throw new K(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);r2(u,f)||u.push(f)}c=new xr(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new dT(new Qn(a),c,l)}var Ky=class n extends xh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function JV(n,e,t,r){let i=n.dc(1,e,t);WT("Data must be an object, but it was:",i,r);let s=[],o=Qn.empty();xo(r,(c,l)=>{let u=qT(e,c,t);l=dt(l);let h=i.hc(u);if(l instanceof Ky)s.push(u);else{let f=Vh(l,h);f!=null&&(s.push(u),o.set(u,f))}});let a=new xr(s);return new Gy(o,a,i.fieldTransforms)}function e2(n,e,t,r,i,s){let o=n.dc(1,e,t),a=[pT(e,r,t)],c=[i];if(s.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(pT(e,s[f])),c.push(s[f+1]);let l=[],u=Qn.empty();for(let f=a.length-1;f>=0;--f)if(!r2(l,a[f])){let p=a[f],m=c[f];m=dt(m);let v=o.hc(p);if(m instanceof Ky)l.push(p);else{let _=Vh(m,v);_!=null&&(l.push(p),u.set(p,_))}}let h=new xr(l);return new Gy(u,h,o.fieldTransforms)}function NY(n,e,t,r=!1){return Vh(t,n.dc(r?4:3,e))}function Vh(n,e){if(n2(n=dt(n)))return WT("Unsupported field value:",e,n),t2(n,e);if(n instanceof xh)return function(r,i){if(!ZV(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Vh(a,i.Pc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=$e.fromDate(r);return{timestampValue:Ry(i.serializer,s)}}if(r instanceof $e){let s=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ry(i.serializer,s)}}if(r instanceof Ah)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gl)return{bytesValue:IV(i.serializer,r._byteString)};if(r instanceof hn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:RT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mh)return function(o,a){return{mapValue:{fields:{[CT]:{stringValue:TT},[Ol]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return MT(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${ov(r)}`)}(n,e)}function t2(n,e){let t={};return KL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(n,(r,i)=>{let s=Vh(i,e.uc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function n2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $e||n instanceof Ah||n instanceof Gl||n instanceof hn||n instanceof xh||n instanceof Mh)}function WT(n,e,t){if(!n2(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=ov(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function pT(n,e,t){if((e=dt(e))instanceof $a)return e._internalPath;if(typeof e=="string")return qT(n,e);throw Qy("Field path arguments must be of type string or ",n,!1,void 0,t)}var OY=new RegExp("[~\\*/\\[\\]]");function qT(n,e,t){if(e.search(OY)>=0)throw Qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $a(...e.split("."))._internalPath}catch{throw Qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qy(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new K(U.INVALID_ARGUMENT,a+n+c)}function r2(n,e){return n.some(t=>t.isEqual(e))}var Kl=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(GT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},gT=class extends Kl{data(){return super.data()}};function GT(n,e){return typeof e=="string"?qT(n,e):e instanceof $a?e._internalPath:e._delegate._internalPath}function i2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rh=class{},mT=class extends Rh{};function s2(n,e,...t){let r=[];e instanceof Rh&&r.push(e),r=r.concat(t),function(s){let o=s.filter(c=>c instanceof yT).length,a=s.filter(c=>c instanceof Yy).length;if(o>1||o>0&&a>0)throw new K(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Yy=class n extends mT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return a2(e._query,t),new Ua(e.firestore,e.converter,iC(e._query,t))}_parse(e){let t=Lh(e.firestore);return function(s,o,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){RL(h,u);let m=[];for(let v of h)m.push(ML(c,s,v));f={arrayValue:{values:m}}}else f=ML(c,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||RL(h,u),f=NY(a,o,h,u==="in"||u==="not-in");return Nt.create(l,u,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function o2(n,e,t){let r=e,i=GT("where",n);return Yy._create(i,r,t)}var yT=class n extends Rh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ri.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)a2(o,c),o=iC(o,c)}(e._query,t),new Ua(e.firestore,e.converter,iC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function ML(n,e,t){if(typeof(t=dt(t))=="string"){if(t==="")throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cV(e)&&t.indexOf("/")!==-1)throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(st.fromString(t));if(!te.isDocumentKey(r))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QF(n,new te(r))}if(t instanceof hn)return QF(n,t._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(t)}.`)}function RL(n,e){if(!Array.isArray(n)||n.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a2(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Xy=class{convertValue(e,t="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return xo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ol].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ht(o.doubleValue));return new Mh(s)}convertGeoPoint(e){return new Ah(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Jy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_h(e));default:return null}}convertTimestamp(e){let t=Is(e);return new $e(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=st.fromString(e);Ne(MV(r),9688,{name:e});let i=new Dy(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(t)||Es(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function KT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var vT=class extends Xy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}};var Io=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ph=class extends Kl{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Pl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(GT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Pl=class extends Ph{data(e={}){return super.data(e)}},Zy=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Pl(this._firestore,this._userDataWriter,r.key,r,new Io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Pl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Pl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:FY(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function FY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:n})}}function cv(n){n=Fn(n,hn);let e=Fn(n.firestore,Mr);return AY(Fh(e),n._key).then(t=>h2(e,n,t))}var Ql=class extends Xy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}};function c2(n){n=Fn(n,Ua);let e=Fn(n.firestore,Mr),t=Fh(e),r=new Ql(e);return i2(n._query),MY(t,n._query).then(i=>new Zy(e,r,n,i))}function QT(n,e,t){n=Fn(n,hn);let r=Fn(n.firestore,Mr),i=KT(n.converter,e,t);return lv(r,[zT(Lh(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,On.none())])}function l2(n,e,t,...r){n=Fn(n,hn);let i=Fn(n.firestore,Mr),s=Lh(i),o;return o=typeof(e=dt(e))=="string"||e instanceof $a?e2(s,"updateDoc",n._key,e,t,r):JV(s,"updateDoc",n._key,e),lv(i,[o.toMutation(n._key,On.exists(!0))])}function u2(n){return lv(Fn(n.firestore,Mr),[new zl(n._key,On.none())])}function d2(n,e){let t=Fn(n.firestore,Mr),r=za(n),i=KT(n.converter,e);return lv(t,[zT(Lh(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,On.exists(!1))]).then(()=>r)}function YT(n,...e){var t,r,i;n=dt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||AL(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(AL(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,l,u;if(n instanceof hn)l=Fn(n.firestore,Mr),u=ev(n._key.path),c={next:h=>{e[o]&&e[o](h2(l,n,h))},error:e[o+1],complete:e[o+2]};else{let h=Fn(n,Ua);l=Fn(h.firestore,Mr),u=h._query;let f=new Ql(l);c={next:p=>{e[o]&&e[o](new Zy(l,f,h,p))},error:e[o+1],complete:e[o+2]},i2(n._query)}return function(f,p,m,v){let _=new Sh(v),C=new Th(p,_,m);return f.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return VT(yield zy(f),C)})),()=>{_.yu(),f.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return jT(yield zy(f),C)}))}}(Fh(l),u,a,c)}function lv(n,e){return function(r,i){let s=new Ar;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return yY(yield SY(r),i,s)})),s.promise}(Fh(n),e)}function h2(n,e,t){let r=t.docs.get(e._key),i=new Ql(n);return new Ph(n,i,e._key,r,new Io(t.hasPendingWrites,t.fromCache),e.converter)}var LY={maxAttempts:5};function dh(n,e){if((n=dt(n)).firestore!==e)throw new K(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var _T=class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lh(e)}get(e){let t=dh(e,this._firestore),r=new vT(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return ee(24041);let s=i[0];if(s.isFoundDocument())return new Kl(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Kl(this._firestore,r,t._key,null,t.converter);throw ee(18433,{doc:s})})}set(e,t,r){let i=dh(e,this._firestore),s=KT(i.converter,t,r),o=zT(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){let s=dh(e,this._firestore),o;return o=typeof(t=dt(t))=="string"||t instanceof $a?e2(this._dataReader,"Transaction.update",s._key,t,r,i):JV(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){let t=dh(e,this._firestore);return this._transaction.delete(t._key),this}};var bT=class extends _T{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=dh(e,this._firestore),r=new Ql(this._firestore);return super.get(e).then(i=>new Ph(this._firestore,r,t._key,i._document,new Io(!1,!1),t.converter))}};function f2(n,e,t){n=Fn(n,Mr);let r=Object.assign(Object.assign({},LY),t);return function(s){if(s.maxAttempts<1)throw new K(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let c=new Ar;return s.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let l=yield xY(s);new lT(s.asyncQueue,l,a,o,c).Nu()})),c.promise}(Fh(n),i=>e(new bT(n,i)),r)}(function(e,t=!0){(function(i){Yl=i})(po),ei(new Nn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Mr(new VD(r.getProvider("auth-internal")),new UD(o,r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dy(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wt(jF,BF,e),wt(jF,BF,"esm2017")})();var uv=function(){return uv=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},uv.apply(this,arguments)};var BY={includeMetadataChanges:!1};function p2(n,e){return e===void 0&&(e=BY),new ue(function(t){var r=YT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function g2(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:uv(uv({},r),(t={},t[e.idField]=n.id,t))}function m2(n){return p2(n,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function y2(n,e){return e===void 0&&(e={}),m2(n).pipe(ne(function(t){return t.map(function(r){return g2(r,e)})}))}var Ss=class{constructor(e){return e}},v2="firestore",XT=class{constructor(){return El(v2)}};var ZT=new Q("angularfire2.firestore-instances");function UY(n,e){let t=Kd(v2,n,e);return t&&new Ss(t)}function $Y(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ss(r)}}var HY={provide:XT,deps:[[new Mn,ZT]]},zY={provide:Ss,useFactory:UY,deps:[[new Mn,ZT],ti]};function _2(n,...e){return wt("angularfire",go.full,"fst"),yr([zY,HY,{provide:ZT,useFactory:$Y(n),multi:!0,deps:[xe,bt,mo,Sa,[new Mn,ch],[new Mn,Il],...e]}])}var JT=Ht(y2,!0);var eu=Ht(d2,!0,2);var Ao=Ht(av,!0,2);var jh=Ht(u2,!0,2);var tu=Ht(za,!0,2);var eS=Ht(cv,!0);var hr=Ht(c2,!0);var b2=Ht(XV,!0);var ii=Ht(s2,!0,2);var w2=Ht(f2,!0);var E2=Ht(l2,!0,2);var xt=Ht(o2,!0,2);var I2=[{name:"Bench Press",description:"A barbell exercise that targets the pectoral muscles by pressing the weight upward from the chest.",muscleGroupWorked:1},{name:"Incline Dumbbell Press",description:"Performed on an incline bench to emphasize the upper chest using dumbbells.",muscleGroupWorked:1},{name:"Chest Fly",description:"Isolates the chest muscles using dumbbells or cables in a wide arc motion.",muscleGroupWorked:1},{name:"Deadlift",description:"A compound lift targeting the entire posterior chain including the lower back and upper back.",muscleGroupWorked:2},{name:"Lat Pulldown",description:"Targets the latissimus dorsi by pulling a cable bar down to the chest.",muscleGroupWorked:2},{name:"Bent Over Row",description:"A barbell or dumbbell movement that works the mid and upper back muscles.",muscleGroupWorked:2},{name:"Barbell Curl",description:"A classic biceps exercise performed by curling a barbell toward the chest.",muscleGroupWorked:3},{name:"Hammer Curl",description:"Uses a neutral grip to work both the biceps and the brachialis muscle.",muscleGroupWorked:3},{name:"Preacher Curl",description:"Isolates the biceps by resting arms on a pad and curling a bar or dumbbell.",muscleGroupWorked:3},{name:"Triceps Pushdown",description:"Performed on a cable machine to extend the arms and target the triceps.",muscleGroupWorked:4},{name:"Overhead Triceps Extension",description:"Dumbbell or cable movement targeting the long head of the triceps.",muscleGroupWorked:4},{name:"Close-Grip Bench Press",description:"A variation of the bench press with hands close together to emphasize triceps.",muscleGroupWorked:4},{name:"Back Squat",description:"A barbell squat that primarily targets the glutes and quads.",muscleGroupWorked:5},{name:"Leg Press",description:"A machine exercise that presses weight with the legs to build quad and glute strength.",muscleGroupWorked:5},{name:"Walking Lunge",description:"A dynamic movement targeting the quads and glutes with each step forward.",muscleGroupWorked:5},{name:"Romanian Deadlift",description:"Focuses on the hamstrings and glutes with minimal knee movement.",muscleGroupWorked:6},{name:"Leg Curl",description:"Isolates the hamstrings using a machine that curls the legs toward the body.",muscleGroupWorked:6},{name:"Standing Calf Raise",description:"Strengthens the calf muscles by raising the heels while standing.",muscleGroupWorked:6}];var dv=class n{constructor(){}firestore=O(Ss);userCollection=Ao(this.firestore,"users");exerciseCollection=Ao(this.firestore,"exercises");dataCollection=Ao(this.firestore,"data");setsCollection=Ao(this.firestore,"sets");exerciseList;ngOnInit(){this.exerciseList=this.getAllExercises()}getExerciseSetDataForDay(e,t){return E(this,null,function*(){let r=new Date(t);r.setHours(0,0,0,0);let i=new Date(t);i.setHours(23,59,59,999);let s=ii(this.dataCollection,xt("userId","==",e),xt("date",">=",$e.fromDate(r)),xt("date","<=",$e.fromDate(i)));try{let o=yield hr(s),a=[];if(o.empty)return console.warn("No data documents found for userId:",e,"and day:",t),[];for(let c of o.docs){let l=c.data(),u=l.exerciseId,h=l.totalVolume,f=yield this.getExerciseById(u),p=ii(this.setsCollection,xt("dataId","==",c.id)),v=(yield hr(p)).docs.map(C=>C.data()),_={exercise:f,sets:v,totalVolume:h};a.push(_)}return a}catch(o){throw o}})}getExerciseById(e){return E(this,null,function*(){let t=tu(this.exerciseCollection,e),r=yield eS(t);if(r.exists())return z({id:r.id},r.data());throw new Error(`Exercise with ID ${e} not found`)})}addSetstoExerciseOnDay(e,t,r,i){return E(this,null,function*(){return yield w2(this.firestore,s=>E(this,null,function*(){let o=ii(this.dataCollection,xt("userId","==",e),xt("date","==",$e.fromDate(t)),xt("exerciseId","==",r)),a=yield hr(o),c,l;a.empty?(c=(yield eu(this.dataCollection,{userId:e,date:$e.fromDate(t),exerciseId:r,totalVolume:0})).id,l={data:()=>({totalVolume:0})}):(l=a.docs[0],c=l.id);let u=[],h=0;for(let p of i){let m=yield eu(this.setsCollection,{dataId:c,reps:p.numOfReps,weight:p.weight});u.push(m.id);let v=Pm(p.numOfReps);h+=Math.floor(p.numOfReps*p.weight*v)}let f=l.data().totalVolume+h;return s.update(tu(this.firestore,"data",c),{totalVolume:f}),u}))})}deleteExerciseWithSetsForDay(e,t,r){return E(this,null,function*(){let i=Ao(this.firestore,"data"),s=Ao(this.firestore,"sets"),o=ii(i,xt("userId","==",e),xt("date","==",$e.fromDate(t)),xt("exerciseId","==",r)),a=yield hr(o);if(a.empty)return;let l=a.docs[0].id,u=ii(s,xt("dataId","==",l)),f=(yield hr(u)).docs.map(p=>jh(tu(this.firestore,"sets",p.id)));yield Promise.all(f),yield jh(tu(this.firestore,"data",l)),console.log(`Deleted all sets and data for exercise ${r} on ${t.toDateString()}`)})}addExercise(e,t,r){return E(this,null,function*(){let i=Ao(this.firestore,"exercises");return(yield eu(i,{name:e,muscleGroup:t,description:r})).id})}addExercisesFromJSON(){for(let e of I2)this.addExercise(e.name,e.muscleGroupWorked,e.description)}addThreeExerciseSets(e,t){return E(this,null,function*(){try{let r=yield hr(this.exerciseCollection),i=[];if(r.forEach(s=>{let o=s.data();i.push({id:s.id,name:o.name,description:o.description,muscleGroupWorked:o.muscleGroupWorked})}),i.length===0)throw new Error("No exercises found in Firestore!");for(let s=0;s<3;s++){let o=Math.floor(Math.random()*i.length),a=i[o].id,c=Math.floor(Math.random()*3)+2,l=[];for(let h=0;h<c;h++){let f=Math.floor(Math.random()*7)+6,p=Math.floor(Math.random()*81)+70;l.push({dataId:"",numOfReps:f,weight:p})}let u=yield this.addSetstoExerciseOnDay(e,t,a,l);console.log(`Exercise ${s+1} (Exercise ID: ${a}) added with ${c} sets and IDs: ${u}`)}}catch(r){throw r}})}addExerciseSetsForXDays(e,t,r){return E(this,null,function*(){for(let i=0;i<r;i++){let s=gs(t,i);yield this.addThreeExerciseSets(e,s)}})}getMuscleGroupsInDateRange(e,t,r){return E(this,null,function*(){let i=new Map,s=ii(this.dataCollection,xt("userId","==",e),xt("date",">=",$e.fromDate(t)),xt("date","<=",$e.fromDate(r))),o=yield hr(s);(o==null||o.empty)&&console.error("Data returned by query is null or none");for(let a of o.docs){let c=a.data(),l=c.exerciseId,u=c.totalVolume,h=this.getExerciseById(l),f=ii(this.setsCollection,xt("dataId","==",a.id)),p=hr(f),m=yield h,_=(yield p).docs.map(j=>j.data()),C={exercise:m,sets:_,totalVolume:u},N=new Date(c.date).toISOString().split("T")[0];console.log(N),i.has(N)?i.get(N)?.push(C):i.set(N,[C])}return console.log("Got user data from: "+t.toISOString()+`
 To: `+r),console.log("Data: "),this.printMap(i),i})}getExerciseSetsInDateRange(e,t,r){return E(this,null,function*(){let i=[],s=hr(this.exerciseCollection),o=ii(this.dataCollection,xt("userId","==",e),xt("date",">=",$e.fromDate(t)),xt("date","<=",$e.fromDate(r))),a=yield hr(o),c=[],l,u,h;for(let x of a.docs){let N=x.data();h=new Date(N.date.seconds*1e3);let j=h.toISOString().split("T")[0];l=N.exerciseId,u=N.totalVolume,c.push(x.id),i.push({id:x.id,date:j,totalVolume:u,exersiceId:l})}let f=10,p=[],m=[];for(let x=0;x<c.length;x++){let N=c[x];m.push(N),(m.length==f||x==c.length-1)&&(p.push(hr(ii(this.setsCollection,xt("dataId","in",m)))),m=[])}let v=[];for(let x of p)(yield x).docs.map(L=>{let B=L.data();return B.numOfReps=L.data().reps,B}).forEach(L=>v.push(L));let _=(yield s).docs.map(x=>{let N=x.data();return N.id=x.id,N}),C=new Map;for(let x of i){let N;for(let L of _)L.id==x.exersiceId&&(N=L);let j=[];for(let L of v)L.dataId==x.id&&j.push(L);C.has(x.date)||C.set(x.date,[]),N!=null?C.get(x.date)?.push({totalVolume:x.totalVolume,exercise:N,sets:j}):console.error("No Exercise for :"+x.date)}return C})}getAllExercises(){return JT(this.exerciseCollection,{idField:"id"})}getUsers(){return JT(this.userCollection,{idField:"id"})}printMap(e){let t=Object.fromEntries(e);console.log(JSON.stringify(t,null,2))}addExerciseData(e,t,r,i){return E(this,null,function*(){return(yield eu(this.dataCollection,{date:$e.fromDate(i),exerciseId:e,totalVolume:t,userId:r})).id})}addSetData(e,t){return E(this,null,function*(){let r=[];for(let i of e)r.push(eu(this.setsCollection,{dataId:t,reps:i.numOfReps,weight:i.weight}));for(let i of r)yield i})}deleteSets(e){return E(this,null,function*(){let t=e[0].dataId,r=ii(this.setsCollection,xt("dataId","==",t)),i=(yield hr(r)).docs.map(s=>{jh(s.ref)});for(let s of i)yield s})}deleteData(e){return E(this,null,function*(){let t=tu(this.firestore,"data",e.trim()),r=yield eS(t);r.exists()?jh(r.ref):console.log("Error data document does not exist: "+JSON.stringify(r.data()))})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var It=class n{auth=O(zt);firestore=O(Ss);userCol=av(this.firestore,"users");userSubject=new Vt(null);user=this.userSubject.asObservable();constructor(){OF(this.auth).pipe(yn(e=>e?je(this.getUserData(e.uid)):Z(null))).subscribe(e=>{this.userSubject.next(e)})}ngOnInit(){}getUserId(){if(this.userSubject.value)return this.userSubject.value.id;throw new Error("No user signed in unable to get id.")}userSignedIn(){return this.userSubject.value!=null}getUserData(e){return E(this,null,function*(){let t=za(this.firestore,"users/"+e),r=yield cv(t),i=r.data();return i.id=r.id,console.log(JSON.stringify(i)),i})}register(e,t,r){return E(this,null,function*(){let s=(yield sy(this.auth,e,t)).user,o=za(this.firestore,"users",s.uid);return yield QT(o,{email:s.email,createdAt:new Date().toISOString(),fname:r.fname,lname:r.lname,units:r.units}),s})}saveUser(){return E(this,null,function*(){let e=yield ui(this.user);if(e!=null){let t=za(this.firestore,"users",e.id);E2(t,{fname:e.fname,lname:e.lname,units:e.units})}else console.error("Trying to save null user!")})}setUserUnits(e){return E(this,null,function*(){let t=yield ui(this.user);t!=null?(t.units=e,this.userSubject.next(t)):console.error("Trying to set units for null user!")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Rr=class n{constructor(e){this.router=e}dataMap=new Map;userId;fetchService=O(dv);userSubscription;auth=O(zt);authService=O(It);ngOnInit(){this.getUserId();let e=new Date,t=new Date;t.setDate(e.getDate()-90),this.populateDateMap(t,e)}getUserId(){return E(this,null,function*(){let e=yield ui(this.authService.user);e==null?this.router.navigate(["login-page"]):this.userId=e.id})}resetDataMap(){this.dataMap=new Map}getExerciseSetsForDay(r){return E(this,arguments,function*(e,t=this.userId??"12345"){console.log(this.userId);let i=e.toISOString().slice(0,10);if(this.dataMap.has(i))return Promise.resolve(this.dataMap.get(i));try{let s=yield this.fetchService.getExerciseSetDataForDay(t,e);return this.dataMap.set(i,s||[]),s||[]}catch(s){throw s}})}preloadMonthSets(i,s){return E(this,arguments,function*(e,t,r=this.userId??"12345"){let o=new Date(e,t,1),a=new Date(e,t+1,0),c=[];for(let l=new Date(o);l<=a;l.setDate(l.getDate()+1))c.push(new Date(l));yield Promise.all(c.map(l=>this.getExerciseSetsForDay(l,r)))})}getMuscleGroupsForDateRange(e,t){!this.dataMap.has(this.getDateString(e))||this.dataMap.has(this.getDateString(t));let r=new Map;for(;e<t;){let i=0;this.dataMap.get(this.getDateString(e))?.forEach(s=>{s==null?console.error("No set for :"+e.toString()):i=s.exercise.muscleGroup}),r.set(this.getDateString(e),i),e.setDate(e.getDate()+1)}return r}getDataInDateRange(i,s){return E(this,arguments,function*(e,t,r=this.userId??"12345"){return(!this.dataMap.has(this.getDateString(e))||!this.dataMap.has(this.getDateString(t)))&&(yield this.populateDateMap(e,t,r)),this.dataMap})}getAllExercises(){return this.fetchService.getAllExercises()}populateDateMap(i,s){return E(this,arguments,function*(e,t,r=this.userId??"12345"){console.log("Getting data from fetch service. "),this.dataMap=yield this.fetchService.getExerciseSetsInDateRange(r,e,t),console.log("Got data from fetch service. ")})}getDateString(e){return e.toISOString().split("T")[0]}addWorkout(e,t,r,i){return E(this,null,function*(){let s="";e.id.trim()==""?s=yield this.fetchService.addExercise(e.name,e.muscleGroup,e.description):s=e.id;let o=0;for(let c of t){let l=Pm(c.numOfReps);o+=Math.floor(c.numOfReps*c.weight*l)}let a=yield this.fetchService.addExerciseData(s,o,r,i);this.fetchService.addSetData(t,a)})}deleteExerciseSet(e){return E(this,null,function*(){if(e.sets.length==0)throw new Error("No sets in exercise set");let t=this.fetchService.deleteSets(e.sets),r=this.fetchService.deleteData(e.sets[0].dataId);yield t,yield r})}static \u0275fac=function(t){return new(t||n)(J(Ke))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ui=class n{constructor(e){this.dataService=e}test_user_id="3k7dINFrSssLj0qq8TqF";GetVolumeMuscleGroup(e,t){return E(this,null,function*(){let r=new Map([[1,0],[2,0],[3,0],[4,0],[5,0],[6,0]]);for(let i=new Date(e);i<=t;i=gs(i,1)){let s=yield this.dataService.getExerciseSetsForDay(i);if(s)for(let o of s){let a=o.exercise.muscleGroup,c=r.get(a)||0;r.set(a,c+o.totalVolume)}}return r})}GetVolumeExercise(e,t){return E(this,null,function*(){let r=new Map;for(let i=new Date(e);i<=t;i=gs(i,1)){let s=yield this.dataService.getExerciseSetsForDay(i);if(s)for(let o of s){let a=o.exercise.id,c=r.get(a);c?c.volume+=o.totalVolume:r.set(a,{exercise:o.exercise,volume:o.totalVolume})}}return r})}GetIntervalProgress(e,t,r){return E(this,null,function*(){let i={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},s={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},o={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},a={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},c={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},l={volumeFirstInterval:0,volumeLastInterval:0,volumeMax:0,volumeMin:0},u=e;for(let f=0;f<r;f++){let p=gs(u,t-1),m=yield this.GetVolumeMuscleGroup(u,p);f==0&&(i.volumeFirstInterval=m.get(1)??0,s.volumeFirstInterval=m.get(2)??0,o.volumeFirstInterval=m.get(4)??0,a.volumeFirstInterval=m.get(3)??0,c.volumeFirstInterval=m.get(5)??0,l.volumeFirstInterval=m.get(6)??0,i.volumeMin=m.get(1)??0,s.volumeMin=m.get(2)??0,o.volumeMin=m.get(4)??0,a.volumeMin=m.get(3)??0,c.volumeMin=m.get(5)??0,l.volumeMin=m.get(6)??0,i.volumeMax=m.get(1)??0,s.volumeMax=m.get(2)??0,o.volumeMax=m.get(4)??0,a.volumeMax=m.get(3)??0,c.volumeMax=m.get(5)??0,l.volumeMax=m.get(6)??0),f==r-1&&(i.volumeLastInterval=m.get(1)??0,s.volumeLastInterval=m.get(2)??0,o.volumeLastInterval=m.get(4)??0,a.volumeLastInterval=m.get(3)??0,c.volumeLastInterval=m.get(5)??0,l.volumeLastInterval=m.get(6)??0),i.volumeMin=Math.min(m.get(1)??0,i.volumeMin),s.volumeMin=Math.min(m.get(2)??0,s.volumeMin),o.volumeMin=Math.min(m.get(4)??0,o.volumeMin),a.volumeMin=Math.min(m.get(3)??0,a.volumeMin),c.volumeMin=Math.min(m.get(5)??0,c.volumeMin),l.volumeMin=Math.min(m.get(6)??0,l.volumeMin),i.volumeMax=Math.max(m.get(1)??0,i.volumeMax),s.volumeMax=Math.max(m.get(2)??0,s.volumeMax),o.volumeMax=Math.max(m.get(4)??0,o.volumeMax),a.volumeMax=Math.max(m.get(3)??0,a.volumeMax),c.volumeMax=Math.max(m.get(5)??0,c.volumeMax),l.volumeMax=Math.max(m.get(6)??0,l.volumeMax),f<r-1&&(u=gs(p,1))}let h=new Map;return h.set(1,i),h.set(2,s),h.set(3,a),h.set(4,o),h.set(5,c),h.set(6,l),h})}static \u0275fac=function(t){return new(t||n)(J(Rr))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function GY(n,e){if(n&1&&(R(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th"),F(5,"Muscle Group"),M(),R(6,"th"),F(7,"Volume Worked"),M()()(),R(8,"tbody")(9,"tr")(10,"td"),F(11,"Chest"),M(),R(12,"td"),F(13),Ut(14,"weightUnit"),M()(),R(15,"tr")(16,"td"),F(17,"Back"),M(),R(18,"td"),F(19),Ut(20,"weightUnit"),M()(),R(21,"tr")(22,"td"),F(23,"Biceps"),M(),R(24,"td"),F(25),Ut(26,"weightUnit"),M()(),R(27,"tr")(28,"td"),F(29,"Tricpes"),M(),R(30,"td"),F(31),Ut(32,"weightUnit"),M()(),R(33,"tr")(34,"td"),F(35,"Glutes/Quads"),M(),R(36,"td"),F(37),Ut(38,"weightUnit"),M()(),R(39,"tr")(40,"td"),F(41,"Hamstrings/Calves"),M(),R(42,"td"),F(43),Ut(44,"weightUnit"),M()()()()()),n&2){let t=Ee();$(13),Ge(dn(14,6,t.chestVolume,t.usinglbs)),$(6),Ge(dn(20,9,t.backVolume,t.usinglbs)),$(6),Ge(dn(26,12,t.bicepsVolume,t.usinglbs)),$(6),Ge(dn(32,15,t.tricepsVolume,t.usinglbs)),$(6),Ge(dn(38,18,t.glutesQuadsVolume,t.usinglbs)),$(6),Ge(dn(44,21,t.hamstringsCalvesVolume,t.usinglbs))}}function KY(n,e){n&1&&(R(0,"p",0),F(1,"Loading"),M())}var fv=class n{constructor(e){this.intervalService=e}startDate;endDate;usinglbs;volumeMuscleGroupMap=new Map;chestVolume=0;backVolume=0;bicepsVolume=0;tricepsVolume=0;glutesQuadsVolume=0;hamstringsCalvesVolume=0;isLoaded=!0;ngOnChanges(){this.loadData()}loadData(){return E(this,null,function*(){this.isLoaded=!1,this.volumeMuscleGroupMap=yield this.intervalService.GetVolumeMuscleGroup(this.startDate,this.endDate),this.chestVolume=this.volumeMuscleGroupMap.get(1)??0,this.backVolume=this.volumeMuscleGroupMap.get(2)??0,this.bicepsVolume=this.volumeMuscleGroupMap.get(3)??0,this.tricepsVolume=this.volumeMuscleGroupMap.get(4)??0,this.glutesQuadsVolume=this.volumeMuscleGroupMap.get(5)??0,this.hamstringsCalvesVolume=this.volumeMuscleGroupMap.get(6)??0,this.isLoaded=!0})}static \u0275fac=function(t){return new(t||n)(X(Ui))};static \u0275cmp=ve({type:n,selectors:[["app-volume-muscle-group"]],inputs:{startDate:"startDate",endDate:"endDate",usinglbs:"usinglbs"},features:[Gt],decls:4,vars:1,consts:[[1,"text-center"],[1,"d-flex","justify-content-center"],[1,"table-bordered","table-striped","table-hover","mt-3","mb-3"]],template:function(t,r){t&1&&(R(0,"h2",0),F(1,"Total Volume Performed for Muscle Group"),M(),Pe(2,GY,45,24,"div",1)(3,KY,2,0,"p",0)),t&2&&($(2),ut(r.isLoaded?2:3))},dependencies:[Ri],styles:["h2[_ngcontent-%COMP%]{font-size:3rem;color:#f0f0f0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#f0f0f0}"]})};var QY=(n,e)=>e[0];function YY(n,e){n&1&&(R(0,"p",0),F(1,"Loading"),M())}function XY(n,e){}function ZY(n,e){if(n&1&&(R(0,"tr"),Pe(1,XY,0,0),R(2,"td"),F(3),M(),R(4,"td"),F(5),Ut(6,"weightUnit"),M()()),n&2){let t=e.$implicit,r=Ee(2);$(),ut(t?1:-1),$(2),Ge(t[1].exercise.name),$(2),Ge(dn(6,3,t[1].volume,r.usinglbs))}}function JY(n,e){if(n&1&&(R(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th"),F(5,"Exercise"),M(),R(6,"th"),F(7,"Volume"),M()()(),R(8,"tbody"),Pn(9,ZY,7,6,"tr",null,QY),M()()()),n&2){let t=Ee();$(9),kn(t.volumeExerciseMap.entries())}}function eX(n,e){n&1&&(R(0,"div",1)(1,"p",3),F(2,"Sorry, there are no exercises to show."),M()())}var pv=class n{constructor(e){this.intervalService=e}startDate;endDate;usinglbs;volumeExerciseMap=new Map;isLoaded=!0;ngOnChanges(){this.loadData()}loadData(){return E(this,null,function*(){this.isLoaded=!1,this.volumeExerciseMap=yield this.intervalService.GetVolumeExercise(this.startDate,this.endDate),this.isLoaded=!0})}static \u0275fac=function(t){return new(t||n)(X(Ui))};static \u0275cmp=ve({type:n,selectors:[["app-volume-exercise"]],inputs:{startDate:"startDate",endDate:"endDate",usinglbs:"usinglbs"},features:[Gt],decls:5,vars:1,consts:[[1,"text-center"],[1,"d-flex","justify-content-center"],[1,"table-bordered","table-striped","table-hover","mt-3","mb-3"],[1,"mt-3","mb-3","sorry-message"]],template:function(t,r){t&1&&(R(0,"h2",0),F(1,"Total Volume Performed For Exercise Worked"),M(),Pe(2,YY,2,0,"p",0)(3,JY,11,0,"div",1)(4,eX,3,0,"div",1)),t&2&&($(2),ut(r.isLoaded==!1?2:r.volumeExerciseMap.size?3:4))},dependencies:[Ri],styles:["h2[_ngcontent-%COMP%]{font-size:3rem;color:#f0f0f0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#f0f0f0}.sorry-message[_ngcontent-%COMP%]{font-size:2rem;color:#f0f0f0}p[_ngcontent-%COMP%]{color:#f0f0f0}"]})};function $h(n){return n+.5|0}var Mo=(n,e,t)=>Math.max(Math.min(n,t),e);function Bh(n){return Mo($h(n*2.55),0,255)}function Ro(n){return Mo($h(n*255),0,255)}function xs(n){return Mo($h(n/2.55)/100,0,1)}function C2(n){return Mo($h(n*100),0,100)}var Pr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nS=[..."0123456789ABCDEF"],tX=n=>nS[n&15],nX=n=>nS[(n&240)>>4]+nS[n&15],gv=n=>(n&240)>>4===(n&15),rX=n=>gv(n.r)&&gv(n.g)&&gv(n.b)&&gv(n.a);function iX(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Pr[n[1]]*17,g:255&Pr[n[2]]*17,b:255&Pr[n[3]]*17,a:e===5?Pr[n[4]]*17:255}:(e===7||e===9)&&(t={r:Pr[n[1]]<<4|Pr[n[2]],g:Pr[n[3]]<<4|Pr[n[4]],b:Pr[n[5]]<<4|Pr[n[6]],a:e===9?Pr[n[7]]<<4|Pr[n[8]]:255})),t}var sX=(n,e)=>n<255?e(n):"";function oX(n){var e=rX(n)?tX:nX;return n?"#"+e(n.r)+e(n.g)+e(n.b)+sX(n.a,e):void 0}var aX=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A2(n,e,t){let r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function cX(n,e,t){let r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function lX(n,e,t){let r=A2(n,1,.5),i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function uX(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function rS(n){let t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2,c,l,u;return s!==o&&(u=s-o,l=a>.5?u/(2-s-o):u/(s+o),c=uX(t,r,i,u,s),c=c*60+.5),[c|0,l||0,a]}function iS(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Ro)}function sS(n,e,t){return iS(A2,n,e,t)}function dX(n,e,t){return iS(lX,n,e,t)}function hX(n,e,t){return iS(cX,n,e,t)}function M2(n){return(n%360+360)%360}function fX(n){let e=aX.exec(n),t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Bh(+e[5]):Ro(+e[5]));let i=M2(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=dX(i,s,o):e[1]==="hsv"?r=hX(i,s,o):r=sS(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}function pX(n,e){var t=rS(n);t[0]=M2(t[0]+e),t=sS(t),n.r=t[0],n.g=t[1],n.b=t[2]}function gX(n){if(!n)return;let e=rS(n),t=e[0],r=C2(e[1]),i=C2(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${xs(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}var T2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},S2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mX(){let n={},e=Object.keys(S2),t=Object.keys(T2),r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<t.length;i++)s=t[i],a=a.replace(s,T2[s]);s=parseInt(S2[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}var mv;function yX(n){mv||(mv=mX(),mv.transparent=[0,0,0,0]);let e=mv[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var vX=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _X(n){let e=vX.exec(n),t=255,r,i,s;if(e){if(e[7]!==r){let o=+e[7];t=e[8]?Bh(o):Mo(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Bh(r):Mo(r,0,255)),i=255&(e[4]?Bh(i):Mo(i,0,255)),s=255&(e[6]?Bh(s):Mo(s,0,255)),{r,g:i,b:s,a:t}}}function bX(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var tS=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,nu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function wX(n,e,t){let r=nu(xs(n.r)),i=nu(xs(n.g)),s=nu(xs(n.b));return{r:Ro(tS(r+t*(nu(xs(e.r))-r))),g:Ro(tS(i+t*(nu(xs(e.g))-i))),b:Ro(tS(s+t*(nu(xs(e.b))-s))),a:n.a+t*(e.a-n.a)}}function yv(n,e,t){if(n){let r=rS(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=sS(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function R2(n,e){return n&&Object.assign(e||{},n)}function x2(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ro(n[3]))):(e=R2(n,{r:0,g:0,b:0,a:1}),e.a=Ro(e.a)),e}function EX(n){return n.charAt(0)==="r"?_X(n):fX(n)}var Uh=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,r;t==="object"?r=x2(e):t==="string"&&(r=iX(e)||yX(e)||EX(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=R2(this._rgb);return e&&(e.a=xs(e.a)),e}set rgb(e){this._rgb=x2(e)}rgbString(){return this._valid?bX(this._rgb):void 0}hexString(){return this._valid?oX(this._rgb):void 0}hslString(){return this._valid?gX(this._rgb):void 0}mix(e,t){if(e){let r=this.rgb,i=e.rgb,s,o=t===s?.5:t,a=2*o-1,c=r.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,r.r=255&l*r.r+s*i.r+.5,r.g=255&l*r.g+s*i.g+.5,r.b=255&l*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=wX(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=Ro(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=$h(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yv(this._rgb,2,e),this}darken(e){return yv(this._rgb,2,-e),this}saturate(e){return yv(this._rgb,1,e),this}desaturate(e){return yv(this._rgb,1,-e),this}rotate(e){return pX(this._rgb,e),this}};function ai(){}var lS=(()=>{let n=0;return()=>n++})();function ae(n){return n==null}function Qe(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ft(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Vn(n,e){return ft(n)?n:e}function oe(n,e){return typeof n>"u"?e:n}var uS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Dv=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ve(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Oe(n,e,t,r){let i,s,o;if(Qe(n))if(s=n.length,r)for(i=s-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<s;i++)e.call(t,n[i],i);else if(be(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function su(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function zh(n){if(Qe(n))return n.map(zh);if(be(n)){let e=Object.create(null),t=Object.keys(n),r=t.length,i=0;for(;i<r;++i)e[t[i]]=zh(n[t[i]]);return e}return n}function U2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function $2(n,e,t,r){if(!U2(n))return;let i=e[n],s=t[n];be(i)&&be(s)?fr(i,s,r):e[n]=zh(s)}function fr(n,e,t){let r=Qe(e)?e:[e],i=r.length;if(!be(n))return n;t=t||{};let s=t.merger||$2,o;for(let a=0;a<i;++a){if(o=r[a],!be(o))continue;let c=Object.keys(o);for(let l=0,u=c.length;l<u;++l)s(c[l],n,o,t)}return n}function Ga(n,e){return fr(n,e,{merger:H2})}function H2(n,e,t){if(!U2(n))return;let r=e[n],i=t[n];be(r)&&be(i)?Ga(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=zh(i))}var P2={"":n=>n,x:n=>n.x,y:n=>n.y};function z2(n){let e=n.split("."),t=[],r="";for(let i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function IX(n){let e=z2(n);return t=>{for(let r of e){if(r==="")break;t=t&&t[r]}return t}}function zi(n,e){return(P2[e]||(P2[e]=IX(e)))(n)}function Gh(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Ka=n=>typeof n<"u",$i=n=>typeof n=="function",Cv=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function dS(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Ye=Math.PI,Xe=2*Ye,W2=Xe+Ye,Wh=Number.POSITIVE_INFINITY,q2=Ye/180,mt=Ye/2,Po=Ye/4,aS=Ye*2/3,Hi=Math.log10,kr=Math.sign;function Qa(n,e,t){return Math.abs(n-e)<t}function Tv(n){let e=Math.round(n);n=Qa(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(Hi(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function hS(n){let e=[],t=Math.sqrt(n),r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function DX(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function No(n){return!DX(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function fS(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function Sv(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function pr(n){return n*(Ye/180)}function Kh(n){return n*(180/Ye)}function xv(n){if(!ft(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Av(n,e){let t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r),s=Math.atan2(r,t);return s<-.5*Ye&&(s+=Xe),{angle:s,distance:i}}function qh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function G2(n,e){return(n-e+W2)%Xe-Ye}function Ln(n){return(n%Xe+Xe)%Xe}function Ya(n,e,t,r){let i=Ln(n),s=Ln(e),o=Ln(t),a=Ln(s-i),c=Ln(o-i),l=Ln(i-s),u=Ln(i-o);return i===s||i===o||r&&s===o||a>c&&l<u}function Ot(n,e,t){return Math.max(e,Math.min(t,n))}function pS(n){return Ot(n,-32768,32767)}function ci(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Qh(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}var si=(n,e,t,r)=>Qh(n,t,r?i=>{let s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),gS=(n,e,t)=>Qh(n,t,r=>n[r][e]>=t);function mS(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}var K2=["push","pop","shift","splice","unshift"];function yS(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),K2.forEach(t=>{let r="_onData"+Gh(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){let o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Mv(n,e){let t=n._chartjs;if(!t)return;let r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(K2.forEach(s=>{delete n[s]}),delete n._chartjs)}function Rv(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var Pv=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function kv(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Pv.call(window,()=>{r=!1,n.apply(e,t)}))}}function vS(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}var Yh=n=>n==="start"?"left":n==="end"?"right":"center",Jt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,_S=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function Nv(n,e,t){let r=e.length,i=0,s=r;if(n._sorted){let{iScale:o,vScale:a,_parsed:c}=n,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(i=Math.min(si(c,u,h).lo,t?r:si(e,u,o.getPixelForValue(h)).lo),l){let v=c.slice(0,i+1).reverse().findIndex(_=>!ae(_[a.axis]));i-=Math.max(0,v)}i=Ot(i,0,r-1)}if(m){let v=Math.max(si(c,o.axis,f,!0).hi+1,t?0:si(e,u,o.getPixelForValue(f),!0).hi+1);if(l){let _=c.slice(v-1).findIndex(C=>!ae(C[a.axis]));v+=Math.max(0,_)}s=Ot(v,i,r)-i}else s=r-i}return{start:i,count:s}}function Ov(n){let{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;let s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}var vv=n=>n===0||n===1,k2=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Xe/t)),N2=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Xe/t)+1,Wa={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*mt)+1,easeOutSine:n=>Math.sin(n*mt),easeInOutSine:n=>-.5*(Math.cos(Ye*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>vv(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>vv(n)?n:k2(n,.075,.3),easeOutElastic:n=>vv(n)?n:N2(n,.075,.3),easeInOutElastic(n){return vv(n)?n:n<.5?.5*k2(n*2,.1125,.45):.5+.5*N2(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Wa.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Wa.easeInBounce(n*2)*.5:Wa.easeOutBounce(n*2-1)*.5+.5};function Fv(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Lv(n){return Fv(n)?n:new Uh(n)}function Ev(n){return Fv(n)?n:new Uh(n).saturate(.5).darken(.1).hexString()}var CX=["x","y","borderWidth","radius","tension"],TX=["color","borderColor","backgroundColor"];function SX(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:TX},numbers:{type:"number",properties:CX}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xX(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var O2=new Map;function AX(n,e){e=e||{};let t=n+JSON.stringify(e),r=O2.get(t);return r||(r=new Intl.NumberFormat(n,e),O2.set(t,r)),r}function Xa(n,e,t){return AX(e,t).format(n)}var Q2={values(n){return Qe(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let r=this.chart.options.locale,i,s=n;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),s=MX(n,t)}let o=Hi(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Xa(n,r,c)},logarithmic(n,e,t){if(n===0)return"0";let r=t[e].significand||n/Math.pow(10,Math.floor(Hi(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?Q2.numeric.call(this,n,e,t):""}};function MX(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Xh={formatters:Q2};function RX(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Oo=Object.create(null),Vv=Object.create(null);function Hh(n,e){if(!e)return n;let t=e.split(".");for(let r=0,i=t.length;r<i;++r){let s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function oS(n,e,t){return typeof e=="string"?fr(Hh(n,e),t):fr(Hh(n,""),e)}var cS=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Ev(i.backgroundColor),this.hoverBorderColor=(r,i)=>Ev(i.borderColor),this.hoverColor=(r,i)=>Ev(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return oS(this,e,t)}get(e){return Hh(this,e)}describe(e,t){return oS(Vv,e,t)}override(e,t){return oS(Oo,e,t)}route(e,t,r,i){let s=Hh(this,e),o=Hh(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[a],l=o[i];return be(c)?Object.assign({},l,c):oe(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}},Ze=new cS({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[SX,xX,RX]);function Y2(n){return!n||ae(n.size)||ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ru(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function bS(n,e,t,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let o=0,a=t.length,c,l,u,h,f;for(c=0;c<a;c++)if(h=t[c],h!=null&&!Qe(h))o=ru(n,i,s,o,h);else if(Qe(h))for(l=0,u=h.length;l<u;l++)f=h[l],f!=null&&!Qe(f)&&(o=ru(n,i,s,o,f));n.restore();let p=s.length/2;if(p>t.length){for(c=0;c<p;c++)delete i[s[c]];s.splice(0,p)}return o}function Ms(n,e,t){let r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function jv(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Zh(n,e,t,r){Bv(n,e,t,r,null)}function Bv(n,e,t,r,i){let s,o,a,c,l,u,h,f,p=e.pointStyle,m=e.rotation,v=e.radius,_=(m||0)*q2;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(_),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(v)||v<=0)){switch(n.beginPath(),p){default:i?n.ellipse(t,r,i/2,v,0,0,Xe):n.arc(t,r,v,0,Xe),n.closePath();break;case"triangle":u=i?i/2:v,n.moveTo(t+Math.sin(_)*u,r-Math.cos(_)*v),_+=aS,n.lineTo(t+Math.sin(_)*u,r-Math.cos(_)*v),_+=aS,n.lineTo(t+Math.sin(_)*u,r-Math.cos(_)*v),n.closePath();break;case"rectRounded":l=v*.516,c=v-l,o=Math.cos(_+Po)*c,h=Math.cos(_+Po)*(i?i/2-l:c),a=Math.sin(_+Po)*c,f=Math.sin(_+Po)*(i?i/2-l:c),n.arc(t-h,r-a,l,_-Ye,_-mt),n.arc(t+f,r-o,l,_-mt,_),n.arc(t+h,r+a,l,_,_+mt),n.arc(t-f,r+o,l,_+mt,_+Ye),n.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*v,u=i?i/2:c,n.rect(t-u,r-c,2*u,2*c);break}_+=Po;case"rectRot":h=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+f,r-o),n.lineTo(t+h,r+a),n.lineTo(t-f,r+o),n.closePath();break;case"crossRot":_+=Po;case"cross":h=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+f,r-o),n.lineTo(t-f,r+o);break;case"star":h=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+f,r-o),n.lineTo(t-f,r+o),_+=Po,h=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+f,r-o),n.lineTo(t-f,r+o);break;case"line":o=i?i/2:Math.cos(_)*v,a=Math.sin(_)*v,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(_)*(i?i/2:v),r+Math.sin(_)*v);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function oi(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function ou(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function au(n){n.restore()}function wS(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){let s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function ES(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function PX(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ae(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function kX(n,e,t,r,i){if(i.strikethrough||i.underline){let s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,l=t+s.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function NX(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Rs(n,e,t,r,i,s={}){let o=Qe(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(n.save(),n.font=i.string,PX(n,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&NX(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),ae(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(l,t,r,s.maxWidth)),n.fillText(l,t,r,s.maxWidth),kX(n,t,r,l,s),r+=Number(i.lineHeight);n.restore()}function Za(n,e){let{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*Ye,Ye,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Ye,mt,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,mt,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-mt,!0),n.lineTo(t+o.topLeft,r)}var OX=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function X2(n,e){let t=(""+n).match(OX);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var LX=n=>+n||0;function Jh(n,e){let t={},r=be(e),i=r?Object.keys(e):e,s=be(n)?r?o=>oe(n[o],n[e[o]]):o=>n[o]:()=>n;for(let o of i)t[o]=LX(s(o));return t}function Uv(n){return Jh(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ps(n){return Jh(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ft(n){let e=Uv(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function yt(n,e){n=n||{},e=e||Ze.font;let t=oe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=oe(n.style,e.style);r&&!(""+r).match(FX)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:oe(n.family,e.family),lineHeight:X2(oe(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:oe(n.weight,e.weight),string:""};return i.string=Y2(i),i}function He(n,e,t,r){let i=!0,s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),t!==void 0&&Qe(a)&&(a=a[t%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function IS(n,e,t){let{min:r,max:i}=n,s=Dv(e,(i-r)/2),o=(a,c)=>t&&a===0?0:a+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Wi(n,e){return Object.assign(Object.create(n),e)}function ef(n,e=[""],t,r,i=()=>n[0]){let s=t||n;typeof r>"u"&&(r=ej("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>ef([a,...n],e,s,r)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return Z2(a,c,()=>WX(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return L2(a).includes(c)},ownKeys(a){return L2(a)},set(a,c,l){let u=a._storage||(a._storage=i());return a[c]=u[c]=l,delete a._keys,!0}})}function ko(n,e,t,r){let i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:$v(n,r),setContext:s=>ko(n,s,t,r),override:s=>ko(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return Z2(s,o,()=>jX(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function $v(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:$i(t)?t:()=>t,isIndexable:$i(r)?r:()=>r}}var VX=(n,e)=>n?n+Gh(e):e,DS=(n,e)=>be(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Z2(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let r=t();return n[e]=r,r}function jX(n,e,t){let{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n,a=r[e];return $i(a)&&o.isScriptable(e)&&(a=BX(e,a,n,t)),Qe(a)&&a.length&&(a=UX(e,a,n,o.isIndexable)),DS(e,a)&&(a=ko(a,i,s&&s[e],o)),a}function BX(n,e,t,r){let{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(s,o||r);return a.delete(n),DS(n,c)&&(c=CS(i._scopes,i,n,c)),c}function UX(n,e,t,r){let{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(be(e[0])){let c=e,l=i._scopes.filter(u=>u!==c);e=[];for(let u of c){let h=CS(l,i,n,u);e.push(ko(h,s,o&&o[n],a))}}return e}function J2(n,e,t){return $i(n)?n(e,t):n}var $X=(n,e)=>n===!0?e:typeof n=="string"?zi(e,n):void 0;function HX(n,e,t,r,i){for(let s of e){let o=$X(t,s);if(o){n.add(o);let a=J2(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function CS(n,e,t,r){let i=e._rootScopes,s=J2(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let c=F2(a,o,t,s||t,r);return c===null||typeof s<"u"&&s!==t&&(c=F2(a,o,s,c,r),c===null)?!1:ef(Array.from(a),[""],i,s,()=>zX(e,t,r))}function F2(n,e,t,r,i){for(;t;)t=HX(n,e,t,r,i);return t}function zX(n,e,t){let r=n._getTarget();e in r||(r[e]={});let i=r[e];return Qe(i)&&be(t)?t:i||{}}function WX(n,e,t,r){let i;for(let s of e)if(i=ej(VX(s,n),t),typeof i<"u")return DS(n,i)?CS(t,r,n,i):i}function ej(n,e){for(let t of e){if(!t)continue;let r=t[n];if(typeof r<"u")return r}}function L2(n){let e=n._keys;return e||(e=n._keys=qX(n._scopes)),e}function qX(n){let e=new Set;for(let t of n)for(let r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Hv(n,e,t,r){let{iScale:i}=n,{key:s="r"}=this._parsing,o=new Array(r),a,c,l,u;for(a=0,c=r;a<c;++a)l=a+t,u=e[l],o[a]={r:i.parse(zi(u,s),l)};return o}var GX=Number.EPSILON||1e-14,iu=(n,e)=>e<n.length&&!n[e].skip&&n[e],tj=n=>n==="x"?"y":"x";function nj(n,e,t,r){let i=n.skip?e:n,s=e,o=t.skip?e:t,a=qh(s,i),c=qh(o,s),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let h=r*l,f=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function KX(n,e,t){let r=n.length,i,s,o,a,c,l=iu(n,0);for(let u=0;u<r-1;++u)if(c=l,l=iu(n,u+1),!(!c||!l)){if(Qa(e[u],0,GX)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=s*o*e[u])}}function QX(n,e,t="x"){let r=tj(t),i=n.length,s,o,a,c=iu(n,0);for(let l=0;l<i;++l){if(o=a,a=c,c=iu(n,l+1),!a)continue;let u=a[t],h=a[r];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${r}`]=h-s*e[l]),c&&(s=(c[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${r}`]=h+s*e[l])}}function rj(n,e="x"){let t=tj(e),r=n.length,i=Array(r).fill(0),s=Array(r),o,a,c,l=iu(n,0);for(o=0;o<r;++o)if(a=c,c=l,l=iu(n,o+1),!!c){if(l){let u=l[e]-c[e];i[o]=u!==0?(l[t]-c[t])/u:0}s[o]=a?l?kr(i[o-1])!==kr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}KX(n,i,s),QX(n,s,e)}function _v(n,e,t){return Math.max(Math.min(n,t),e)}function YX(n,e){let t,r,i,s,o,a=oi(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&oi(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=_v(i.cp1x,e.left,e.right),i.cp1y=_v(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=_v(i.cp2x,e.left,e.right),i.cp2y=_v(i.cp2y,e.top,e.bottom)))}function TS(n,e,t,r,i){let s,o,a,c;if(e.spanGaps&&(n=n.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")rj(n,i);else{let l=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],c=nj(l,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&YX(n,t)}function tf(){return typeof window<"u"&&typeof document<"u"}function nf(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Iv(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}var zv=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ij(n,e){return zv(n).getPropertyValue(e)}var XX=["top","right","bottom","left"];function qa(n,e,t){let r={};t=t?"-"+t:"";for(let i=0;i<4;i++){let s=XX[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var ZX=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function JX(n,e){let t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r,o=!1,a,c;if(ZX(i,s,n.target))a=i,c=s;else{let l=e.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function ks(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:r}=e,i=zv(t),s=i.boxSizing==="border-box",o=qa(i,"padding"),a=qa(i,"border","width"),{x:c,y:l,box:u}=JX(n,t),h=o.left+(u&&a.left),f=o.top+(u&&a.top),{width:p,height:m}=e;return s&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((c-h)/p*t.width/r),y:Math.round((l-f)/m*t.height/r)}}function eZ(n,e,t){let r,i;if(e===void 0||t===void 0){let s=n&&nf(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{let o=s.getBoundingClientRect(),a=zv(s),c=qa(a,"border","width"),l=qa(a,"padding");e=o.width-l.width-c.width,t=o.height-l.height-c.height,r=Iv(a.maxWidth,s,"clientWidth"),i=Iv(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Wh,maxHeight:i||Wh}}var bv=n=>Math.round(n*10)/10;function SS(n,e,t,r){let i=zv(n),s=qa(i,"margin"),o=Iv(i.maxWidth,n,"clientWidth")||Wh,a=Iv(i.maxHeight,n,"clientHeight")||Wh,c=eZ(n,e,t),{width:l,height:u}=c;if(i.boxSizing==="content-box"){let f=qa(i,"border","width"),p=qa(i,"padding");l-=p.width+f.width,u-=p.height+f.height}return l=Math.max(0,l-s.width),u=Math.max(0,r?l/r:u-s.height),l=bv(Math.min(l,o,c.maxWidth)),u=bv(Math.min(u,a,c.maxHeight)),l&&!u&&(u=bv(l/2)),(e!==void 0||t!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,l=bv(Math.floor(u*r))),{width:l,height:u}}function Wv(n,e,t){let r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}var xS=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};tf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function qv(n,e){let t=ij(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function As(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function AS(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function MS(n,e,t,r){let i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=As(n,i,t),a=As(i,s,t),c=As(s,e,t),l=As(o,a,t),u=As(a,c,t);return As(l,u,t)}var tZ=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},nZ=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Fo(n,e,t){return n?tZ(e,t):nZ()}function Gv(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Kv(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function sj(n){return n==="angle"?{between:Ya,compare:G2,normalize:Ln}:{between:ci,compare:(e,t)=>e-t,normalize:e=>e}}function V2({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function rZ(n,e,t){let{property:r,start:i,end:s}=t,{between:o,normalize:a}=sj(r),c=e.length,{start:l,end:u,loop:h}=n,f,p;if(h){for(l+=c,u+=c,f=0,p=c;f<p&&o(a(e[l%c][r]),i,s);++f)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:h,style:n.style}}function Qv(n,e,t){if(!t)return[n];let{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:c,normalize:l}=sj(r),{start:u,end:h,loop:f,style:p}=rZ(n,e,t),m=[],v=!1,_=null,C,x,N,j=()=>c(i,N,C)&&a(i,N)!==0,L=()=>a(s,C)===0||c(s,N,C),B=()=>v||j(),D=()=>!v||L();for(let w=u,I=u;w<=h;++w)x=e[w%o],!x.skip&&(C=l(x[r]),C!==N&&(v=c(C,i,s),_===null&&B()&&(_=a(C,i)===0?w:I),_!==null&&D()&&(m.push(V2({start:_,end:w,loop:f,count:o,style:p})),_=null),I=w,N=C));return _!==null&&m.push(V2({start:_,end:h,loop:f,count:o,style:p})),m}function Yv(n,e){let t=[],r=n.segments;for(let i=0;i<r.length;i++){let s=Qv(r[i],n.points,e);s.length&&t.push(...s)}return t}function iZ(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function sZ(n,e,t,r){let i=n.length,s=[],o=e,a=n[e],c;for(c=e+1;c<=t;++c){let l=n[c%i];l.skip||l.stop?a.skip||(r=!1,s.push({start:e%i,end:(c-1)%i,loop:r}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function RS(n,e){let t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];let s=!!n._loop,{start:o,end:a}=iZ(t,i,s,r);if(r===!0)return j2(n,[{start:o,end:a,loop:s}],t,e);let c=a<o?a+i:a,l=!!n._fullLoop&&o===0&&a===i-1;return j2(n,sZ(t,o,c,l),t,e)}function j2(n,e,t,r){return!r||!r.setContext||!t?e:oZ(n,e,t,r)}function oZ(n,e,t,r){let i=n._chart.getContext(),s=B2(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=t.length,l=[],u=s,h=e[0].start,f=h;function p(m,v,_,C){let x=a?-1:1;if(m!==v){for(m+=c;t[m%c].skip;)m-=x;for(;t[v%c].skip;)v+=x;m%c!==v%c&&(l.push({start:m%c,end:v%c,loop:_,style:C}),u=C,h=v%c)}}for(let m of e){h=a?h:m.start;let v=t[h%c],_;for(f=h+1;f<=m.end;f++){let C=t[f%c];_=B2(r.setContext(Wi(i,{type:"segment",p0:v,p1:C,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),aZ(_,u)&&p(h,f-1,m.loop,u),v=C,u=_}h<f-1&&p(h,f-1,m.loop,u)}return l}function B2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function aZ(n,e){if(!e)return!1;let t=[],r=function(i,s){return Fv(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function wv(n,e,t){return n.options.clip?n[t]:e[t]}function cZ(n,e){let{xScale:t,yScale:r}=n;return t&&r?{left:wv(t,e,"left"),right:wv(t,e,"right"),top:wv(r,e,"top"),bottom:wv(r,e,"bottom")}:e}function Xv(n,e){let t=e._clip;if(t.disabled)return!1;let r=cZ(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}var $S=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){let s=t.listeners[i],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Pv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let s=r.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Ns=new $S,oj="transparent",lZ={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let r=Lv(n||oj),i=r.valid&&Lv(e||oj);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}},HS=class{constructor(e,t,r,i){let s=t[r];i=He([e.to,i,s,e.from]);let o=He([e.from,s,i]);this._active=!0,this._fn=e.fn||lZ[e.type||typeof o],this._easing=Wa[e.easing]||Wa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=He([e.to,t,i,e.from]),this._from=He([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=s;return}c=t/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){let t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}},o_=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!be(e))return;let t=Object.keys(Ze.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let s=e[i];if(!be(s))return;let o={};for(let a of t)o[a]=s[a];(Qe(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){let r=t.options,i=dZ(e,r);if(!i)return[];let s=this._createAnimations(i,r);return r.$shared&&uZ(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){let r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(e,t));continue}let u=t[l],h=s[l],f=r.get(l);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[l]=u;continue}s[l]=h=new HS(f,e,l,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let r=this._createAnimations(e,t);if(r.length)return Ns.add(this._chart,r),!0}};function uZ(n,e){let t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){let s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function dZ(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function aj(n,e){let t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function hZ(n,e,t){if(t===!1)return!1;let r=aj(n,t),i=aj(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function fZ(n){let e,t,r,i;return be(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function oB(n,e){let t=[],r=n._getSortedDatasetMetas(e),i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function cj(n,e,t,r={}){let i=n.keys,s=r.mode==="single",o,a,c,l;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===t){if(u=!0,r.all)continue;break}l=n.values[c],ft(l)&&(s||e===0||kr(e)===kr(l))&&(e+=l)}return!u&&!r.all?0:e}function pZ(n,e){let{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length),c,l,u;for(c=0,l=o.length;c<l;++c)u=o[c],a[c]={[i]:u,[s]:n[u]};return a}function PS(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function gZ(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function mZ(n){let{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function yZ(n,e,t){let r=n[e]||(n[e]={});return r[t]||(r[t]={})}function lj(n,e,t,r){for(let i of e.getMatchingVisibleMetas(r).reverse()){let s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function uj(n,e){let{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,l=o.axis,u=gZ(s,o,r),h=e.length,f;for(let p=0;p<h;++p){let m=e[p],{[c]:v,[l]:_}=m,C=m._stacks||(m._stacks={});f=C[l]=yZ(i,u,v),f[a]=_,f._top=lj(f,o,!0,r.type),f._bottom=lj(f,o,!1,r.type);let x=f._visualValues||(f._visualValues={});x[a]=_}}function kS(n,e){let t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function vZ(n,e){return Wi(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function _Z(n,e,t){return Wi(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function rf(n,e){let t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(let i of e){let s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}var NS=n=>n==="reset"||n==="none",dj=(n,e)=>e?n:Object.assign({},n),bZ=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:oB(t,!0),values:null},Vo=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=PS(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&rf(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(f,p,m,v)=>f==="x"?p:f==="r"?v:m,o=r.xAxisID=oe(i.xAxisID,kS(t,"x")),a=r.yAxisID=oe(i.yAxisID,kS(t,"y")),c=r.rAxisID=oe(i.rAxisID,kS(t,"r")),l=r.indexAxis,u=r.iAxisID=s(l,o,a,c),h=r.vAxisID=s(l,a,o,c);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Mv(this._data,this),t._stacked&&rf(t)}_dataCheck(){let t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(be(r)){let s=this._cachedMeta;this._data=pZ(r,s)}else if(i!==r){if(i){Mv(i,this);let s=this._cachedMeta;rf(s),s._parsed=[]}r&&Object.isExtensible(r)&&yS(r,this),this._syncList=[],this._data=r}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let r=this._cachedMeta,i=this.getDataset(),s=!1;this._dataCheck();let o=r._stacked;r._stacked=PS(r.vScale,r),r.stack!==i.stack&&(s=!0,rf(r),r.stack=i.stack),this._resyncElements(t),(s||o!==r._stacked)&&(uj(this,r._parsed),r._stacked=PS(r.vScale,r))}configure(){let t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){let{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,c=o.axis,l=t===0&&r===s.length?!0:i._sorted,u=t>0&&i._parsed[t-1],h,f,p;if(this._parsing===!1)i._parsed=s,i._sorted=!0,p=s;else{Qe(s[t])?p=this.parseArrayData(i,s,t,r):be(s[t])?p=this.parseObjectData(i,s,t,r):p=this.parsePrimitiveData(i,s,t,r);let m=()=>f[c]===null||u&&f[c]<u[c];for(h=0;h<r;++h)i._parsed[h+t]=f=p[h],l&&(m()&&(l=!1),u=f);i._sorted=l}a&&uj(this,p)}parsePrimitiveData(t,r,i,s){let{iScale:o,vScale:a}=t,c=o.axis,l=a.axis,u=o.getLabels(),h=o===a,f=new Array(s),p,m,v;for(p=0,m=s;p<m;++p)v=p+i,f[p]={[c]:h||o.parse(u[v],v),[l]:a.parse(r[v],v)};return f}parseArrayData(t,r,i,s){let{xScale:o,yScale:a}=t,c=new Array(s),l,u,h,f;for(l=0,u=s;l<u;++l)h=l+i,f=r[h],c[l]={x:o.parse(f[0],h),y:a.parse(f[1],h)};return c}parseObjectData(t,r,i,s){let{xScale:o,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(s),h,f,p,m;for(h=0,f=s;h<f;++h)p=h+i,m=r[p],u[h]={x:o.parse(zi(m,c),p),y:a.parse(zi(m,l),p)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){let s=this.chart,o=this._cachedMeta,a=r[t.axis],c={keys:oB(s,!0),values:r._stacks[t.axis]._visualValues};return cj(c,a,o.index,{mode:i})}updateRangeFromParsed(t,r,i,s){let o=i[r.axis],a=o===null?NaN:o,c=s&&i._stacks[r.axis];s&&c&&(s.values=c,a=cj(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){let i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,a=s.length,c=this._getOtherScale(t),l=bZ(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=mZ(c),p,m;function v(){m=s[p];let _=m[c.axis];return!ft(m[t.axis])||h>_||f<_}for(p=0;p<a&&!(!v()&&(this.updateRangeFromParsed(u,t,m,l),o));++p);if(o){for(p=a-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(u,t,m,l);break}}return u}getAllParsedValues(t){let r=this._cachedMeta._parsed,i=[],s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][t.axis],ft(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){let r=this._cachedMeta;this.update(t||"default"),r._clip=fZ(oe(this.options.clip,hZ(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,r=this.chart,i=this._cachedMeta,s=i.data||[],o=r.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,u=this.options.drawActiveElementsOnTop,h;for(i.dataset&&i.dataset.draw(t,o,c,l),h=c;h<c+l;++h){let f=s[h];f.hidden||(f.active&&u?a.push(f):f.draw(t,o))}for(h=0;h<a.length;++h)a[h].draw(t,o)}getStyle(t,r){let i=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){let s=this.getDataset(),o;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];o=a.$context||(a.$context=_Z(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=vZ(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){let s=r==="active",o=this._cachedDataOpts,a=t+"-"+r,c=o[a],l=this.enableOptionSharing&&Ka(i);if(c)return dj(c,l);let u=this.chart.config,h=u.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],p=u.getOptionScopes(this.getDataset(),h),m=Object.keys(Ze.elements[t]),v=()=>this.getContext(i,s,r),_=u.resolveNamedOptions(p,m,v,f);return _.$shared&&(_.$shared=l,o[a]=Object.freeze(dj(_,l))),_}_resolveAnimations(t,r,i){let s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,r),p=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(p,this.getContext(t,i,r))}let u=new o_(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||NS(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){let i=this.resolveDataElementOptions(t,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(t,r,i,s){NS(s)?Object.assign(t,i):this._resolveAnimations(r,s).update(t,i)}updateSharedOptions(t,r,i){t&&!NS(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,s){t.active=s;let o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let r=this._data,i=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,r,i=!0){let s=this._cachedMeta,o=s.data,a=t+r,c,l=u=>{for(u.length+=r,c=u.length-1;c>=a;c--)u[c]=u[c-r]};for(l(o),c=t;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,r),i&&this.updateElements(o,t,r,"reset")}updateElements(t,r,i,s){}_removeElements(t,r){let i=this._cachedMeta;if(this._parsing){let s=i._parsed.splice(t,r);i._stacked&&rf(i,s)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[r,i,s]=t;this[r](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function wZ(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=Rv(r.sort((i,s)=>i-s))}return n._cache.$bar}function EZ(n){let e=n.iScale,t=wZ(e,n.type),r=e._length,i,s,o,a,c=()=>{o===32767||o===-32768||(Ka(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),c();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),c();return r}function IZ(n,e,t,r){let i=t.barThickness,s,o;return ae(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[n]-s/2}}function DZ(n,e,t,r){let i=e.pixels,s=i[n],o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null,c=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/r,ratio:t.barPercentage,start:l}}function CZ(n,e,t,r){let i=t.parse(n[0],r),s=t.parse(n[1],r),o=Math.min(i,s),a=Math.max(i,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[t.axis]=l,e._custom={barStart:c,barEnd:l,start:i,end:s,min:o,max:a}}function aB(n,e,t,r){return Qe(n)?CZ(n,e,t,r):e[t.axis]=t.parse(n,r),e}function hj(n,e,t,r){let i=n.iScale,s=n.vScale,o=i.getLabels(),a=i===s,c=[],l,u,h,f;for(l=t,u=t+r;l<u;++l)f=e[l],h={},h[i.axis]=a||i.parse(o[l],l),c.push(aB(f,h,s,l));return c}function OS(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function TZ(n,e,t){return n!==0?kr(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function SZ(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function xZ(n,e,t,r){let i=e.borderSkipped,s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:u}=SZ(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=l:(t._bottom||0)===r?i=u:(s[fj(u,o,a,c)]=!0,i=l)),s[fj(i,o,a,c)]=!0,n.borderSkipped=s}function fj(n,e,t,r){return r?(n=AZ(n,e,t),n=pj(n,t,e)):n=pj(n,e,t),n}function AZ(n,e,t){return n===e?t:n===t?e:n}function pj(n,e,t){return n==="start"?e:n==="end"?t:n}function MZ(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var RZ=(()=>{class n extends Vo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,i,s){return hj(t,r,i,s)}parseArrayData(t,r,i,s){return hj(t,r,i,s)}parseObjectData(t,r,i,s){let{iScale:o,vScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=o.axis==="x"?c:l,h=a.axis==="x"?c:l,f=[],p,m,v,_;for(p=i,m=i+s;p<m;++p)_=r[p],v={},v[o.axis]=o.parse(zi(_,u),p),f.push(aB(zi(_,h),v,a,p));return f}updateRangeFromParsed(t,r,i,s){super.updateRangeFromParsed(t,r,i,s);let o=i._custom;o&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let r=this._cachedMeta,{iScale:i,vScale:s}=r,o=this.getParsed(t),a=o._custom,c=OS(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(r,s);for(let m=r;m<r+i;m++){let v=this.getParsed(m),_=o||ae(v[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),C=this._calculateBarIndexPixels(m,h),x=(v._stacks||{})[c.axis],N={horizontal:u,base:_.base,enableBorderRadius:!x||OS(v._custom)||a===x._top||a===x._bottom,x:u?_.head:C.center,y:u?C.center:_.head,height:u?C.size:Math.abs(_.size),width:u?Math.abs(_.size):C.size};p&&(N.options=f||this.resolveDataElementOptions(m,t[m].active?"active":s));let j=N.options||t[m].options;xZ(N,j,x,a),MZ(N,j,h.ratio),this.updateElement(t[m],m,N,s)}}_getStacks(t,r){let{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),o=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(r),l=c&&c[i.axis],u=h=>{let f=h._parsed.find(m=>m[i.axis]===l),p=f&&f[h.vScale.axis];if(ae(p)||isNaN(p))return!0};for(let h of s)if(!(r!==void 0&&u(h))&&((o===!1||a.indexOf(h.stack)===-1||o===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,i){let s=this._getStacks(t,i),o=r!==void 0?s.indexOf(r):-1;return o===-1?s.length-1:o}_getRuler(){let t=this.options,r=this._cachedMeta,i=r.iScale,s=[],o,a;for(o=0,a=r.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));let c=t.barThickness;return{min:c||EZ(r),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:r,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(t),u=l._custom,h=OS(u),f=l[r.axis],p=0,m=i?this.applyStack(r,l,i):f,v,_;m!==f&&(p=m-f,m=f),h&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&kr(f)!==kr(u.barEnd)&&(p=0),p+=f);let C=!ae(o)&&!h?o:p,x=r.getPixelForValue(C);if(this.chart.getDataVisibility(t)?v=r.getPixelForValue(p+m):v=x,_=v-x,Math.abs(_)<a){_=TZ(_,r,c)*a,f===c&&(x-=_/2);let N=r.getPixelForDecimal(0),j=r.getPixelForDecimal(1),L=Math.min(N,j),B=Math.max(N,j);x=Math.max(Math.min(x,B),L),v=x+_,i&&!h&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(v)-r.getValueForPixel(x))}if(x===r.getPixelForValue(c)){let N=kr(_)*r.getLineWidthForValue(c)/2;x+=N,_-=N}return{size:_,base:x,head:v,center:v+_/2}}_calculateBarIndexPixels(t,r){let i=r.scale,s=this.options,o=s.skipNull,a=oe(s.maxBarThickness,1/0),c,l;if(r.grouped){let u=o?this._getStackCount(t):r.stackCount,h=s.barThickness==="flex"?DZ(t,r,s,u):IZ(t,r,s,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);c=h.start+h.chunk*f+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,r=t.vScale,i=t.data,s=i.length,o=0;for(;o<s;++o)this.getParsed(o)[r.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}return n})(),PZ=(()=>{class n extends Vo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,s){let o=super.parsePrimitiveData(t,r,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(t,r,i,s){let o=super.parseArrayData(t,r,i,s);for(let a=0;a<o.length;a++){let c=r[i+a];o[a]._custom=oe(c[2],this.resolveDataElementOptions(a+i).radius)}return o}parseObjectData(t,r,i,s){let o=super.parseObjectData(t,r,i,s);for(let a=0;a<o.length;a++){let c=r[i+a];o[a]._custom=oe(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){let t=this._cachedMeta.data,r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(t),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),u=a._custom;return{label:i[t]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(t){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(r,s),h=a.axis,f=c.axis;for(let p=r;p<r+i;p++){let m=t[p],v=!o&&this.getParsed(p),_={},C=_[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(v[h]),x=_[f]=o?c.getBasePixel():c.getPixelForValue(v[f]);_.skip=isNaN(C)||isNaN(x),u&&(_.options=l||this.resolveDataElementOptions(p,m.active?"active":s),o&&(_.options.radius=0)),this.updateElement(m,p,_,s)}}resolveDataElementOptions(t,r){let i=this.getParsed(t),s=super.resolveDataElementOptions(t,r);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return r!=="active"&&(s.radius=0),s.radius+=oe(i&&i._custom,o),s}}return n})();function kZ(n,e,t){let r=1,i=1,s=0,o=0;if(e<Xe){let a=n,c=a+e,l=Math.cos(a),u=Math.sin(a),h=Math.cos(c),f=Math.sin(c),p=(N,j,L)=>Ya(N,a,c,!0)?1:Math.max(j,j*t,L,L*t),m=(N,j,L)=>Ya(N,a,c,!0)?-1:Math.min(j,j*t,L,L*t),v=p(0,l,h),_=p(mt,u,f),C=m(Ye,l,h),x=m(Ye+mt,u,f);r=(v-C)/2,i=(_-x)/2,s=-(v+C)/2,o=-(_+x)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}var ox=(()=>{class n extends Vo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:s}}=t.legend.options;return r.labels.map((o,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){let i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=l=>+i[l];if(be(i[t])){let{key:l="value"}=this._parsing;o=u=>+zi(i[u],l)}let a,c;for(a=t,c=t+r;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return pr(this.options.rotation-90)}_getCircumference(){return pr(this.options.circumference)}_getRotationExtents(){let t=Xe,r=-Xe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),r=Math.max(r,o+a)}return{rotation:t,circumference:r-t}}update(t){let r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(uS(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:v,offsetY:_}=kZ(f,h,l),C=(i.width-a)/p,x=(i.height-a)/m,N=Math.max(Math.min(C,x)/2,0),j=Dv(this.options.radius,N),L=Math.max(j*l,0),B=(j-L)/this._getVisibleDatasetWeightTotal();this.offsetX=v*j,this.offsetY=_*j,s.total=this.calculateTotal(),this.outerRadius=j-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*u,0),this.updateElements(o,0,o.length,t)}_circumference(t,r){let i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/Xe)}updateElements(t,r,i,s){let o=s==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,h=(c.left+c.right)/2,f=(c.top+c.bottom)/2,p=o&&u.animateScale,m=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:_,includeOptions:C}=this._getSharedOptions(r,s),x=this._getRotation(),N;for(N=0;N<r;++N)x+=this._circumference(N,o);for(N=r;N<r+i;++N){let j=this._circumference(N,o),L=t[N],B={x:h+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+j,circumference:j,outerRadius:v,innerRadius:m};C&&(B.options=_||this.resolveDataElementOptions(N,L.active?"active":s)),x+=j,this.updateElement(L,N,B,s)}}calculateTotal(){let t=this._cachedMeta,r=t.data,i=0,s;for(s=0;s<r.length;s++){let o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){let r=this._cachedMeta.total;return r>0&&!isNaN(t)?Xe*(Math.abs(t)/r):0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Xa(r._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let r=0,i=this.chart,s,o,a,c,l;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),t=a.data,c=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,s=t.length;i<s;++i){let o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(oe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),mf=(()=>{class n extends Vo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let r=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=r,a=this.chart._animationsDisabled,{start:c,count:l}=Nv(r,s,a);this._drawStart=c,this._drawCount=l,Ov(r)&&(c=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},t),this.updateElements(s,c,l,t)}updateElements(t,r,i,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,s),p=a.axis,m=c.axis,{spanGaps:v,segment:_}=this.options,C=No(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||s==="none",N=r+i,j=t.length,L=r>0&&this.getParsed(r-1);for(let B=0;B<j;++B){let D=t[B],w=x?D:{};if(B<r||B>=N){w.skip=!0;continue}let I=this.getParsed(B),S=ae(I[m]),A=w[p]=a.getPixelForValue(I[p],B),P=w[m]=o||S?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,I,l):I[m],B);w.skip=isNaN(A)||isNaN(P)||S,w.stop=B>0&&Math.abs(I[p]-L[p])>C,_&&(w.parsed=I,w.raw=u.data[B]),f&&(w.options=h||this.resolveDataElementOptions(B,D.active?"active":s)),x||this.updateElement(D,B,w,s),L=I}}getMaxOverflow(){let t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,s=t.data||[];if(!s.length)return i;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),cB=(()=>{class n extends Vo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:s}}=t.legend.options;return r.labels.map((o,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Xa(r._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,r,i,s){return Hv.bind(this)(t,r,i,s)}update(t){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){let t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<r.min&&(r.min=o),o>r.max&&(r.max=o))}),r}_updateRadius(){let t=this.chart,r=t.chartArea,i=t.options,s=Math.min(r.right-r.left,r.bottom-r.top),o=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),c=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,r,i,s){let o=s==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*Ye,m=p,v,_=360/this.countVisibleElements();for(v=0;v<r;++v)m+=this._computeAngle(v,s,_);for(v=r;v<r+i;v++){let C=t[v],x=m,N=m+this._computeAngle(v,s,_),j=a.getDataVisibility(v)?u.getDistanceFromCenterForValue(this.getParsed(v).r):0;m=N,o&&(l.animateScale&&(j=0),l.animateRotate&&(x=N=p));let L={x:h,y:f,innerRadius:0,outerRadius:j,startAngle:x,endAngle:N,options:this.resolveDataElementOptions(v,C.active?"active":s)};this.updateElement(C,v,L,s)}}countVisibleElements(){let t=this._cachedMeta,r=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?pr(this.resolveDataElementOptions(t,r).angle||i):0}}return n})(),NZ=(()=>{class n extends ox{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),OZ=(()=>{class n extends Vo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,s){return Hv.bind(this)(t,r,i,s)}update(t){let r=this._cachedMeta,i=r.dataset,s=r.data||[],o=r.iScale.getLabels();if(i.points=s,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,r,i,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=r;c<r+i;c++){let l=t[c],u=this.resolveDataElementOptions(c,l.active?"active":s),h=o.getPointPositionForValue(c,this.getParsed(c).r),f=a?o.xCenter:h.x,p=a?o.yCenter:h.y,m={x:f,y:p,angle:h.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(l,c,m,s)}}}return n})(),FZ=(()=>{class n extends Vo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(t),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:i[t]||"",value:"("+c+", "+l+")"}}update(t){let r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled,{start:o,count:a}=Nv(r,i,s);if(this._drawStart=o,this._drawCount=a,Ov(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:u},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,h=this.resolveDataElementOptions(r,s),f=this.getSharedOptions(h),p=this.includeOptions(s,f),m=a.axis,v=c.axis,{spanGaps:_,segment:C}=this.options,x=No(_)?_:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||s==="none",j=r>0&&this.getParsed(r-1);for(let L=r;L<r+i;++L){let B=t[L],D=this.getParsed(L),w=N?B:{},I=ae(D[v]),S=w[m]=a.getPixelForValue(D[m],L),A=w[v]=o||I?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,D,l):D[v],L);w.skip=isNaN(S)||isNaN(A)||I,w.stop=L>0&&Math.abs(D[m]-j[m])>x,C&&(w.parsed=D,w.raw=u.data[L]),p&&(w.options=f||this.resolveDataElementOptions(L,B.active?"active":s)),N||this.updateElement(B,L,w,s),j=D}this.updateSharedOptions(f,s,h)}getMaxOverflow(){let t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;let o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}}return n})(),LZ=Object.freeze({__proto__:null,BarController:RZ,BubbleController:PZ,DoughnutController:ox,LineController:mf,PieController:NZ,PolarAreaController:cB,RadarController:OZ,ScatterController:FZ});function Ja(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var zS=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ja()}parse(){return Ja()}format(){return Ja()}add(){return Ja()}diff(){return Ja()}startOf(){return Ja()}endOf(){return Ja()}},VZ={_date:zS};function jZ(n,e,t,r){let{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let l=a._reversePixels?gS:si;if(r){if(i._sharedOptions){let u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){let f=l(s,e,t-h),p=l(s,e,t+h);return{lo:f.lo,hi:p.hi}}}}else{let u=l(s,e,t);if(c){let{vScale:h}=i._cachedMeta,{_parsed:f}=n,p=f.slice(0,u.lo+1).reverse().findIndex(v=>!ae(v[h.axis]));u.lo-=Math.max(0,p);let m=f.slice(u.hi).findIndex(v=>!ae(v[h.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function yf(n,e,t,r,i){let s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,c=s.length;a<c;++a){let{index:l,data:u}=s[a],{lo:h,hi:f}=jZ(s[a],e,o,i);for(let p=h;p<=f;++p){let m=u[p];m.skip||r(m,l,p)}}}function BZ(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){let s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function FS(n,e,t,r,i){let s=[];return!i&&!n.isPointInArea(e)||yf(n,t,e,function(a,c,l){!i&&!oi(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function UZ(n,e,t,r){let i=[];function s(o,a,c){let{startAngle:l,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=Av(o,{x:e.x,y:e.y});Ya(h,l,u)&&i.push({element:o,datasetIndex:a,index:c})}return yf(n,t,e,s),i}function $Z(n,e,t,r,i,s){let o=[],a=BZ(t),c=Number.POSITIVE_INFINITY;function l(u,h,f){let p=u.inRange(e.x,e.y,i);if(r&&!p)return;let m=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(m))&&!p)return;let _=a(e,m);_<c?(o=[{element:u,datasetIndex:h,index:f}],c=_):_===c&&o.push({element:u,datasetIndex:h,index:f})}return yf(n,t,e,l),o}function LS(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?UZ(n,e,t,i):$Z(n,e,t,r,i,s)}function gj(n,e,t,r,i){let s=[],o=t==="x"?"inXRange":"inYRange",a=!1;return yf(n,t,e,(c,l,u)=>{c[o]&&c[o](e[t],i)&&(s.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:s}var HZ={evaluateInteractionItems:yf,modes:{index(n,e,t,r){let i=ks(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?FS(n,i,s,r,o):LS(n,i,s,!1,r,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,h=l.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:u})}),c):[]},dataset(n,e,t,r){let i=ks(e,n),s=t.axis||"xy",o=t.includeInvisible||!1,a=t.intersect?FS(n,i,s,r,o):LS(n,i,s,!1,r,o);if(a.length>0){let c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(n,e,t,r){let i=ks(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return FS(n,i,s,r,o)},nearest(n,e,t,r){let i=ks(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return LS(n,i,s,t.intersect,r,o)},x(n,e,t,r){let i=ks(e,n);return gj(n,i,"x",t.intersect,r)},y(n,e,t,r){let i=ks(e,n);return gj(n,i,"y",t.intersect,r)}}},lB=["left","top","right","bottom"];function sf(n,e){return n.filter(t=>t.pos===e)}function mj(n,e){return n.filter(t=>lB.indexOf(t.pos)===-1&&t.box.axis===e)}function of(n,e){return n.sort((t,r)=>{let i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function zZ(n){let e=[],t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function WZ(n){let e={};for(let t of n){let{stack:r,pos:i,stackWeight:s}=t;if(!r||!lB.includes(i))continue;let o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function qZ(n,e){let t=WZ(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e,s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];let{fullSize:c}=a.box,l=t[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:c&&e.availableHeight)}return t}function GZ(n){let e=zZ(n),t=of(e.filter(l=>l.box.fullSize),!0),r=of(sf(e,"left"),!0),i=of(sf(e,"right")),s=of(sf(e,"top"),!0),o=of(sf(e,"bottom")),a=mj(e,"x"),c=mj(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:sf(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}function yj(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function uB(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function KZ(n,e,t,r){let{pos:i,box:s}=t,o=n.maxPadding;if(!be(i)){t.size&&(n[i]-=t.size);let h=r[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,n[i]+=t.size}s.getPadding&&uB(o,s.getPadding());let a=Math.max(0,e.outerWidth-yj(o,n,"left","right")),c=Math.max(0,e.outerHeight-yj(o,n,"top","bottom")),l=a!==n.w,u=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:l,other:u}:{same:u,other:l}}function QZ(n){let e=n.maxPadding;function t(r){let i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function YZ(n,e){let t=e.maxPadding;function r(i){let s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function lf(n,e,t,r){let i=[],s,o,a,c,l,u;for(s=0,o=n.length,l=0;s<o;++s){a=n[s],c=a.box,c.update(a.width||e.w,a.height||e.h,YZ(a.horizontal,e));let{same:h,other:f}=KZ(e,t,a,r);l|=h&&i.length,u=u||f,c.fullSize||i.push(a)}return l&&lf(i,e,t,r)||u}function Zv(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function vj(n,e,t,r){let i=t.padding,{x:s,y:o}=e;for(let a of n){let c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let h=e.w*u,f=l.size||c.height;Ka(l.start)&&(o=l.start),c.fullSize?Zv(c,i.left,o,t.outerWidth-i.right-i.left,f):Zv(c,e.left+l.placed,o,h,f),l.start=o,l.placed+=h,o=c.bottom}else{let h=e.h*u,f=l.size||c.width;Ka(l.start)&&(s=l.start),c.fullSize?Zv(c,s,i.top,f,t.outerHeight-i.bottom-i.top):Zv(c,s,e.top+l.placed,f,h),l.start=s,l.placed+=h,s=c.right}}e.x=s,e.y=o}var Dn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;let i=Ft(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=GZ(n.boxes),c=a.vertical,l=a.horizontal;Oe(n.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});let u=c.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);uB(f,Ft(r));let p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),m=qZ(c.concat(l),h);lf(a.fullSize,p,h,m),lf(c,p,h,m),lf(l,p,h,m)&&lf(c,p,h,m),QZ(p),vj(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,vj(a.rightAndBottom,p,h,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Oe(a.chartArea,v=>{let _=v.box;Object.assign(_,n.chartArea),_.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},a_=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}},WS=class extends a_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},i_="$chartjs",XZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_j=n=>n===null||n==="";function ZZ(n,e){let t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[i_]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",_j(i)){let s=qv(n,"width");s!==void 0&&(n.width=s)}if(_j(r))if(n.style.height==="")n.height=n.width/(e||2);else{let s=qv(n,"height");s!==void 0&&(n.height=s)}return n}var dB=xS?{passive:!0}:!1;function JZ(n,e,t){n&&n.addEventListener(e,t,dB)}function eJ(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,dB)}function tJ(n,e){let t=XZ[n.type]||n.type,{x:r,y:i}=ks(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function c_(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function nJ(n,e,t){let r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||c_(a.addedNodes,r),o=o&&!c_(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function rJ(n,e,t){let r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||c_(a.removedNodes,r),o=o&&!c_(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var df=new Map,bj=0;function hB(){let n=window.devicePixelRatio;n!==bj&&(bj=n,df.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function iJ(n,e){df.size||window.addEventListener("resize",hB),df.set(n,e)}function sJ(n){df.delete(n),df.size||window.removeEventListener("resize",hB)}function oJ(n,e,t){let r=n.canvas,i=r&&nf(r);if(!i)return;let s=kv((a,c)=>{let l=i.clientWidth;t(a,c),l<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||s(l,u)});return o.observe(i),iJ(n,s),o}function VS(n,e,t){t&&t.disconnect(),e==="resize"&&sJ(n)}function aJ(n,e,t){let r=n.canvas,i=kv(s=>{n.ctx!==null&&t(tJ(s,n))},n);return JZ(r,e,i),i}var qS=class extends a_{acquireContext(e,t){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(ZZ(e,t),r):null}releaseContext(e){let t=e.canvas;if(!t[i_])return!1;let r=t[i_].initial;["height","width"].forEach(s=>{let o=r[s];ae(o)?t.removeAttribute(s):t.setAttribute(s,o)});let i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[i_],!0}addEventListener(e,t,r){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),o={attach:nJ,detach:rJ,resize:oJ}[t]||aJ;i[t]=o(e,t,r)}removeEventListener(e,t){let r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:VS,detach:VS,resize:VS}[t]||eJ)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return SS(e,t,r,i)}isAttached(e){let t=e&&nf(e);return!!(t&&t.isConnected)}};function cJ(n){return!tf()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?WS:qS}var li=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return No(this.x)&&No(this.y)}getProps(e,t){let r=this.$animations;if(!t||!r)return this;let i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function lJ(n,e){let t=n.options.ticks,r=uJ(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?hJ(e):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>i)return fJ(e,l,s,o/i),l;let u=dJ(s,e,i);if(o>0){let h,f,p=o>1?Math.round((c-a)/(o-1)):null;for(Jv(e,l,u,ae(p)?0:a-p,a),h=0,f=o-1;h<f;h++)Jv(e,l,u,s[h],s[h+1]);return Jv(e,l,u,c,ae(p)?e.length:c+p),l}return Jv(e,l,u),l}function uJ(n){let e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function dJ(n,e,t){let r=pJ(n),i=e.length/t;if(!r)return Math.max(i,1);let s=hS(r);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>i)return c}return Math.max(i,1)}function hJ(n){let e=[],t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function fJ(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function Jv(n,e,t,r,i){let s=oe(r,0),o=Math.min(oe(i,n.length),n.length),a=0,c,l,u;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(l=Math.max(s,0);l<o;l++)l===u&&(e.push(n[l]),a++,u=Math.round(s+a*t))}function pJ(n){let e=n.length,t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}var gJ=n=>n==="left"?"right":n==="right"?"left":n,wj=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Ej=(n,e)=>Math.min(e||n,n);function Ij(n,e){let t=[],r=n.length/e,i=n.length,s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function mJ(n,e,t){let r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6,c=n.getPixelForTick(i),l;if(!(t&&(r===1?l=Math.max(c-s,o-c):e===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<s-a||c>o+a)))return c}function yJ(n,e){Oe(n,t=>{let r=t.gc,i=r.length/2,s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function af(n){return n.drawTicks?n.tickLength:0}function Dj(n,e){if(!n.display)return 0;let t=yt(n.font,e),r=Ft(n.padding);return(Qe(n.text)?n.text.length:1)*t.lineHeight+r.height}function vJ(n,e){return Wi(n,{scale:e,type:"scale"})}function _J(n,e,t){return Wi(n,{tick:t,index:e,type:"tick"})}function bJ(n,e,t){let r=Yh(n);return(t&&e!=="right"||!t&&e==="right")&&(r=gJ(r)),r}function wJ(n,e,t,r){let{top:i,left:s,bottom:o,right:a,chart:c}=n,{chartArea:l,scales:u}=c,h=0,f,p,m,v=o-i,_=a-s;if(n.isHorizontal()){if(p=Jt(r,s,a),be(t)){let C=Object.keys(t)[0],x=t[C];m=u[C].getPixelForValue(x)+v-e}else t==="center"?m=(l.bottom+l.top)/2+v-e:m=wj(n,t,e);f=a-s}else{if(be(t)){let C=Object.keys(t)[0],x=t[C];p=u[C].getPixelForValue(x)-_+e}else t==="center"?p=(l.left+l.right)/2-_+e:p=wj(n,t,e);m=Jt(r,o,i),h=t==="left"?-mt:mt}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}var tc=class n extends li{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Vn(e,Number.POSITIVE_INFINITY),t=Vn(t,Number.NEGATIVE_INFINITY),r=Vn(r,Number.POSITIVE_INFINITY),i=Vn(i,Number.NEGATIVE_INFINITY),{min:Vn(e,r),max:Vn(t,i),minDefined:ft(e),maxDefined:ft(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Vn(t,Vn(r,t)),max:Vn(r,Vn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ve(this.options.beforeUpdate,[this])}update(e,t,r){let{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=IS(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?Ij(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=lJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ve(this.options.afterUpdate,[this])}beforeSetDimensions(){Ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ve(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ve(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ve(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,r=Ej(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation,o=i,a,c,l;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=Ot(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),h+6>a&&(a=p/(r-(e.offset?.5:1)),c=this.maxHeight-af(e.grid)-t.padding-Dj(e.title,this.chart.options.font),l=Math.sqrt(h*h+f*f),o=Kh(Math.min(Math.asin(Ot((u.highest.height+6)/a,-1,1)),Math.asin(Ot(c/l,-1,1))-Math.asin(Ot(f/l,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ve(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=Dj(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=af(s)+c):(e.height=this.maxHeight,e.width=af(s)+c),r.display&&this.ticks.length){let{first:l,last:u,widest:h,highest:f}=this._getLabelSizes(),p=r.padding*2,m=pr(this.labelRotation),v=Math.cos(m),_=Math.sin(m);if(a){let C=r.mirror?0:_*h.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+C+p)}else{let C=r.mirror?0:v*h.width+_*f.height;e.width=Math.min(this.maxWidth,e.width+C+p)}this._calculatePadding(l,u,_,v)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,p=0;c?l?(f=i*e.width,p=r*t.height):(f=r*e.height,p=i*t.width):s==="start"?p=t.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ve(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)ae(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=Ij(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){let{ctx:i,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(t/Ej(t,r)),l=0,u=0,h,f,p,m,v,_,C,x,N,j,L;for(h=0;h<t;h+=c){if(m=e[h].label,v=this._resolveTickFontOptions(h),i.font=_=v.string,C=s[_]=s[_]||{data:{},gc:[]},x=v.lineHeight,N=j=0,!ae(m)&&!Qe(m))N=ru(i,C.data,C.gc,N,m),j=x;else if(Qe(m))for(f=0,p=m.length;f<p;++f)L=m[f],!ae(L)&&!Qe(L)&&(N=ru(i,C.data,C.gc,N,L),j+=x);o.push(N),a.push(j),l=Math.max(N,l),u=Math.max(j,u)}yJ(s,t);let B=o.indexOf(l),D=a.indexOf(u),w=I=>({width:o[I]||0,height:a[I]||0});return{first:w(0),last:w(t-1),widest:w(B),highest:w(D),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return pS(this._alignToPixels?Ms(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let r=t[e];return r.$context||(r.$context=_J(this.getContext(),e,r))}return this.$context||(this.$context=vJ(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=pr(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,c=s.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=af(s),p=[],m=a.setContext(this.getContext()),v=m.display?m.width:0,_=v/2,C=function(Je){return Ms(r,Je,v)},x,N,j,L,B,D,w,I,S,A,P,T;if(o==="top")x=C(this.bottom),D=this.bottom-f,I=x-_,A=C(e.top)+_,T=e.bottom;else if(o==="bottom")x=C(this.top),A=e.top,T=C(e.bottom)-_,D=x+_,I=this.top+f;else if(o==="left")x=C(this.right),B=this.right-f,w=x-_,S=C(e.left)+_,P=e.right;else if(o==="right")x=C(this.left),S=e.left,P=C(e.right)-_,B=x+_,w=this.left+f;else if(t==="x"){if(o==="center")x=C((e.top+e.bottom)/2+.5);else if(be(o)){let Je=Object.keys(o)[0],ze=o[Je];x=C(this.chart.scales[Je].getPixelForValue(ze))}A=e.top,T=e.bottom,D=x+_,I=D+f}else if(t==="y"){if(o==="center")x=C((e.left+e.right)/2);else if(be(o)){let Je=Object.keys(o)[0],ze=o[Je];x=C(this.chart.scales[Je].getPixelForValue(ze))}B=x-_,w=B-f,S=e.left,P=e.right}let pt=oe(i.ticks.maxTicksLimit,h),Re=Math.max(1,Math.ceil(h/pt));for(N=0;N<h;N+=Re){let Je=this.getContext(N),ze=s.setContext(Je),en=a.setContext(Je),At=ze.lineWidth,Qi=ze.color,sc=en.dash||[],Cn=en.dashOffset,vt=ze.tickWidth,Yi=ze.tickColor,Nr=ze.tickBorderDash||[],Xi=ze.tickBorderDashOffset;j=mJ(this,N,c),j!==void 0&&(L=Ms(r,j,At),l?B=w=S=P=L:D=I=A=T=L,p.push({tx1:B,ty1:D,tx2:w,ty2:I,x1:S,y1:A,x2:P,y2:T,width:At,color:Qi,borderDash:sc,borderDashOffset:Cn,tickWidth:vt,tickColor:Yi,tickBorderDash:Nr,tickBorderDashOffset:Xi}))}return this._ticksLength=h,this._borderValue=x,p}_computeLabelItems(e){let t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:h}=s,f=af(r.grid),p=f+u,m=h?-u:p,v=-pr(this.labelRotation),_=[],C,x,N,j,L,B,D,w,I,S,A,P,T="middle";if(i==="top")B=this.bottom-m,D=this._getXAxisLabelAlignment();else if(i==="bottom")B=this.top+m,D=this._getXAxisLabelAlignment();else if(i==="left"){let Re=this._getYAxisLabelAlignment(f);D=Re.textAlign,L=Re.x}else if(i==="right"){let Re=this._getYAxisLabelAlignment(f);D=Re.textAlign,L=Re.x}else if(t==="x"){if(i==="center")B=(e.top+e.bottom)/2+p;else if(be(i)){let Re=Object.keys(i)[0],Je=i[Re];B=this.chart.scales[Re].getPixelForValue(Je)+p}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")L=(e.left+e.right)/2-p;else if(be(i)){let Re=Object.keys(i)[0],Je=i[Re];L=this.chart.scales[Re].getPixelForValue(Je)}D=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(c==="start"?T="top":c==="end"&&(T="bottom"));let pt=this._getLabelSizes();for(C=0,x=a.length;C<x;++C){N=a[C],j=N.label;let Re=s.setContext(this.getContext(C));w=this.getPixelForTick(C)+s.labelOffset,I=this._resolveTickFontOptions(C),S=I.lineHeight,A=Qe(j)?j.length:1;let Je=A/2,ze=Re.color,en=Re.textStrokeColor,At=Re.textStrokeWidth,Qi=D;o?(L=w,D==="inner"&&(C===x-1?Qi=this.options.reverse?"left":"right":C===0?Qi=this.options.reverse?"right":"left":Qi="center"),i==="top"?l==="near"||v!==0?P=-A*S+S/2:l==="center"?P=-pt.highest.height/2-Je*S+S:P=-pt.highest.height+S/2:l==="near"||v!==0?P=S/2:l==="center"?P=pt.highest.height/2-Je*S:P=pt.highest.height-A*S,h&&(P*=-1),v!==0&&!Re.showLabelBackdrop&&(L+=S/2*Math.sin(v))):(B=w,P=(1-A)*S/2);let sc;if(Re.showLabelBackdrop){let Cn=Ft(Re.backdropPadding),vt=pt.heights[C],Yi=pt.widths[C],Nr=P-Cn.top,Xi=0-Cn.left;switch(T){case"middle":Nr-=vt/2;break;case"bottom":Nr-=vt;break}switch(D){case"center":Xi-=Yi/2;break;case"right":Xi-=Yi;break;case"inner":C===x-1?Xi-=Yi:C>0&&(Xi-=Yi/2);break}sc={left:Xi,top:Nr,width:Yi+Cn.width,height:vt+Cn.height,color:Re.backdropColor}}_.push({label:j,font:I,textOffset:P,options:{rotation:v,color:ze,strokeColor:en,strokeWidth:At,textAlign:Qi,textBaseline:T,translation:[L,B],backdrop:sc}})}return _}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-pr(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width,l,u;return t==="left"?i?(u=this.right+s,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u=this.left)):t==="right"?i?(u=this.left+s,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(c,l,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){let c=i[s];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;let a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,h,f;this.isHorizontal()?(l=Ms(e,this.left,o)-o/2,u=Ms(e,this.right,a)+a/2,h=f=c):(h=Ms(e,this.top,o)-o/2,f=Ms(e,this.bottom,a)+a/2,l=u=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,h),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&ou(r,i);let s=this.getLabelItems(e);for(let o of s){let a=o.options,c=o.font,l=o.label,u=o.textOffset;Rs(r,l,0,u,c,a)}i&&au(r)}drawTitle(){let{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;let s=yt(r.font),o=Ft(r.padding),a=r.align,c=s.lineHeight/2;t==="bottom"||t==="center"||be(t)?(c+=o.bottom,Qe(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;let{titleX:l,titleY:u,maxWidth:h,rotation:f}=wJ(this,c,t,a);Rs(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:f,textAlign:bJ(a,t,i),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,r=oe(e.grid&&e.grid.z,-1),i=oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],s,o;for(s=0,o=t.length;s<o;++s){let a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return yt(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},lu=class{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),r;DJ(t)&&(r=this.register(t));let i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,EJ(e,o,r),this.override&&Ze.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Ze[i]&&(delete Ze[i][r],this.override&&delete Oo[r])}};function EJ(n,e,t){let r=fr(Object.create(null),[t?Ze.get(t):{},Ze.get(e),n.defaults]);Ze.set(e,r),n.defaultRoutes&&IJ(e,n.defaultRoutes),n.descriptors&&Ze.describe(e,n.descriptors)}function IJ(n,e){Object.keys(e).forEach(t=>{let r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),c=o.join(".");Ze.route(s,i,c,a)})}function DJ(n){return"id"in n&&"defaults"in n}var GS=class{constructor(){this.controllers=new lu(Vo,"datasets",!0),this.elements=new lu(li,"elements"),this.plugins=new lu(Object,"plugins"),this.scales=new lu(tc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{let s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Oe(i,o=>{let a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){let i=Gh(e);Ve(r["before"+i],[],r),t[e](r),Ve(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){let i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}},Gi=new GS,KS=class{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,r,i){i=i||{};for(let s of e){let o=s.plugin,a=o[r],c=[t,i,s.options];if(Ve(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let r=e&&e.config,i=oe(r.options&&r.options.plugins,{}),s=CJ(r);return i===!1&&!t?[]:SJ(e,s,i,t)}_notifyStateChanges(e){let t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}};function CJ(n){let e={},t=[],r=Object.keys(Gi.plugins.items);for(let s=0;s<r.length;s++)t.push(Gi.getPlugin(r[s]));let i=n.plugins||[];for(let s=0;s<i.length;s++){let o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function TJ(n,e){return!e&&n===!1?null:n===!0?{}:n}function SJ(n,{plugins:e,localIds:t},r,i){let s=[],o=n.getContext();for(let a of e){let c=a.id,l=TJ(r[c],i);l!==null&&s.push({plugin:a,options:xJ(n.config,{plugin:a,local:t[c]},l,o)})}return s}function xJ(n,{plugin:e,local:t},r,i){let s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function QS(n,e){let t=Ze.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function AJ(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function MJ(n,e){return n===e?"_index_":"_value_"}function Cj(n){if(n==="x"||n==="y"||n==="r")return n}function RJ(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function YS(n,...e){if(Cj(n))return n;for(let t of e){let r=t.axis||RJ(t.position)||n.length>1&&Cj(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Tj(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function PJ(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Tj(n,"x",t[0])||Tj(n,"y",t[0])}return{}}function kJ(n,e){let t=Oo[n.type]||{scales:{}},r=e.scales||{},i=QS(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{let a=r[o];if(!be(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=YS(o,a,PJ(o,n),Ze.scales[a.type]),l=MJ(c,i),u=t.scales||{};s[o]=Ga(Object.create(null),[{axis:c},a,u[c],u[l]])}),n.data.datasets.forEach(o=>{let a=o.type||n.type,c=o.indexAxis||QS(a,e),u=(Oo[a]||{}).scales||{};Object.keys(u).forEach(h=>{let f=AJ(h,c),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),Ga(s[p],[{axis:f},r[p],u[h]])})}),Object.keys(s).forEach(o=>{let a=s[o];Ga(a,[Ze.scales[a.type],Ze.scale])}),s}function fB(n){let e=n.options||(n.options={});e.plugins=oe(e.plugins,{}),e.scales=kJ(n,e)}function pB(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function NJ(n){return n=n||{},n.data=pB(n.data),fB(n),n}var Sj=new Map,gB=new Set;function e_(n,e){let t=Sj.get(n);return t||(t=e(),Sj.set(n,t),gB.add(t)),t}var cf=(n,e,t)=>{let r=zi(e,t);r!==void 0&&n.add(r)},XS=class{constructor(e){this._config=NJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pB(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),fB(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return e_(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return e_(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return e_(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,r=this.type;return e_(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let r=this._scopeCache,i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){let{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;let c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(h=>cf(c,e,h))),u.forEach(h=>cf(c,i,h)),u.forEach(h=>cf(c,Oo[s]||{},h)),u.forEach(h=>cf(c,Ze,h)),u.forEach(h=>cf(c,Vv,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),gB.has(t)&&o.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,Oo[t]||{},Ze.datasets[t]||{},{type:t},Ze,Vv]}resolveNamedOptions(e,t,r,i=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=xj(this._resolverCache,e,i),c=o;if(FJ(o,t)){s.$shared=!1,r=$i(r)?r():r;let l=this.createResolver(e,r,a);c=ko(o,r,l)}for(let l of t)s[l]=c[l];return s}createResolver(e,t,r=[""],i){let{resolver:s}=xj(this._resolverCache,e,r);return be(t)?ko(s,t,void 0,i):s}};function xj(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));let i=t.join(),s=r.get(i);return s||(s={resolver:ef(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}var OJ=n=>be(n)&&Object.getOwnPropertyNames(n).some(e=>$i(n[e]));function FJ(n,e){let{isScriptable:t,isIndexable:r}=$v(n);for(let i of e){let s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&($i(a)||OJ(a))||o&&Qe(a))return!0}return!1}var LJ="4.4.9",VJ=["top","bottom","left","right","chartArea"];function Aj(n,e){return n==="top"||n==="bottom"||VJ.indexOf(n)===-1&&e==="x"}function Mj(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Rj(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ve(t&&t.onComplete,[n],e)}function jJ(n){let e=n.chart,t=e.options.animation;Ve(t&&t.onProgress,[n],e)}function mB(n){return tf()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var s_={},Pj=n=>{let e=mB(n);return Object.values(s_).filter(t=>t.canvas===e).pop()};function BJ(n,e,t){let r=Object.keys(n);for(let i of r){let s=+i;if(s>=e){let o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function UJ(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Ki=(()=>{class n{static defaults=Ze;static instances=s_;static overrides=Oo;static registry=Gi;static version=LJ;static getChart=Pj;static register(...t){Gi.add(...t),kj()}static unregister(...t){Gi.remove(...t),kj()}constructor(t,r){let i=this.config=new XS(r),s=mB(t),o=Pj(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||cJ(s)),this.platform.updateConfig(i);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,h=l&&l.width;if(this.id=lS(),this.ctx=c,this.canvas=l,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vS(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],s_[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ns.listen(this,"complete",Rj),Ns.listen(this,"progress",jJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return ae(t)?r&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Wv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jv(this.canvas,this.ctx),this}stop(){return Ns.stop(this),this}resize(t,r){Ns.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){let i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,r,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Wv(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Ve(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};Oe(r,(i,s)=>{i.id=s})}buildOrUpdateScales(){let t=this.options,r=t.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{}),o=[];r&&(o=o.concat(Object.keys(r).map(a=>{let c=r[a],l=YS(a,c),u=l==="r",h=l==="x";return{options:c,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Oe(o,a=>{let c=a.options,l=c.id,u=YS(l,c),h=oe(c.type,a.dtype);(c.position===void 0||Aj(c.position,u)!==Aj(a.dposition))&&(c.position=a.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{let p=Gi.getScale(h);f=new p({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(c,t)}),Oe(s,(a,c)=>{a||delete i[c]}),Oe(i,a=>{Dn.configure(this,a,a.options),Dn.addBox(this,a)})}_updateMetasets(){let t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort(Mj("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,s)=>{r.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],r=this.data.datasets,i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){let o=r[i],a=this.getDatasetMeta(i),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||QS(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=Gi.getController(c),{datasetElementType:u,dataElementType:h}=Ze.datasets[c];Object.assign(l,{dataElementType:Gi.getElement(h),datasetElementType:u&&Gi.getElement(u)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Oe(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){let{controller:f}=this.getDatasetMeta(u),p=!s&&o.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||Oe(o,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Mj("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Oe(this.scales,t=>{Dn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Cv(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:s,count:o}of r){let a=i==="_removeElements"?-o:o;BJ(t,s,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=o=>new Set(t.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!Cv(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dn.update(this,this.width,this.height,t);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],Oe(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,$i(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){let i=this.getDatasetMeta(t),s={meta:i,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ns.has(this)?this.attached&&!Ns.running(this)&&Ns.start(this):(this.draw(),Rj({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let r=this._sortedMetasets,i=[],s,o;for(s=0,o=r.length;s<o;++s){let a=r[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let r=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=Xv(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&ou(r,s),t.controller.draw(),s&&au(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return oi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,s){let o=HZ.modes[r];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){let r=this.data.datasets[t],i=this._metasets,s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Wi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let r=this.data.datasets[t];if(!r)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(t,r){let i=this.getDatasetMeta(t);i.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){let s=i?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);Ka(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){let r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),Ns.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),jv(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete s_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),t[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};Oe(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(l,u)=>{r.addEventListener(this,l,u),t[l]=u},s=(l,u)=>{t[l]&&(r.removeEventListener(this,l,u),delete t[l])},o=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){Oe(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},Oe(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){let s=i?"set":"remove",o,a,c,l;for(r==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let r=this._active||[],i=t.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!su(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,i){let s=this.options.hover,o=(l,u)=>l.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=o(r,t),c=i?t:o(t,r);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,r){let i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;let o=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,r,i){let{_active:s=[],options:o}=this,a=r,c=this._getActiveElements(t,s,i,a),l=dS(t),u=UJ(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Ve(o.onHover,[t,c,this],this),l&&Ve(o.onClick,[t,c,this],this));let h=!su(c,s);return(h||r)&&(this._active=c,this._updateHoverStyles(c,s,r)),this._lastEvent=u,h}_getActiveElements(t,r,i,s){if(t.type==="mouseout")return[];if(!i)return r;let o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}return n})();function kj(){return Oe(Ki.instances,n=>n._plugins.invalidate())}function $J(n,e,t){let{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=e,l=i/a;n.beginPath(),n.arc(s,o,a,r-l,t+l),c>i?(l=i/c,n.arc(s,o,c,t+l,r-l,!0)):n.arc(s,o,i,t+mt,r-mt),n.closePath(),n.clip()}function HJ(n){return Jh(n,["outerStart","outerEnd","innerStart","innerEnd"])}function zJ(n,e,t,r){let i=HJ(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),a=c=>{let l=(t-Math.min(s,c))*r/2;return Ot(c,0,Math.min(s,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ot(i.innerStart,0,o),innerEnd:Ot(i.innerEnd,0,o)}}function cu(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function l_(n,e,t,r,i,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=e,h=Math.max(e.outerRadius+r+t-l,0),f=u>0?u+r+t+l:0,p=0,m=i-c;if(r){let Re=u>0?u-r:0,Je=h>0?h-r:0,ze=(Re+Je)/2,en=ze!==0?m*ze/(ze+r):m;p=(m-en)/2}let v=Math.max(.001,m*h-t/Ye)/h,_=(m-v)/2,C=c+_+p,x=i-_-p,{outerStart:N,outerEnd:j,innerStart:L,innerEnd:B}=zJ(e,f,h,x-C),D=h-N,w=h-j,I=C+N/D,S=x-j/w,A=f+L,P=f+B,T=C+L/A,pt=x-B/P;if(n.beginPath(),s){let Re=(I+S)/2;if(n.arc(o,a,h,I,Re),n.arc(o,a,h,Re,S),j>0){let At=cu(w,S,o,a);n.arc(At.x,At.y,j,S,x+mt)}let Je=cu(P,x,o,a);if(n.lineTo(Je.x,Je.y),B>0){let At=cu(P,pt,o,a);n.arc(At.x,At.y,B,x+mt,pt+Math.PI)}let ze=(x-B/f+(C+L/f))/2;if(n.arc(o,a,f,x-B/f,ze,!0),n.arc(o,a,f,ze,C+L/f,!0),L>0){let At=cu(A,T,o,a);n.arc(At.x,At.y,L,T+Math.PI,C-mt)}let en=cu(D,C,o,a);if(n.lineTo(en.x,en.y),N>0){let At=cu(D,I,o,a);n.arc(At.x,At.y,N,C-mt,I)}}else{n.moveTo(o,a);let Re=Math.cos(I)*h+o,Je=Math.sin(I)*h+a;n.lineTo(Re,Je);let ze=Math.cos(S)*h+o,en=Math.sin(S)*h+a;n.lineTo(ze,en)}n.closePath()}function WJ(n,e,t,r,i){let{fullCircles:s,startAngle:o,circumference:a}=e,c=e.endAngle;if(s){l_(n,e,t,r,c,i);for(let l=0;l<s;++l)n.fill();isNaN(a)||(c=o+(a%Xe||Xe))}return l_(n,e,t,r,c,i),n.fill(),c}function qJ(n,e,t,r,i){let{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=c,p=c.borderAlign==="inner";if(!l)return;n.setLineDash(h||[]),n.lineDashOffset=f,p?(n.lineWidth=l*2,n.lineJoin=u||"round"):(n.lineWidth=l,n.lineJoin=u||"bevel");let m=e.endAngle;if(s){l_(n,e,t,r,m,i);for(let v=0;v<s;++v)n.stroke();isNaN(a)||(m=o+(a%Xe||Xe))}p&&$J(n,e,m),s||(l_(n,e,t,r,m,i),n.stroke())}var hf=class extends li{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){let i=this.getProps(["x","y"],r),{angle:s,distance:o}=Av(i,{x:e,y:t}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,p=oe(h,c-a),m=Ya(s,a,c)&&a!==c,v=p>=Xe||m,_=ci(o,l+f,u+f);return v&&_}getCenterPoint(e){let{x:t,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,u=(i+s)/2,h=(o+a+l+c)/2;return{x:t+Math.cos(u)*h,y:r+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:r}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>Xe?Math.floor(r/Xe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);let c=1-Math.sin(Math.min(Ye,r||0)),l=i*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,WJ(e,this,l,s,o),qJ(e,this,l,s,o),e.restore()}};function yB(n,e,t=e){n.lineCap=oe(t.borderCapStyle,e.borderCapStyle),n.setLineDash(oe(t.borderDash,e.borderDash)),n.lineDashOffset=oe(t.borderDashOffset,e.borderDashOffset),n.lineJoin=oe(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=oe(t.borderWidth,e.borderWidth),n.strokeStyle=oe(t.borderColor,e.borderColor)}function GJ(n,e,t){n.lineTo(t.x,t.y)}function KJ(n){return n.stepped?wS:n.tension||n.cubicInterpolationMode==="monotone"?ES:GJ}function vB(n,e,t={}){let r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,c=Math.max(i,o),l=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:c,loop:e.loop,ilen:l<c&&!u?r+l-c:l-c}}function QJ(n,e,t,r){let{points:i,options:s}=e,{count:o,start:a,loop:c,ilen:l}=vB(i,t,r),u=KJ(s),{move:h=!0,reverse:f}=r||{},p,m,v;for(p=0;p<=l;++p)m=i[(a+(f?l-p:p))%o],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):u(n,v,m,f,s.stepped),v=m);return c&&(m=i[(a+(f?l:0))%o],u(n,v,m,f,s.stepped)),!!c}function YJ(n,e,t,r){let i=e.points,{count:s,start:o,ilen:a}=vB(i,t,r),{move:c=!0,reverse:l}=r||{},u=0,h=0,f,p,m,v,_,C,x=j=>(o+(l?a-j:j))%s,N=()=>{v!==_&&(n.lineTo(u,_),n.lineTo(u,v),n.lineTo(u,C))};for(c&&(p=i[x(0)],n.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[x(f)],p.skip)continue;let j=p.x,L=p.y,B=j|0;B===m?(L<v?v=L:L>_&&(_=L),u=(h*u+j)/++h):(N(),n.lineTo(j,L),m=B,h=0,v=_=L),C=L}N()}function ZS(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?YJ:QJ}function XJ(n){return n.stepped?AS:n.tension||n.cubicInterpolationMode==="monotone"?MS:As}function ZJ(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),yB(n,e.options),n.stroke(i)}function JJ(n,e,t,r){let{segments:i,options:s}=e,o=ZS(e);for(let a of i)yB(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}var eee=typeof Path2D=="function";function tee(n,e,t,r){eee&&!e.options.segment?ZJ(n,e,t,r):JJ(n,e,t,r)}var jo=(()=>{class n extends li{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let s=i.spanGaps?this._loop:this._fullLoop;TS(this._points,i,t,s,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RS(this,this.options.segment))}first(){let t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){let t=this.segments,r=this.points,i=t.length;return i&&r[t[i-1].end]}interpolate(t,r){let i=this.options,s=t[r],o=this.points,a=Yv(this,{property:r,start:s,end:s});if(!a.length)return;let c=[],l=XJ(i),u,h;for(u=0,h=a.length;u<h;++u){let{start:f,end:p}=a[u],m=o[f],v=o[p];if(m===v){c.push(m);continue}let _=Math.abs((s-m[r])/(v[r]-m[r])),C=l(m,v,_,i.stepped);C[r]=t[r],c.push(C)}return c.length===1?c[0]:c}pathSegment(t,r,i){return ZS(this)(t,this,r,i)}path(t,r,i){let s=this.segments,o=ZS(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let c of s)a&=o(t,this,c,{start:r,end:r+i-1});return!!a}draw(t,r,i,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),tee(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function Nj(n,e,t,r){let i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}var rc=(()=>{class n extends li{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return Nj(this,t,"x",r)}inYRange(t,r){return Nj(this,t,"y",r)}getCenterPoint(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);let i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){let i=this.options;this.skip||i.radius<.1||!oi(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Zh(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function _B(n,e){let{x:t,y:r,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],e),a,c,l,u,h;return n.horizontal?(h=o/2,a=Math.min(t,i),c=Math.max(t,i),l=r-h,u=r+h):(h=s/2,a=t-h,c=t+h,l=Math.min(r,i),u=Math.max(r,i)),{left:a,top:l,right:c,bottom:u}}function Lo(n,e,t,r){return n?0:Ot(e,t,r)}function nee(n,e,t){let r=n.options.borderWidth,i=n.borderSkipped,s=Uv(r);return{t:Lo(i.top,s.top,0,t),r:Lo(i.right,s.right,0,e),b:Lo(i.bottom,s.bottom,0,t),l:Lo(i.left,s.left,0,e)}}function ree(n,e,t){let{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=Ps(i),o=Math.min(e,t),a=n.borderSkipped,c=r||be(i);return{topLeft:Lo(!c||a.top||a.left,s.topLeft,0,o),topRight:Lo(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Lo(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Lo(!c||a.bottom||a.right,s.bottomRight,0,o)}}function iee(n){let e=_B(n),t=e.right-e.left,r=e.bottom-e.top,i=nee(n,t/2,r/2),s=ree(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function jS(n,e,t,r){let i=e===null,s=t===null,a=n&&!(i&&s)&&_B(n,r);return a&&(i||ci(e,a.left,a.right))&&(s||ci(t,a.top,a.bottom))}function see(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function oee(n,e){n.rect(e.x,e.y,e.w,e.h)}function BS(n,e,t={}){let r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,o=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+o,radius:n.radius}}var ff=class extends li{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=iee(this),a=see(o.radius)?Za:oee;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,BS(o,t,s)),e.clip(),a(e,BS(s,-t,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,BS(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return jS(this,e,t,r)}inXRange(e,t){return jS(this,e,null,t)}inYRange(e,t){return jS(this,null,e,t)}getCenterPoint(e){let{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},aee=Object.freeze({__proto__:null,ArcElement:hf,BarElement:ff,LineElement:jo,PointElement:rc}),JS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Oj=JS.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function bB(n){return JS[n%JS.length]}function wB(n){return Oj[n%Oj.length]}function cee(n,e){return n.borderColor=bB(e),n.backgroundColor=wB(e),++e}function lee(n,e){return n.backgroundColor=n.data.map(()=>bB(e++)),e}function uee(n,e){return n.backgroundColor=n.data.map(()=>wB(e++)),e}function dee(n){let e=0;return(t,r)=>{let i=n.getDatasetMeta(r).controller;i instanceof ox?e=lee(t,e):i instanceof cB?e=uee(t,e):i&&(e=cee(t,e))}}function Fj(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function hee(n){return n&&(n.borderColor||n.backgroundColor)}function fee(){return Ze.borderColor!=="rgba(0,0,0,0.1)"||Ze.backgroundColor!=="rgba(0,0,0,0.1)"}var pee={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:r},options:i}=n.config,{elements:s}=i,o=Fj(r)||hee(i)||s&&Fj(s)||fee();if(!t.forceOverride&&o)return;let a=dee(n);r.forEach(a)}};function gee(n,e,t,r,i){let s=i.samples||r;if(s>=t)return n.slice(e,e+t);let o=[],a=(t-2)/(s-2),c=0,l=e+t-1,u=e,h,f,p,m,v;for(o[c++]=n[u],h=0;h<s-2;h++){let _=0,C=0,x,N=Math.floor((h+1)*a)+1+e,j=Math.min(Math.floor((h+2)*a)+1,t)+e,L=j-N;for(x=N;x<j;x++)_+=n[x].x,C+=n[x].y;_/=L,C/=L;let B=Math.floor(h*a)+1+e,D=Math.min(Math.floor((h+1)*a)+1,t)+e,{x:w,y:I}=n[u];for(p=m=-1,x=B;x<D;x++)m=.5*Math.abs((w-_)*(n[x].y-I)-(w-n[x].x)*(C-I)),m>p&&(p=m,f=n[x],v=x);o[c++]=f,u=v}return o[c++]=n[l],o}function mee(n,e,t,r){let i=0,s=0,o,a,c,l,u,h,f,p,m,v,_=[],C=e+t-1,x=n[e].x,j=n[C].x-x;for(o=e;o<e+t;++o){a=n[o],c=(a.x-x)/j*r,l=a.y;let L=c|0;if(L===u)l<m?(m=l,h=o):l>v&&(v=l,f=o),i=(s*i+a.x)/++s;else{let B=o-1;if(!ae(h)&&!ae(f)){let D=Math.min(h,f),w=Math.max(h,f);D!==p&&D!==B&&_.push(he(z({},n[D]),{x:i})),w!==p&&w!==B&&_.push(he(z({},n[w]),{x:i}))}o>0&&B!==p&&_.push(n[B]),_.push(a),u=L,s=0,m=v=l,h=f=p=o}}return _}function EB(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Lj(n){n.data.datasets.forEach(e=>{EB(e)})}function yee(n,e){let t=e.length,r=0,i,{iScale:s}=n,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(r=Ot(si(e,s.axis,o).lo,0,t-1)),l?i=Ot(si(e,s.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var vee={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Lj(n);return}let r=n.width;n.data.datasets.forEach((i,s)=>{let{_data:o,indexAxis:a}=i,c=n.getDatasetMeta(s),l=o||i.data;if(He([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=n.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:f}=yee(c,l),p=t.threshold||4*r;if(f<=p){EB(i);return}ae(o)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let m;switch(t.algorithm){case"lttb":m=gee(l,h,f,r,t);break;case"min-max":m=mee(l,h,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=m})},destroy(n){Lj(n)}};function _ee(n,e,t){let r=n.segments,i=n.points,s=e.points,o=[];for(let a of r){let{start:c,end:l}=a;l=ax(c,l,i);let u=ex(t,i[c],i[l],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[c],end:i[l]});continue}let h=Yv(e,u);for(let f of h){let p=ex(t,s[f.start],s[f.end],f.loop),m=Qv(a,i,p);for(let v of m)o.push({source:v,target:f,start:{[t]:Vj(u,p,"start",Math.max)},end:{[t]:Vj(u,p,"end",Math.min)}})}}return o}function ex(n,e,t,r){if(r)return;let i=e[n],s=t[n];return n==="angle"&&(i=Ln(i),s=Ln(s)),{property:n,start:i,end:s}}function bee(n,e){let{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=ax(o,a,i);let c=i[o],l=i[a];r!==null?(s.push({x:c.x,y:r}),s.push({x:l.x,y:r})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:l.y}))}),s}function ax(n,e,t){for(;e>n;e--){let r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Vj(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function IB(n,e){let t=[],r=!1;return Qe(n)?(r=!0,t=n):t=bee(n,e),t.length?new jo({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function jj(n){return n&&n.fill!==!1}function wee(n,e,t){let i=n[e].fill,s=[e],o;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!ft(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Eee(n,e,t){let r=Tee(n);if(be(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ft(i)&&Math.floor(i)===i?Iee(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Iee(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function Dee(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:be(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Cee(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:be(n)?r=n.value:r=e.getBaseValue(),r}function Tee(n){let e=n.options,t=e.fill,r=oe(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function See(n){let{scale:e,index:t,line:r}=n,i=[],s=r.segments,o=r.points,a=xee(e,t);a.push(IB({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){let l=s[c];for(let u=l.start;u<=l.end;u++)Aee(i,o[u],a)}return new jo({points:i,options:{}})}function xee(n,e){let t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function Aee(n,e,t){let r=[];for(let i=0;i<t.length;i++){let s=t[i],{first:o,last:a,point:c}=Mee(s,e,"x");if(!(!c||o&&a)){if(o)r.unshift(c);else if(n.push(c),!a)break}}n.push(...r)}function Mee(n,e,t){let r=n.interpolate(e,t);if(!r)return{};let i=r[t],s=n.segments,o=n.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let u=s[l],h=o[u.start][t],f=o[u.end][t];if(ci(i,h,f)){a=i===h,c=i===f;break}}return{first:a,last:c,point:r}}var u_=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){let{x:i,y:s,radius:o}=this;return t=t||{start:0,end:Xe},e.arc(i,s,o,t.end,t.start,!0),!r.bounds}interpolate(e){let{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}};function Ree(n){let{chart:e,fill:t,line:r}=n;if(ft(t))return Pee(e,t);if(t==="stack")return See(n);if(t==="shape")return!0;let i=kee(n);return i instanceof u_?i:IB(i,r)}function Pee(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function kee(n){return(n.scale||{}).getPointPositionForValue?Oee(n):Nee(n)}function Nee(n){let{scale:e={},fill:t}=n,r=Dee(t,e);if(ft(r)){let i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function Oee(n){let{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=Cee(t,e,s),a=[];if(r.grid.circular){let c=e.getPointPositionForValue(0,s);return new u_({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}function US(n,e,t){let r=Ree(e),{chart:i,index:s,line:o,scale:a,axis:c}=e,l=o.options,u=l.fill,h=l.backgroundColor,{above:f=h,below:p=h}=u||{},m=i.getDatasetMeta(s),v=Xv(i,m);r&&o.points.length&&(ou(n,t),Fee(n,{line:o,target:r,above:f,below:p,area:t,scale:a,axis:c,clip:v}),au(n))}function Fee(n,e){let{line:t,target:r,above:i,below:s,area:o,scale:a,clip:c}=e,l=t._loop?"angle":e.axis;n.save(),l==="x"&&s!==i&&(Bj(n,r,o.top),Uj(n,{line:t,target:r,color:i,scale:a,property:l,clip:c}),n.restore(),n.save(),Bj(n,r,o.bottom)),Uj(n,{line:t,target:r,color:s,scale:a,property:l,clip:c}),n.restore()}function Bj(n,e,t){let{segments:r,points:i}=e,s=!0,o=!1;n.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],h=i[ax(c,l,i)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Uj(n,e){let{line:t,target:r,property:i,color:s,scale:o,clip:a}=e,c=_ee(t,r,i);for(let{source:l,target:u,start:h,end:f}of c){let{style:{backgroundColor:p=s}={}}=l,m=r!==!0;n.save(),n.fillStyle=p,Lee(n,o,a,m&&ex(i,h,f)),n.beginPath();let v=!!t.pathSegment(n,l),_;if(m){v?n.closePath():$j(n,r,f,i);let C=!!r.pathSegment(n,u,{move:v,reverse:!0});_=v&&C,_||$j(n,r,h,i)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function Lee(n,e,t,r){let i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let c,l,u,h;s==="x"?(c=o,l=i.top,u=a,h=i.bottom):(c=i.left,l=o,u=i.right,h=a),n.beginPath(),t&&(c=Math.max(c,t.left),u=Math.min(u,t.right),l=Math.max(l,t.top),h=Math.min(h,t.bottom)),n.rect(c,l,u-c,h-l),n.clip()}}function $j(n,e,t,r){let i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var Vee={id:"filler",afterDatasetsUpdate(n,e,t){let r=(n.data.datasets||[]).length,i=[],s,o,a,c;for(o=0;o<r;++o)s=n.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof jo&&(c={visible:n.isDatasetVisible(o),index:o,fill:Eee(a,o,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=wee(i,o,t.propagate))},beforeDraw(n,e,t){let r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){let a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&US(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let s=r[i].$filler;jj(s)&&US(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){let r=e.meta.$filler;!jj(r)||t.drawTime!=="beforeDatasetDraw"||US(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Hj=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},jee=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,d_=class extends li{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Ve(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let r=e.labels,i=yt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Hj(r,s),l,u;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,s,a,c)+10):(u=this.maxHeight,l=this._fitCols(o,i,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+a,h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,v)=>{let _=r+t/2+s.measureText(m.text).width;(v===0||l[l.length-1]+_+2*a>o)&&(h+=u,l[l.length-(v>0?0:1)]=0,p+=u,f++),c[v]={left:0,top:p,row:f,width:_,height:i},l[l.length-1]+=_+a}),h}_fitCols(e,t,r,i){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-e,h=a,f=0,p=0,m=0,v=0;return this.legendItems.forEach((_,C)=>{let{itemWidth:x,itemHeight:N}=Bee(r,t,s,_,i);C>0&&p+N+2*a>u&&(h+=f+a,l.push({width:f,height:p}),m+=f+a,v++,f=p=0),c[C]={left:m,top:p,col:v,width:x,height:N},f=Math.max(f,x),p+=N+a}),h+=f,l.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Fo(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=Jt(r,this.left+i,this.right-this.lineWidths[a]);for(let l of t)a!==l.row&&(a=l.row,c=Jt(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+e+i,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+i}else{let a=0,c=Jt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(let l of t)l.col!==a&&(a=l.col,c=Jt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;ou(e,this),this._draw(),au(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Ze.color,c=Fo(e.rtl,this.left,this.width),l=yt(o.font),{padding:u}=o,h=l.size,f=h/2,p;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:m,boxHeight:v,itemHeight:_}=Hj(o,h),C=function(B,D,w){if(isNaN(m)||m<=0||isNaN(v)||v<0)return;i.save();let I=oe(w.lineWidth,1);if(i.fillStyle=oe(w.fillStyle,a),i.lineCap=oe(w.lineCap,"butt"),i.lineDashOffset=oe(w.lineDashOffset,0),i.lineJoin=oe(w.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=oe(w.strokeStyle,a),i.setLineDash(oe(w.lineDash,[])),o.usePointStyle){let S={radius:v*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:I},A=c.xPlus(B,m/2),P=D+f;Bv(i,S,A,P,o.pointStyleWidth&&m)}else{let S=D+Math.max((h-v)/2,0),A=c.leftForLtr(B,m),P=Ps(w.borderRadius);i.beginPath(),Object.values(P).some(T=>T!==0)?Za(i,{x:A,y:S,w:m,h:v,radius:P}):i.rect(A,S,m,v),i.fill(),I!==0&&i.stroke()}i.restore()},x=function(B,D,w){Rs(i,w.text,B,D+_/2,l,{strikethrough:w.hidden,textAlign:c.textAlign(w.textAlign)})},N=this.isHorizontal(),j=this._computeTitleHeight();N?p={x:Jt(s,this.left+u,this.right-r[0]),y:this.top+u+j,line:0}:p={x:this.left+u,y:Jt(s,this.top+j+u,this.bottom-t[0].height),line:0},Gv(this.ctx,e.textDirection);let L=_+u;this.legendItems.forEach((B,D)=>{i.strokeStyle=B.fontColor,i.fillStyle=B.fontColor;let w=i.measureText(B.text).width,I=c.textAlign(B.textAlign||(B.textAlign=o.textAlign)),S=m+f+w,A=p.x,P=p.y;c.setWidth(this.width),N?D>0&&A+S+u>this.right&&(P=p.y+=L,p.line++,A=p.x=Jt(s,this.left+u,this.right-r[p.line])):D>0&&P+L>this.bottom&&(A=p.x=A+t[p.line].width+u,p.line++,P=p.y=Jt(s,this.top+j+u,this.bottom-t[p.line].height));let T=c.x(A);if(C(T,P,B),A=_S(I,A+m+f,N?A+S:this.right,e.rtl),x(c.x(A),P,B),N)p.x+=S+u;else if(typeof B.text!="string"){let pt=l.lineHeight;p.y+=DB(B,pt)+u}else p.y+=L}),Kv(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,r=yt(t.font),i=Ft(t.padding);if(!t.display)return;let s=Fo(e.rtl,this.left,this.width),o=this.ctx,a=t.position,c=r.size/2,l=i.top+c,u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+l,h=Jt(e.align,h,this.right-f);else{let m=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);u=l+Jt(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}let p=Jt(a,h,h+f);o.textAlign=s.textAlign(Yh(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,Rs(o,t.text,p,u,r)}_computeTitleHeight(){let e=this.options.title,t=yt(e.font),r=Ft(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(ci(e,this.left,this.right)&&ci(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ci(e,i.left,i.left+i.width)&&ci(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){let t=this.options;if(!Hee(e.type,t))return;let r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,s=jee(i,r);i&&!s&&Ve(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Ve(t.onHover,[e,r,this],this)}else r&&Ve(t.onClick,[e,r,this],this)}};function Bee(n,e,t,r,i){let s=Uee(r,n,e,t),o=$ee(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Uee(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function $ee(n,e,t){let r=n;return typeof e.text!="string"&&(r=DB(e,t)),r}function DB(n,e){let t=n.text?n.text.length:0;return e*t}function Hee(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var vf={id:"legend",_element:d_,start(n,e,t){let r=n.legend=new d_({ctx:n.ctx,options:t,chart:n});Dn.configure(n,r,t),Dn.addBox(n,r)},stop(n){Dn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let r=n.legend;Dn.configure(n,r,t),r.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),u=Ft(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},pf=class extends li{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=Qe(r.text)?r.text.length:1;this._padding=Ft(r.padding);let s=i*yt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align,c=0,l,u,h;return this.isHorizontal()?(u=Jt(a,r,s),h=t+e,l=s-r):(o.position==="left"?(u=r+e,h=Jt(a,i,t),c=Ye*-.5):(u=s-e,h=Jt(a,t,i),c=Ye*.5),l=i-t),{titleX:u,titleY:h,maxWidth:l,rotation:c}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let r=yt(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);Rs(e,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:l,textAlign:Yh(t.align),textBaseline:"middle",translation:[o,a]})}};function zee(n,e){let t=new pf({ctx:n.ctx,options:e,chart:n});Dn.configure(n,t,e),Dn.addBox(n,t),n.titleBlock=t}var _f={id:"title",_element:pf,start(n,e,t){zee(n,t)},stop(n){let e=n.titleBlock;Dn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let r=n.titleBlock;Dn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},t_=new WeakMap,Wee={id:"subtitle",start(n,e,t){let r=new pf({ctx:n.ctx,options:t,chart:n});Dn.configure(n,r,t),Dn.addBox(n,r),t_.set(n,r)},stop(n){Dn.removeBox(n,t_.get(n)),t_.delete(n)},beforeUpdate(n,e,t){let r=t_.get(n);Dn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},uf={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){let c=n[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=qh(e,l);u<i&&(i=u,a=c)}}if(a){let c=a.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function qi(n,e){return e&&(Qe(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Os(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function qee(n,e){let{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function zj(n,e){let t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,c=yt(e.bodyFont),l=yt(e.titleFont),u=yt(e.footerFont),h=s.length,f=i.length,p=r.length,m=Ft(e.padding),v=m.height,_=0,C=r.reduce((j,L)=>j+L.before.length+L.lines.length+L.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,h&&(v+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),C){let j=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;v+=p*j+(C-p)*c.lineHeight+(C-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0,N=function(j){_=Math.max(_,t.measureText(j).width+x)};return t.save(),t.font=l.string,Oe(n.title,N),t.font=c.string,Oe(n.beforeBody.concat(n.afterBody),N),x=e.displayColors?o+2+e.boxPadding:0,Oe(r,j=>{Oe(j.before,N),Oe(j.lines,N),Oe(j.after,N)}),x=0,t.font=u.string,Oe(n.footer,N),t.restore(),_+=m.width,{width:_,height:v}}function Gee(n,e){let{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Kee(n,e,t,r){let{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function Qee(n,e,t,r){let{x:i,width:s}=t,{width:o,chartArea:{left:a,right:c}}=n,l="center";return r==="center"?l=i<=(a+c)/2?"left":"right":i<=s/2?l="left":i>=o-s/2&&(l="right"),Kee(l,n,e,t)&&(l="center"),l}function Wj(n,e,t){let r=t.yAlign||e.yAlign||Gee(n,t);return{xAlign:t.xAlign||e.xAlign||Qee(n,e,t,r),yAlign:r}}function Yee(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function Xee(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function qj(n,e,t,r){let{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:c}=t,l=i+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Ps(o),m=Yee(e,a),v=Xee(e,c,l);return c==="center"?a==="left"?m+=l:a==="right"&&(m-=l):a==="left"?m-=Math.max(u,f)+i:a==="right"&&(m+=Math.max(h,p)+i),{x:Ot(m,0,r.width-e.width),y:Ot(v,0,r.height-e.height)}}function n_(n,e,t){let r=Ft(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Gj(n){return qi([],Os(n))}function Zee(n,e,t){return Wi(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Kj(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var CB={beforeTitle:ai,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:ai,beforeBody:ai,beforeLabel:ai,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return ae(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ai,afterBody:ai,beforeFooter:ai,footer:ai,afterFooter:ai};function Yn(n,e,t,r){let i=n[e].call(t,r);return typeof i>"u"?CB[e].call(t,r):i}var Qj=(()=>{class n extends li{static positioners=uf;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new o_(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Zee(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){let{callbacks:i}=r,s=Yn(i,"beforeTitle",this,t),o=Yn(i,"title",this,t),a=Yn(i,"afterTitle",this,t),c=[];return c=qi(c,Os(s)),c=qi(c,Os(o)),c=qi(c,Os(a)),c}getBeforeBody(t,r){return Gj(Yn(r.callbacks,"beforeBody",this,t))}getBody(t,r){let{callbacks:i}=r,s=[];return Oe(t,o=>{let a={before:[],lines:[],after:[]},c=Kj(i,o);qi(a.before,Os(Yn(c,"beforeLabel",this,o))),qi(a.lines,Yn(c,"label",this,o)),qi(a.after,Os(Yn(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,r){return Gj(Yn(r.callbacks,"afterBody",this,t))}getFooter(t,r){let{callbacks:i}=r,s=Yn(i,"beforeFooter",this,t),o=Yn(i,"footer",this,t),a=Yn(i,"afterFooter",this,t),c=[];return c=qi(c,Os(s)),c=qi(c,Os(o)),c=qi(c,Os(a)),c}_createItems(t){let r=this._active,i=this.chart.data,s=[],o=[],a=[],c=[],l,u;for(l=0,u=r.length;l<u;++l)c.push(qee(this.chart,r[l]));return t.filter&&(c=c.filter((h,f,p)=>t.filter(h,f,p,i))),t.itemSort&&(c=c.sort((h,f)=>t.itemSort(h,f,i))),Oe(c,h=>{let f=Kj(t.callbacks,h);s.push(Yn(f,"labelColor",this,h)),o.push(Yn(f,"labelPointStyle",this,h)),a.push(Yn(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(t,r){let i=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=uf[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=zj(this,i),u=Object.assign({},c,l),h=Wj(this.chart,i,u),f=qj(i,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,s){let o=this.getCaretPosition(t,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(t,r,i){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:f}=Ps(c),{x:p,y:m}=t,{width:v,height:_}=r,C,x,N,j,L,B;return o==="center"?(L=m+_/2,s==="left"?(C=p,x=C-a,j=L+a,B=L-a):(C=p+v,x=C+a,j=L-a,B=L+a),N=C):(s==="left"?x=p+Math.max(l,h)+a:s==="right"?x=p+v-Math.max(u,f)-a:x=this.caretX,o==="top"?(j=m,L=j-a,C=x-a,N=x+a):(j=m+_,L=j+a,C=x+a,N=x-a),B=j),{x1:C,x2:x,x3:N,y1:j,y2:L,y3:B}}drawTitle(t,r,i){let s=this.title,o=s.length,a,c,l;if(o){let u=Fo(i.rtl,this.x,this.width);for(t.x=n_(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=yt(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===o&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,r,i,s,o){let a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=o,h=yt(o.bodyFont),f=n_(this,"left",o),p=s.x(f),m=l<h.lineHeight?(h.lineHeight-l)/2:0,v=r.y+m;if(o.usePointStyle){let _={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=s.leftForLtr(p,u)+u/2,x=v+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Zh(t,_,C,x),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Zh(t,_,C,x)}else{t.lineWidth=be(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let _=s.leftForLtr(p,u),C=s.leftForLtr(s.xPlus(p,1),u-2),x=Ps(a.borderRadius);Object.values(x).some(N=>N!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Za(t,{x:_,y:v,w:u,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Za(t,{x:C,y:v+1,w:u-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,v,u,l),t.strokeRect(_,v,u,l),t.fillStyle=a.backgroundColor,t.fillRect(C,v+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:h}=i,f=yt(i.bodyFont),p=f.lineHeight,m=0,v=Fo(i.rtl,this.x,this.width),_=function(I){r.fillText(I,v.x(t.x+m),t.y+p/2),t.y+=p+o},C=v.textAlign(a),x,N,j,L,B,D,w;for(r.textAlign=a,r.textBaseline="middle",r.font=f.string,t.x=n_(this,C,i),r.fillStyle=i.bodyColor,Oe(this.beforeBody,_),m=c&&C!=="right"?a==="center"?u/2+h:u+2+h:0,L=0,D=s.length;L<D;++L){for(x=s[L],N=this.labelTextColors[L],r.fillStyle=N,Oe(x.before,_),j=x.lines,c&&j.length&&(this._drawColorBox(r,t,L,v,i),p=Math.max(f.lineHeight,l)),B=0,w=j.length;B<w;++B)_(j[B]),p=f.lineHeight;Oe(x.after,_)}m=0,p=f.lineHeight,Oe(this.afterBody,_),t.y-=o}drawFooter(t,r,i){let s=this.footer,o=s.length,a,c;if(o){let l=Fo(i.rtl,this.x,this.width);for(t.x=n_(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=yt(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,r,i,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=t,{width:u,height:h}=i,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:v}=Ps(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(c+f,l),a==="top"&&this.drawCaret(t,r,i,s),r.lineTo(c+u-p,l),r.quadraticCurveTo(c+u,l,c+u,l+p),a==="center"&&o==="right"&&this.drawCaret(t,r,i,s),r.lineTo(c+u,l+h-v),r.quadraticCurveTo(c+u,l+h,c+u-v,l+h),a==="bottom"&&this.drawCaret(t,r,i,s),r.lineTo(c+m,l+h),r.quadraticCurveTo(c,l+h,c,l+h-m),a==="center"&&o==="left"&&this.drawCaret(t,r,i,s),r.lineTo(c,l+f),r.quadraticCurveTo(c,l,c+f,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){let r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){let a=uf[t.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=zj(this,t),l=Object.assign({},a,this._size),u=Wj(r,t,l),h=qj(t,l,u,r);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=Ft(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,r),Gv(t,r.textDirection),o.y+=a.top,this.drawTitle(o,t,r),this.drawBody(o,t,r),this.drawFooter(o,t,r),Kv(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){let i=this._active,s=t.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),o=!su(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(t,o,r,i),c=this._positionChanged(a,t),l=r||!su(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,i,s){let o=this.options;if(t.type==="mouseout")return[];if(!s)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(t,r){let{caretX:i,caretY:s,options:o}=this,a=uf[o.position].call(this,t,r);return a!==!1&&(i!==a.x||s!==a.y)}}return n})(),bf={id:"tooltip",_element:Qj,positioners:uf,afterInit(n,e,t){t&&(n.tooltip=new Qj({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",he(z({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Jee=Object.freeze({__proto__:null,Colors:pee,Decimation:vee,Filler:Vee,Legend:vf,SubTitle:Wee,Title:_f,Tooltip:bf}),ete=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function tte(n,e,t,r){let i=n.indexOf(e);if(i===-1)return ete(n,e,t,r);let s=n.lastIndexOf(e);return i!==s?t:i}var nte=(n,e)=>n===null?null:Ot(Math.round(n),0,e);function Yj(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var wf=(()=>{class n extends tc{static id="category";static defaults={ticks:{callback:Yj}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(ae(t))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===t?r:tte(i,t,oe(r,t),this._addedLabels),nte(r,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){let t=this.min,r=this.max,i=this.options.offset,s=[],o=this.getLabels();o=t===0&&r===o.length-1?o:o.slice(t,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=r;a++)s.push({value:a});return s}getLabelForValue(t){return Yj.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function rte(n,e){let t=[],{bounds:i,step:s,min:o,max:a,precision:c,count:l,maxTicks:u,maxDigits:h,includeBounds:f}=n,p=s||1,m=u-1,{min:v,max:_}=e,C=!ae(o),x=!ae(a),N=!ae(l),j=(_-v)/(h+1),L=Tv((_-v)/m/p)*p,B,D,w,I;if(L<1e-14&&!C&&!x)return[{value:v},{value:_}];I=Math.ceil(_/L)-Math.floor(v/L),I>m&&(L=Tv(I*L/m/p)*p),ae(c)||(B=Math.pow(10,c),L=Math.ceil(L*B)/B),i==="ticks"?(D=Math.floor(v/L)*L,w=Math.ceil(_/L)*L):(D=v,w=_),C&&x&&s&&fS((a-o)/s,L/1e3)?(I=Math.round(Math.min((a-o)/L,u)),L=(a-o)/I,D=o,w=a):N?(D=C?o:D,w=x?a:w,I=l-1,L=(w-D)/I):(I=(w-D)/L,Qa(I,Math.round(I),L/1e3)?I=Math.round(I):I=Math.ceil(I));let S=Math.max(xv(L),xv(D));B=Math.pow(10,ae(c)?S:c),D=Math.round(D*B)/B,w=Math.round(w*B)/B;let A=0;for(C&&(f&&D!==o?(t.push({value:o}),D<o&&A++,Qa(Math.round((D+A*L)*B)/B,o,Xj(o,j,n))&&A++):D<o&&A++);A<I;++A){let P=Math.round((D+A*L)*B)/B;if(x&&P>a)break;t.push({value:P})}return x&&f&&w!==a?t.length&&Qa(t[t.length-1].value,a,Xj(a,j,n))?t[t.length-1].value=a:t.push({value:a}):(!x||w===a)&&t.push({value:w}),t}function Xj(n,e,{horizontal:t,minRotation:r}){let i=pr(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}var uu=class extends tc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ae(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:s}=this,o=c=>i=t?i:c,a=c=>s=r?s:c;if(e){let c=kr(i),l=kr(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(i-c)}this.min=i,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=rte(i,s);return e.bounds==="ticks"&&Sv(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Xa(e,this.chart.options.locale,this.options.ticks.format)}},nc=class extends uu{static id="linear";static defaults={ticks:{callback:Xh.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=ft(e)?e:0,this.max=ft(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,r=pr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},gf=n=>Math.floor(Hi(n)),ec=(n,e)=>Math.pow(10,gf(n)+e);function Zj(n){return n/Math.pow(10,gf(n))===1}function Jj(n,e,t){let r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function ite(n,e){let t=e-n,r=gf(t);for(;Jj(n,e,r)>10;)r++;for(;Jj(n,e,r)<10;)r--;return Math.min(r,gf(n))}function ste(n,{min:e,max:t}){e=Vn(n.min,e);let r=[],i=gf(e),s=ite(e,t),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=i>s?Math.pow(10,i):0,l=Math.round((e-c)*o)/o,u=Math.floor((e-c)/a/10)*a*10,h=Math.floor((l-u)/Math.pow(10,s)),f=Vn(n.min,Math.round((c+u+h*Math.pow(10,s))*o)/o);for(;f<t;)r.push({value:f,major:Zj(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((c+u+h*Math.pow(10,s))*o)/o;let p=Vn(n.max,f);return r.push({value:p,major:Zj(p),significand:h}),r}var tx=class extends tc{static id="logarithmic";static defaults={ticks:{callback:Xh.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let r=uu.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return ft(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=ft(e)?Math.max(0,e):null,this.max=ft(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ft(this._userMin)&&(this.min=e===ec(this.min,0)?ec(this.min,-1):ec(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,s=a=>r=e?r:a,o=a=>i=t?i:a;r===i&&(r<=0?(s(1),o(10)):(s(ec(r,-1)),o(ec(i,1)))),r<=0&&s(ec(i,-1)),i<=0&&o(ec(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},r=ste(t,this);return e.bounds==="ticks"&&Sv(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Xa(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Hi(e),this._valueRange=Hi(this.max)-Hi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Hi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function nx(n){let e=n.ticks;if(e.display&&n.display){let t=Ft(e.backdropPadding);return oe(e.font&&e.font.size,Ze.font.size)+t.height}return 0}function ote(n,e,t){return t=Qe(t)?t:[t],{w:bS(n,e.string,t),h:t.length*e.lineHeight}}function eB(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function ate(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Ye/s:0;for(let c=0;c<s;c++){let l=o.setContext(n.getPointLabelContext(c));i[c]=l.padding;let u=n.getPointPosition(c,n.drawingArea+i[c],a),h=yt(l.font),f=ote(n.ctx,h,n._pointLabels[c]);r[c]=f;let p=Ln(n.getIndexAngle(c)+a),m=Math.round(Kh(p)),v=eB(m,u.x,f.w,0,180),_=eB(m,u.y,f.h,90,270);cte(t,e,p,v,_)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=dte(n,r,i)}function cte(n,e,t,r,i){let s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),a=0,c=0;r.start<e.l?(a=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function lte(n,e,t){let r=n.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=t,c=n.getPointPosition(e,r+i+o,s),l=Math.round(Kh(Ln(c.angle+mt))),u=pte(c.y,a.h,l),h=hte(l),f=fte(c.x,a.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function ute(n,e){if(!e)return!0;let{left:t,top:r,right:i,bottom:s}=n;return!(oi({x:t,y:r},e)||oi({x:t,y:s},e)||oi({x:i,y:r},e)||oi({x:i,y:s},e))}function dte(n,e,t){let r=[],i=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:nx(s)/2,additionalAngle:o?Ye/i:0},l;for(let u=0;u<i;u++){c.padding=t[u],c.size=e[u];let h=lte(n,u,c);r.push(h),a==="auto"&&(h.visible=ute(h,l),h.visible&&(l=h))}return r}function hte(n){return n===0||n===180?"center":n<180?"left":"right"}function fte(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function pte(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function gte(n,e,t){let{left:r,top:i,right:s,bottom:o}=t,{backdropColor:a}=e;if(!ae(a)){let c=Ps(e.borderRadius),l=Ft(e.backdropPadding);n.fillStyle=a;let u=r-l.left,h=i-l.top,f=s-r+l.width,p=o-i+l.height;Object.values(c).some(m=>m!==0)?(n.beginPath(),Za(n,{x:u,y:h,w:f,h:p,radius:c}),n.fill()):n.fillRect(u,h,f,p)}}function mte(n,e){let{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){let s=n._pointLabelItems[i];if(!s.visible)continue;let o=r.setContext(n.getPointLabelContext(i));gte(t,o,s);let a=yt(o.font),{x:c,y:l,textAlign:u}=s;Rs(t,n._pointLabels[i],c,l+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function TB(n,e,t,r){let{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Xe);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=n.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function yte(n,e,t,r,i){let s=n.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!r||!a||!c||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),TB(n,t,o,r),s.closePath(),s.stroke(),s.restore())}function vte(n,e,t){return Wi(n,{label:t,index:e,type:"pointLabel"})}var rx=class extends uu{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Ft(nx(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=ft(e)&&!isNaN(e)?e:0,this.max=ft(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nx(this.options))}generateTickLabels(e){uu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{let i=Ve(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){let e=this.options;e.display&&e.pointLabels.display?ate(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){let t=Xe/(this._pointLabels.length||1),r=this.options.startAngle||0;return Ln(e*t+pr(r))}getDistanceFromCenterForValue(e){if(ae(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ae(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let r=t[e];return vte(this.getContext(),e,r)}}getPointPosition(e,t,r=0){let i=this.getIndexAngle(e)-mt+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),TB(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:r,grid:i,border:s}=t,o=this._pointLabels.length,a,c,l;if(t.pointLabels.display&&mte(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);let f=this.getContext(h),p=i.setContext(f),m=s.setContext(f);yte(this,p,c,o,m)}}),r.display){for(e.save(),a=o-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;let i=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=r.setContext(this.getContext(c)),u=yt(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let h=Ft(l.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Rs(e,a.label,0,-s,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},h_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(h_);function tB(n,e){return n-e}function nB(n,e){if(ae(e))return null;let t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts,o=e;return typeof r=="function"&&(o=r(o)),ft(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(No(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function rB(n,e,t,r){let i=Xn.length;for(let s=Xn.indexOf(n);s<i-1;++s){let o=h_[Xn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return Xn[s]}return Xn[i-1]}function _te(n,e,t,r,i){for(let s=Xn.length-1;s>=Xn.indexOf(t);s--){let o=Xn[s];if(h_[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Xn[t?Xn.indexOf(t):0]}function bte(n){for(let e=Xn.indexOf(n)+1,t=Xn.length;e<t;++e)if(h_[Xn[e]].common)return Xn[e]}function iB(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:r,hi:i}=Qh(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function wte(n,e,t,r){let i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value,a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=t[a],c>=0&&(e[c].major=!0);return e}function sB(n,e,t){let r=[],i={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!t?r:wte(n,r,i,t)}var ix=(()=>{class n extends tc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){let i=t.time||(t.time={}),s=this._adapter=new VZ._date(t.adapters.date);s.init(r),Ga(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:nB(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,r=this._adapter,i=t.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!c&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ft(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=ft(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let t=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){let t=this.options,r=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=mS(s,o,a);return this._unit=r.unit||(i.autoSkip?rB(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):_te(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:bte(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),sB(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?r=1-s:r=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;r=Ot(r,0,a),i=Ot(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let t=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||rB(o.minUnit,r,i,this._getLabelCapacity(r)),c=oe(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,u=No(l)||l===!0,h={},f=r,p,m;if(u&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,u?"day":a),t.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);let v=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,m=0;p<i;p=+t.add(p,c,a),m++)iB(h,p,v);return(p===i||s.bounds==="ticks"||m===1)&&iB(h,p,v),Object.keys(h).sort(tB).map(_=>+_)}getLabelForValue(t){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(t,i.tooltipFormat):r.format(t,i.displayFormats.datetime)}format(t,r){let s=this.options.time.displayFormats,o=this._unit,a=r||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,r,i,s){let o=this.options,a=o.ticks.callback;if(a)return Ve(a,[t,r,i],this);let c=o.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&c[l],f=u&&c[u],p=i[r],m=u&&f&&p&&p.major;return this._adapter.format(t,s||(m?f:h))}generateTickLabels(t){let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r],s.label=this._tickFormatFunction(s.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let r=this.options.ticks,i=this.ctx.measureText(t).width,s=pr(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(t){let r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(t,0,sB(this,[t],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],r,i;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)t=t.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],r,i;if(t.length)return t;let s=this.getLabels();for(r=0,i=s.length;r<i;++r)t.push(nB(this,s[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Rv(t.sort(tB))}}return n})();function r_(n,e,t){let r=0,i=n.length-1,s,o,a,c;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=si(n,"pos",e)),{pos:s,time:a}=n[r],{pos:o,time:c}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=si(n,"time",e)),{time:s,pos:a}=n[r],{time:o,pos:c}=n[i]);let l=o-s;return l?a+(c-a)*(e-s)/l:a}var sx=class extends ix{static id="timeseries";static defaults=ix.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=r_(t,this.min),this._tableRange=r_(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:r}=this,i=[],s=[],o,a,c,l,u;for(o=0,a=e.length;o<a;++o)l=e[o],l>=t&&l<=r&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],c=i[o-1],l=i[o],Math.round((u+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let e=this.min,t=this.max,r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(r_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return r_(this._table,r*this._tableRange+this._minPos,!0)}},Ete=Object.freeze({__proto__:null,CategoryScale:wf,LinearScale:nc,LogarithmicScale:tx,RadialLinearScale:rx,TimeScale:ix,TimeSeriesScale:sx}),SB=[LZ,aee,Jee,Ete];var xB=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),If={toTextLines:function(n){var e=[],t;for(n=[].concat(n);n.length;)t=n.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?n.push.apply(n,t):ae(n)||e.unshift(""+t);return e},textSize:function(n,e,t){var r=[].concat(e),i=r.length,s=n.font,o=0,a;for(n.font=t.string,a=0;a<i;++a)o=Math.max(n.measureText(r[a]).width,o);return n.font=s,{height:i*t.lineHeight,width:o}},bound:function(n,e,t){return Math.max(n,Math.min(e,t))},arrayDiff:function(n,e){var t=n.slice(),r=[],i,s,o,a;for(i=0,o=e.length;i<o;++i)a=e[i],s=t.indexOf(a),s===-1?r.push([a,1]):t.splice(s,1);for(i=0,o=t.length;i<o;++i)r.push([t[i],-1]);return r},rasterize:function(n){return Math.round(n*xB)/xB}};function cx(n,e){var t=e.x,r=e.y;if(t===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=n.x-t,s=n.y-r,o=Math.sqrt(i*i+s*s);return{x:o?i/o:0,y:o?s/o:-1}}function Ite(n,e,t,r,i){switch(i){case"center":t=r=0;break;case"bottom":t=0,r=1;break;case"right":t=1,r=0;break;case"left":t=-1,r=0;break;case"top":t=0,r=-1;break;case"start":t=-t,r=-r;break;case"end":break;default:i*=Math.PI/180,t=Math.cos(i),r=Math.sin(i);break}return{x:n,y:e,vx:t,vy:r}}var Dte=0,MB=1,RB=2,PB=4,kB=8;function f_(n,e,t){var r=Dte;return n<t.left?r|=MB:n>t.right&&(r|=RB),e<t.top?r|=kB:e>t.bottom&&(r|=PB),r}function Cte(n,e){for(var t=n.x0,r=n.y0,i=n.x1,s=n.y1,o=f_(t,r,e),a=f_(i,s,e),c,l,u;!(!(o|a)||o&a);)c=o||a,c&kB?(l=t+(i-t)*(e.top-r)/(s-r),u=e.top):c&PB?(l=t+(i-t)*(e.bottom-r)/(s-r),u=e.bottom):c&RB?(u=r+(s-r)*(e.right-t)/(i-t),l=e.right):c&MB&&(u=r+(s-r)*(e.left-t)/(i-t),l=e.left),c===o?(t=l,r=u,o=f_(t,r,e)):(i=l,s=u,a=f_(i,s,e));return{x0:t,x1:i,y0:r,y1:s}}function p_(n,e){var t=e.anchor,r=n,i,s;return e.clamp&&(r=Cte(r,e.area)),t==="start"?(i=r.x0,s=r.y0):t==="end"?(i=r.x1,s=r.y1):(i=(r.x0+r.x1)/2,s=(r.y0+r.y1)/2),Ite(i,s,n.vx,n.vy,e.align)}var g_={arc:function(n,e){var t=(n.startAngle+n.endAngle)/2,r=Math.cos(t),i=Math.sin(t),s=n.innerRadius,o=n.outerRadius;return p_({x0:n.x+r*s,y0:n.y+i*s,x1:n.x+r*o,y1:n.y+i*o,vx:r,vy:i},e)},point:function(n,e){var t=cx(n,e.origin),r=t.x*n.options.radius,i=t.y*n.options.radius;return p_({x0:n.x-r,y0:n.y-i,x1:n.x+r,y1:n.y+i,vx:t.x,vy:t.y},e)},bar:function(n,e){var t=cx(n,e.origin),r=n.x,i=n.y,s=0,o=0;return n.horizontal?(r=Math.min(n.x,n.base),s=Math.abs(n.base-n.x)):(i=Math.min(n.y,n.base),o=Math.abs(n.base-n.y)),p_({x0:r,y0:i+o,x1:r+s,y1:i,vx:t.x,vy:t.y},e)},fallback:function(n,e){var t=cx(n,e.origin);return p_({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},e)}},Fs=If.rasterize;function Tte(n){var e=n.borderWidth||0,t=n.padding,r=n.size.height,i=n.size.width,s=-i/2,o=-r/2;return{frame:{x:s-t.left-e,y:o-t.top-e,w:i+t.width+e*2,h:r+t.height+e*2},text:{x:s,y:o,w:i,h:r}}}function Ste(n,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var r=t.getBasePixel();return n.horizontal?{x:r,y:null}:{x:null,y:r}}function xte(n){return n instanceof hf?g_.arc:n instanceof rc?g_.point:n instanceof ff?g_.bar:g_.fallback}function Ate(n,e,t,r,i,s){var o=Math.PI/2;if(s){var a=Math.min(s,i/2,r/2),c=e+a,l=t+a,u=e+r-a,h=t+i-a;n.moveTo(e,l),c<u&&l<h?(n.arc(c,l,a,-Math.PI,-o),n.arc(u,l,a,-o,0),n.arc(u,h,a,0,o),n.arc(c,h,a,o,Math.PI)):c<u?(n.moveTo(c,t),n.arc(u,l,a,-o,o),n.arc(c,l,a,o,Math.PI+o)):l<h?(n.arc(c,l,a,-Math.PI,0),n.arc(c,h,a,0,Math.PI)):n.arc(c,l,a,-Math.PI,Math.PI),n.closePath(),n.moveTo(e,t)}else n.rect(e,t,r,i)}function Mte(n,e,t){var r=t.backgroundColor,i=t.borderColor,s=t.borderWidth;!r&&(!i||!s)||(n.beginPath(),Ate(n,Fs(e.x)+s/2,Fs(e.y)+s/2,Fs(e.w)-s,Fs(e.h)-s,t.borderRadius),n.closePath(),r&&(n.fillStyle=r,n.fill()),i&&s&&(n.strokeStyle=i,n.lineWidth=s,n.lineJoin="miter",n.stroke()))}function Rte(n,e,t){var r=t.lineHeight,i=n.w,s=n.x,o=n.y+r/2;return e==="center"?s+=i/2:(e==="end"||e==="right")&&(s+=i),{h:r,w:i,x:s,y:o}}function Pte(n,e,t){var r=n.shadowBlur,i=t.stroked,s=Fs(t.x),o=Fs(t.y),a=Fs(t.w);i&&n.strokeText(e,s,o,a),t.filled&&(r&&i&&(n.shadowBlur=0),n.fillText(e,s,o,a),r&&i&&(n.shadowBlur=r))}function kte(n,e,t,r){var i=r.textAlign,s=r.color,o=!!s,a=r.font,c=e.length,l=r.textStrokeColor,u=r.textStrokeWidth,h=l&&u,f;if(!(!c||!o&&!h))for(t=Rte(t,i,a),n.font=a.string,n.textAlign=i,n.textBaseline="middle",n.shadowBlur=r.textShadowBlur,n.shadowColor=r.textShadowColor,o&&(n.fillStyle=s),h&&(n.lineJoin="round",n.lineWidth=u,n.strokeStyle=l),f=0,c=e.length;f<c;++f)Pte(n,e[f],{stroked:h,filled:o,w:t.w,x:t.x,y:t.y+t.h*f})}var NB=function(n,e,t,r){var i=this;i._config=n,i._index=r,i._model=null,i._rects=null,i._ctx=e,i._el=t};fr(NB.prototype,{_modelize:function(n,e,t,r){var i=this,s=i._index,o=yt(He([t.font,{}],r,s)),a=He([t.color,Ze.color],r,s);return{align:He([t.align,"center"],r,s),anchor:He([t.anchor,"center"],r,s),area:r.chart.chartArea,backgroundColor:He([t.backgroundColor,null],r,s),borderColor:He([t.borderColor,null],r,s),borderRadius:He([t.borderRadius,0],r,s),borderWidth:He([t.borderWidth,0],r,s),clamp:He([t.clamp,!1],r,s),clip:He([t.clip,!1],r,s),color:a,display:n,font:o,lines:e,offset:He([t.offset,4],r,s),opacity:He([t.opacity,1],r,s),origin:Ste(i._el,r),padding:Ft(He([t.padding,4],r,s)),positioner:xte(i._el),rotation:He([t.rotation,0],r,s)*(Math.PI/180),size:If.textSize(i._ctx,e,o),textAlign:He([t.textAlign,"start"],r,s),textShadowBlur:He([t.textShadowBlur,0],r,s),textShadowColor:He([t.textShadowColor,a],r,s),textStrokeColor:He([t.textStrokeColor,a],r,s),textStrokeWidth:He([t.textStrokeWidth,0],r,s)}},update:function(n){var e=this,t=null,r=null,i=e._index,s=e._config,o,a,c,l=He([s.display,!0],n,i);l&&(o=n.dataset.data[i],a=oe(Ve(s.formatter,[o,n]),o),c=ae(a)?[]:If.toTextLines(a),c.length&&(t=e._modelize(l,c,s,n),r=Tte(t))),e._model=t,e._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,e){var t=this,r=n.ctx,i=t._model,s=t._rects,o;this.visible()&&(r.save(),i.clip&&(o=i.area,r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()),r.globalAlpha=If.bound(0,i.opacity,1),r.translate(Fs(e.x),Fs(e.y)),r.rotate(i.rotation),Mte(r,s.frame,i),kte(r,i.lines,s.text,i),r.restore())}});var Nte=Number.MIN_SAFE_INTEGER||-9007199254740991,Ote=Number.MAX_SAFE_INTEGER||9007199254740991;function Ef(n,e,t){var r=Math.cos(t),i=Math.sin(t),s=e.x,o=e.y;return{x:s+r*(n.x-s)-i*(n.y-o),y:o+i*(n.x-s)+r*(n.y-o)}}function AB(n,e){var t=Ote,r=Nte,i=e.origin,s,o,a,c,l;for(s=0;s<n.length;++s)o=n[s],a=o.x-i.x,c=o.y-i.y,l=e.vx*a+e.vy*c,t=Math.min(t,l),r=Math.max(r,l);return{min:t,max:r}}function m_(n,e){var t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);return{vx:(e.x-n.x)/i,vy:(e.y-n.y)/i,origin:n,ln:i}}var OB=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};fr(OB.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,e,t){this._rotation=t,this._rect={x:e.x+n.x,y:e.y+n.y,w:e.w,h:e.h}},contains:function(n){var e=this,t=1,r=e._rect;return n=Ef(n,e.center(),-e._rotation),!(n.x<r.x-t||n.y<r.y-t||n.x>r.x+r.w+t*2||n.y>r.y+r.h+t*2)},intersects:function(n){var e=this._points(),t=n._points(),r=[m_(e[0],e[1]),m_(e[0],e[3])],i,s,o;for(this._rotation!==n._rotation&&r.push(m_(t[0],t[1]),m_(t[0],t[3])),i=0;i<r.length;++i)if(s=AB(e,r[i]),o=AB(t,r[i]),s.max<o.min||o.max<s.min)return!1;return!0},_points:function(){var n=this,e=n._rect,t=n._rotation,r=n.center();return[Ef({x:e.x,y:e.y},r,t),Ef({x:e.x+e.w,y:e.y},r,t),Ef({x:e.x+e.w,y:e.y+e.h},r,t),Ef({x:e.x,y:e.y+e.h},r,t)]}});function FB(n,e,t){var r=e.positioner(n,e),i=r.vx,s=r.vy;if(!i&&!s)return{x:r.x,y:r.y};var o=t.w,a=t.h,c=e.rotation,l=Math.abs(o/2*Math.cos(c))+Math.abs(a/2*Math.sin(c)),u=Math.abs(o/2*Math.sin(c))+Math.abs(a/2*Math.cos(c)),h=1/Math.max(Math.abs(i),Math.abs(s));return l*=i*h,u*=s*h,l+=e.offset*i,u+=e.offset*s,{x:r.x+l,y:r.y+u}}function Fte(n,e){var t,r,i,s;for(t=n.length-1;t>=0;--t)for(i=n[t].$layout,r=t-1;r>=0&&i._visible;--r)s=n[r].$layout,s._visible&&i._box.intersects(s._box)&&e(i,s);return n}function Lte(n){var e,t,r,i,s,o,a;for(e=0,t=n.length;e<t;++e)r=n[e],i=r.$layout,i._visible&&(a=new Proxy(r._el,{get:(c,l)=>c.getProps([l],!0)[l]}),s=r.geometry(),o=FB(a,r.model(),s),i._box.update(o,s,r.rotation()));return Fte(n,function(c,l){var u=c._hidable,h=l._hidable;u&&h||h?l._visible=!1:u&&(c._visible=!1)})}var Df={prepare:function(n){var e=[],t,r,i,s,o;for(t=0,i=n.length;t<i;++t)for(r=0,s=n[t].length;r<s;++r)o=n[t][r],e.push(o),o.$layout={_box:new OB,_hidable:!1,_visible:!0,_set:t,_idx:o._index};return e.sort(function(a,c){var l=a.$layout,u=c.$layout;return l._idx===u._idx?u._set-l._set:u._idx-l._idx}),this.update(e),e},update:function(n){var e=!1,t,r,i,s,o;for(t=0,r=n.length;t<r;++t)i=n[t],s=i.model(),o=i.$layout,o._hidable=s&&s.display==="auto",o._visible=i.visible(),e|=o._hidable;e&&Lte(n)},lookup:function(n,e){var t,r;for(t=n.length-1;t>=0;--t)if(r=n[t].$layout,r&&r._visible&&r._box.contains(e))return n[t];return null},draw:function(n,e){var t,r,i,s,o,a;for(t=0,r=e.length;t<r;++t)i=e[t],s=i.$layout,s._visible&&(o=i.geometry(),a=FB(i._el,i.model(),o),s._box.update(a,o,i.rotation()),i.draw(n,a))}},Vte=function(n){if(ae(n))return null;var e=n,t,r,i;if(be(n))if(!ae(n.label))e=n.label;else if(!ae(n.r))e=n.r;else for(e="",t=Object.keys(n),i=0,r=t.length;i<r;++i)e+=(i!==0?", ":"")+t[i]+": "+n[t[i]];return""+e},jte={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:Vte,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Zn="$datalabels",LB="$default";function Bte(n,e){var t=n.datalabels,r={},i=[],s,o;return t===!1?null:(t===!0&&(t={}),e=fr({},[e,t]),s=e.labels||{},o=Object.keys(s),delete e.labels,o.length?o.forEach(function(a){s[a]&&i.push(fr({},[e,s[a],{_key:a}]))}):i.push(e),r=i.reduce(function(a,c){return Oe(c.listeners||{},function(l,u){a[u]=a[u]||{},a[u][c._key||LB]=l}),delete c.listeners,a},{}),{labels:i,listeners:r})}function lx(n,e,t,r){if(e){var i=t.$context,s=t.$groups,o;e[s._set]&&(o=e[s._set][s._key],o&&Ve(o,[i,r])===!0&&(n[Zn]._dirty=!0,t.update(i)))}}function Ute(n,e,t,r,i){var s,o;!t&&!r||(t?r?t!==r&&(o=s=!0):o=!0:s=!0,o&&lx(n,e.leave,t,i),s&&lx(n,e.enter,r,i))}function $te(n,e){var t=n[Zn],r=t._listeners,i,s;if(!(!r.enter&&!r.leave)){if(e.type==="mousemove")s=Df.lookup(t._labels,e);else if(e.type!=="mouseout")return;i=t._hovered,t._hovered=s,Ute(n,r,i,s,e)}}function Hte(n,e){var t=n[Zn],r=t._listeners.click,i=r&&Df.lookup(t._labels,e);i&&lx(n,r,i,e)}var ux={id:"datalabels",defaults:jte,beforeInit:function(n){n[Zn]={_actives:[]}},beforeUpdate:function(n){var e=n[Zn];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(n,e,t){var r=e.index,i=n[Zn],s=i._datasets[r]=[],o=n.isDatasetVisible(r),a=n.data.datasets[r],c=Bte(a,t),l=e.meta.data||[],u=n.ctx,h,f,p,m,v,_,C,x;for(u.save(),h=0,p=l.length;h<p;++h)if(C=l[h],C[Zn]=[],o&&C&&n.getDataVisibility(h)&&!C.skip)for(f=0,m=c.labels.length;f<m;++f)v=c.labels[f],_=v._key,x=new NB(v,u,C,h),x.$groups={_set:r,_key:_||LB},x.$context={active:!1,chart:n,dataIndex:h,dataset:a,datasetIndex:r},x.update(x.$context),C[Zn].push(x),s.push(x);u.restore(),fr(i._listeners,c.listeners,{merger:function(N,j,L){j[N]=j[N]||{},j[N][e.index]=L[N],i._listened=!0}})},afterUpdate:function(n){n[Zn]._labels=Df.prepare(n[Zn]._datasets)},afterDatasetsDraw:function(n){Df.draw(n,n[Zn]._labels)},beforeEvent:function(n,e){if(n[Zn]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":$te(n,t);break;case"click":Hte(n,t);break}}},afterEvent:function(n){var e=n[Zn],t=e._actives,r=e._actives=n.getActiveElements(),i=If.arrayDiff(t,r),s,o,a,c,l,u,h;for(s=0,o=i.length;s<o;++s)if(l=i[s],l[1])for(h=l[0].element[Zn]||[],a=0,c=h.length;a<c;++a)u=h[a],u.$context.active=l[1]===1,u.update(u.$context);(e._dirty||i.length)&&(Df.update(e._labels),n.render()),delete e._dirty}};var y_=class n{transform(e,t){return typeof e!="number"||t?e:Math.round(e*.453592)}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Gc({name:"weightNumberConverter",type:n,pure:!0})};var zte=["pieCanvas"];function Wte(n,e){n&1&&(R(0,"p",1),F(1,"Loading"),M())}function qte(n,e){n&1&&(R(0,"p",1),F(1,` There are no muscle groups worked so the pie chart is empty.
`),M())}var v_=class n{constructor(e){this.intervalService=e;Ki.register(...SB,ux)}startDate;endDate;usinglbs;volumeMuscleGroupMap=new Map;pieCanvas;pieChart=null;viewInitialized=!1;shouldShowChart=!0;isLoaded=!0;weightNumberConverterPipe=new y_;ngAfterViewInit(){this.viewInitialized=!0,this.startDate&&this.endDate&&this.loadVolumeData()}ngOnChanges(){this.startDate&&this.endDate&&this.viewInitialized&&this.loadVolumeData()}loadVolumeData(){return E(this,null,function*(){this.isLoaded=!1,this.volumeMuscleGroupMap=yield this.intervalService.GetVolumeMuscleGroup(this.startDate,this.endDate),this.updateChart(),this.isLoaded=!0})}updateChart(){this.pieChart&&this.pieChart.destroy();let e=["Chest","Back","Biceps","Triceps","Glutes/Quads","Hamstrings/Calves"],t=Array.from(this.volumeMuscleGroupMap.values()),r=t.map(l=>this.weightNumberConverterPipe.transform(l,this.usinglbs)),i=t.reduce((l,u)=>l+u,0),s=[],o=[];if(e.forEach((l,u)=>{r[u]>0&&(s.push(l),o.push(r[u]))}),this.shouldShowChart=i>0&&o.length>0,!this.shouldShowChart)return;let a=this.usinglbs?"lbs":"kg",c={id:"totalBottomLeftPlugin",afterDraw(l){let{ctx:u,chartArea:h}=l;u.save(),u.font="bold 14px sans-serif",u.fillStyle="#f0f0f0",u.textAlign="left",u.textBaseline="bottom";let f=h.left+10,p=h.bottom-10;u.fillText(`Total: ${i} ${a}`,f,p),u.restore()}};this.pieChart=new Ki(this.pieCanvas.nativeElement,{type:"pie",data:{labels:s,datasets:[{data:o,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]}]},options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"#f0f0f0"}},datalabels:{color:"#f0f0f0",font:{weight:"bold"},formatter:(l,u)=>{let h=(l/i*100).toFixed(1),f=this.usinglbs?"lbs":"kg";return`${l} ${f}
(${h}%)`}}}},plugins:[ux,c]})}static \u0275fac=function(t){return new(t||n)(X(Ui))};static \u0275cmp=ve({type:n,selectors:[["app-percentage-muscle-group-worked"]],viewQuery:function(t,r){if(t&1&&wi(zte,5),t&2){let i;br(i=wr())&&(r.pieCanvas=i.first)}},inputs:{startDate:"startDate",endDate:"endDate",usinglbs:"usinglbs"},features:[Gt],decls:7,vars:2,consts:[["pieCanvas",""],[1,"text-center"],[1,"d-flex","justify-content-center"],[1,"w-50","h-auto",3,"hidden"]],template:function(t,r){t&1&&(R(0,"h2",1),F(1,"Percentage of Muscle Groups Worked"),M(),R(2,"div",2),Te(3,"canvas",3,0),M(),Pe(5,Wte,2,0,"p",1)(6,qte,2,0,"p",1)),t&2&&($(3),Me("hidden",!r.shouldShowChart||!r.isLoaded),$(2),ut(r.isLoaded==!1?5:r.shouldShowChart==!1?6:-1))},styles:["h2[_ngcontent-%COMP%]{font-size:3rem;color:#f0f0f0}p[_ngcontent-%COMP%]{color:#f0f0f0}"]})};function Gte(n,e){if(n&1&&Te(0,"app-volume-muscle-group",13)(1,"app-percentage-muscle-group-worked",13)(2,"app-volume-exercise",13),n&2){let t=Ee();Me("startDate",t.startDate)("endDate",t.endDate)("usinglbs",t.usinglbs),$(),Me("startDate",t.startDate)("endDate",t.endDate)("usinglbs",t.usinglbs),$(),Me("startDate",t.startDate)("endDate",t.endDate)("usinglbs",t.usinglbs)}}var __=class n{constructor(e,t){this.dataService=e;this.router=t}startDate=new Date;endDate=new Date;showStats=!1;userSubscription;user=null;usinglbs=!0;auth=O(zt);authService=O(It);ngOnInit(){this.userSubscription=this.authService.user.subscribe(e=>{e==null?this.router.navigate(["login-page"]):(this.user=e,e.units==="kg"&&(this.usinglbs=!1))})}onSubmit(e){this.showStats=!1;let t=new Date,r=new Date(e.value.startDate),i=new Date(e.value.endDate);if(isNaN(r.getTime())||isNaN(i.getTime())){alert("Please enter valid dates.");return}if(i>t){alert("End date must be today or earlier.");return}if(r>=i){alert("The end date must be later than the start date.");return}this.startDate=r,this.endDate=i,this.showStats=!0}ngOnDestroy(){this.userSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(X(Rr),X(Ke))};static \u0275cmp=ve({type:n,selectors:[["app-interval-stats-page"]],decls:24,vars:1,consts:[["dateForm","ngForm"],[1,"w-100","min-vh-100","page"],[1,"text-center"],[1,"container"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-group"],["for","start-date",1,"me-2"],["type","date","id","start-date","name","startDate","ngModel","","required",""],["for","end-date",1,"me-2"],["type","date","id","end-date","name","endDate","ngModel","","required",""],["type","submit",1,"btn","btn-primary"],[3,"startDate","endDate","usinglbs"]],template:function(t,r){if(t&1){let i=ln();R(0,"div",1)(1,"h1",2),F(2,"Stats for Specified Interval"),M(),R(3,"div",3)(4,"form",4,0),_e("ngSubmit",function(){ct(i);let o=Kc(5);return lt(r.onSubmit(o))}),R(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),F(10,"Start Date:"),M(),Te(11,"input",9)(12,"br")(13,"br"),M()(),R(14,"div",6)(15,"div",7)(16,"label",10),F(17,"End Date:"),M(),Te(18,"input",11)(19,"br")(20,"br"),M()()(),R(21,"button",12),F(22,"Submit"),M()(),Pe(23,Gte,3,9),M()()}t&2&&($(23),ut(r.showStats?23:-1))},dependencies:[fv,Gn,Mi,Cr,Tr,Ai,Zr,ar,Xr,pv,v_],styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b}h1[_ngcontent-%COMP%]{font-size:5rem;color:#f0f0f0}label[_ngcontent-%COMP%]{font-size:1rem;color:#f0f0f0}"]})};var Kte=(n,e)=>e[0];function Qte(n,e){if(n&1&&(R(0,"tr")(1,"td"),F(2),M(),R(3,"td"),F(4),Ut(5,"weightUnit"),M(),R(6,"td"),F(7),Ut(8,"weightUnit"),M(),R(9,"td"),F(10),Ut(11,"weightUnit"),M(),R(12,"td"),F(13),Ut(14,"weightUnit"),M()()),n&2){let t=e.$implicit,r=Ee(2);$(2),Ge(r.getMuscleGroupName(t[0])),$(2),Ge(dn(5,5,t[1].volumeFirstInterval,r.usinglbs)),$(3),Ge(dn(8,8,t[1].volumeLastInterval,r.usinglbs)),$(3),Ge(dn(11,11,t[1].volumeMax,r.usinglbs)),$(3),Ge(dn(14,14,t[1].volumeMin,r.usinglbs))}}function Yte(n,e){if(n&1&&(R(0,"table",1)(1,"thead")(2,"tr")(3,"th"),F(4,"Muscle Group"),M(),R(5,"th"),F(6,"First Interval Volume"),M(),R(7,"th"),F(8,"Last Interval Volume"),M(),R(9,"th"),F(10,"Max Volume"),M(),R(11,"th"),F(12,"Min Volume"),M()()(),R(13,"tbody"),Pn(14,Qte,15,17,"tr",null,Kte),M()()),n&2){let t=Ee();$(14),kn(t.intervalProgressMap.entries())}}function Xte(n,e){n&1&&(R(0,"p",2),F(1,"Loading"),M())}var b_=class n{constructor(e){this.intervalService=e}startDate=new Date;numIntervals=0;numDays=0;usinglbs;intervalProgressMap=new Map;chestMax=1;isLoaded=!0;ngOnChanges(){this.loadData()}loadData(){return E(this,null,function*(){this.isLoaded=!1,this.intervalProgressMap=yield this.intervalService.GetIntervalProgress(this.startDate,this.numDays,this.numIntervals),this.isLoaded=!0})}getMuscleGroupName(e){switch(e){case 1:return"Chest";case 2:return"Back";case 3:return"Biceps";case 4:return"Triceps";case 5:return"Glutes/Quads";case 6:return"Hamstrings/Calves";default:return"Unknown"}}static \u0275fac=function(t){return new(t||n)(X(Ui))};static \u0275cmp=ve({type:n,selectors:[["app-interval-progress-table"]],inputs:{startDate:"startDate",numIntervals:"numIntervals",numDays:"numDays",usinglbs:"usinglbs"},features:[Gt],decls:4,vars:1,consts:[[1,"text-center","mb-5"],[1,"table-bordered","table-striped","table-hover","mt-3"],[1,"text-center"]],template:function(t,r){t&1&&(R(0,"h1",0),F(1,"Progress Report"),M(),Pe(2,Yte,16,0,"table",1)(3,Xte,2,0,"p",2)),t&2&&($(2),ut(r.isLoaded==!0?2:3))},dependencies:[Ri],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#f0f0f0}"]})};function Zte(n,e){if(n&1&&Te(0,"app-interval-progress-table",15),n&2){let t=Ee();Me("startDate",t.startDate)("numDays",t.numberOfDays)("numIntervals",t.numberOfIntervals)("usinglbs",t.usinglbs)}}var w_=class n{showProgress=!1;startDate=new Date;numberOfIntervals=0;numberOfDays=0;userSubscription;user=null;usinglbs=!0;auth=O(zt);authService=O(It);router=O(Ke);ngOnInit(){this.userSubscription=this.authService.user.subscribe(e=>{e==null?this.router.navigate(["login-page"]):(this.user=e,e.units==="kg"&&(this.usinglbs=!1))})}onSubmit(e){let t=new Date,r=new Date(e.value.startDate),i=e.value.numberDays,s=e.value.numberIntervals;if(console.log(i),isNaN(r.getTime())){alert("Please enter a valid date."),this.showProgress=!1;return}if(gs(r,i*s)>t){alert("The last day of the last interval must be today or earlier."),this.showProgress=!1;return}if(i<1){alert("The number of days must be greater than or equal to 1."),this.showProgress=!1;return}if(s<2){alert("The number of intervals must be greater than or equal to 2."),this.showProgress=!1;return}this.startDate=r,this.numberOfDays=i,this.numberOfIntervals=s,this.showProgress=!0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-interval-progress"]],decls:31,vars:1,consts:[["dateForm","ngForm"],[1,"w-100","min-vh-100","page"],[1,"text-center"],[1,"container"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-group"],["for","start-date",1,"me-3"],["type","date","id","start-date","name","startDate","ngModel","","required",""],["for","number-days",1,"me-3"],["type","number","id","number-days","name","numberDays","ngModel","","required",""],["for","number-intervals",1,"me-3"],["type","number","id","number-intervals","name","numberIntervals","ngModel","","required",""],["type","submit",1,"btn","btn-primary"],[3,"startDate","numDays","numIntervals","usinglbs"]],template:function(t,r){if(t&1){let i=ln();R(0,"div",1)(1,"h1",2),F(2,"Interval Progress"),M(),R(3,"div",3)(4,"form",4,0),_e("ngSubmit",function(){ct(i);let o=Kc(5);return lt(r.onSubmit(o))}),R(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),F(10,"Start Date:"),M(),Te(11,"input",9)(12,"br")(13,"br"),M()(),R(14,"div",6)(15,"div",7)(16,"label",10),F(17,"Number of Days:"),M(),Te(18,"input",11)(19,"br")(20,"br"),M()(),R(21,"div",6)(22,"div",7)(23,"label",12),F(24,"Number of Intervals:"),M(),Te(25,"input",13)(26,"br")(27,"br"),M()()(),R(28,"button",14),F(29,"Submit"),M()(),Pe(30,Zte,1,4,"app-interval-progress-table",15),M()()}t&2&&($(30),ut(r.showProgress?30:-1))},dependencies:[Gn,Mi,Cr,$d,Tr,Ai,Zr,ar,Xr,b_],styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b}h1[_ngcontent-%COMP%]{font-size:5rem;color:#f0f0f0}label[_ngcontent-%COMP%]{font-size:1rem;color:#f0f0f0}"]})};var E_=class n{user=null;userService=O(It);ngOnInit(){console.log("Is user signed in: "+this.userService.userSignedIn()),this.userService.user.subscribe(e=>{this.user=e,console.log(e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-home-page"]],decls:38,vars:0,consts:[[1,"w-100","min-vh-100","page"],[1,"container","py-5"],[1,"text-center","mb-5"],[1,"display-4"],[1,"lead"],[1,"mb-5"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),F(4,"Lifting Buddy"),M(),R(5,"p",4),F(6,"Your Digital Workout Companion"),M()(),R(7,"div",5)(8,"h2"),F(9,"What is Lifting Buddy?"),M(),R(10,"p"),F(11," Lifting Buddy is a web-based tool designed to help weightlifters schedule and track their workouts with ease. Whether you're a beginner or experienced lifter, our platform makes logging and analyzing your training more intuitive and effective. "),M()(),R(12,"div",5)(13,"h2"),F(14,"Features"),M(),R(15,"ul")(16,"li"),F(17,"Plan daily exercises with targeted muscle groups."),M(),R(18,"li"),F(19,"Add custom exercises and log sets with reps and weight."),M(),R(20,"li"),F(21," Automatically calculate volume for each exercise and muscle group. "),M(),R(22,"li"),F(23,"View detailed statistics for any time interval."),M(),R(24,"li"),F(25,"Compare progress across different time periods."),M(),R(26,"li"),F(27,"Track progress for any muscle group or workout."),M()()(),R(28,"div",5)(29,"h2"),F(30,"Why Use Lifting Buddy?"),M(),R(31,"p"),F(32," Logging your workouts manually is tedious. Lifting Buddy provides a clean, centralized way to track and visualize your progress. See which muscles you're hitting the most, where you're lagging, and how you\u2019re improving over time. Stay motivated and optimize your routine with data that matters. "),M()(),R(33,"div",5)(34,"h2"),F(35,"Start Tracking Today"),M(),R(36,"p"),F(37," Join other lifters who are taking control of their fitness journey. Sign up or log in to start tracking your workouts and transforming your training insights. "),M()()()())},styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#f0f0f0}"]})};var Jte=["calendar"];function ene(n,e){if(n&1){let t=ln();R(0,"p",2),_e("click",function(){let i=ct(t).$implicit,s=Ee();return lt(s.setSelectedDay(i))}),R(1,"span"),F(2),M()()}if(n&2){let t=e.$implicit,r=Ee();cn("daycell",!r.firefoxStyle)("ffdaycell",r.firefoxStyle)("selected",r.isSelectedDate(t)),$(),nE("color",r.getMuscleGroupColor(t)),cn("daycellcolor",r.isExerciseOnDate(t)),$(),Bt(" ",t.getDate()," ")}}var Cf=class n{calendarScroll;cdr=O(Ei);firefoxStyle=!1;calendarDates;exerciseData;selectedDay;selectedDayChange=new at;ngOnInit(){let e=window.navigator.userAgent;e.toLowerCase().indexOf("firefox")>-1&&(this.firefoxStyle=!0),console.log("Agent: "+e);let t=new Date;this.selectedDay=t;let r=t.getDay(),i=90;i=i+(r-6),this.calendarDates=[];let s=new Date;for(let o=i;o>=0;o--)s.setTime(t.getTime()),s.setDate(t.getDate()-o),this.calendarDates.push(new Date(s));setTimeout(()=>{this.scrollBottom()},0)}isSelectedDate(e){let t=this.selectedDay?.toISOString().split("T")[0],r=e.toISOString().split("T")[0];return!!t?.match(r)}setSelectedDay(e){this.selectedDay=e,this.selectedDayChange.emit(e)}isExerciseOnDate(e){let t=e.toISOString().split("T")[0];return this.exerciseData?.has(t)}getMuscleGroupColor(e){let t=e.toISOString().split("T")[0],r=this.exerciseData?.get(t),i=new Map;if(r)for(let o of r){let a=o.exercise.muscleGroup,c=i.get(a)||0;i.set(a,c+1)}else return"#f0f0f0";let s=[0,0];for(let o of i.entries())o[1]>s[1]&&(s=o);switch(s[0]){case 1:return"red";case 2:return"blue";case 3:return"yellow";case 4:return"cyan";case 5:return"purple";case 6:return"orange";default:return"#f0f0f0"}}scrollBottom(){let e=this.calendarScroll.nativeElement;e.scrollTop=e.scrollHeight}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-calendar"]],viewQuery:function(t,r){if(t&1&&wi(Jte,5),t&2){let i;br(i=wr())&&(r.calendarScroll=i.first)}},inputs:{exerciseData:"exerciseData",selectedDay:"selectedDay"},outputs:{selectedDayChange:"selectedDayChange"},decls:18,vars:32,consts:[["calendar",""],[3,"daycell","ffdaycell","selected"],[3,"click"]],template:function(t,r){t&1&&(R(0,"div",null,0)(2,"p"),F(3,"Sun"),M(),R(4,"p"),F(5,"Mon"),M(),R(6,"p"),F(7,"Tues"),M(),R(8,"p"),F(9,"Wed"),M(),R(10,"p"),F(11,"Thrus"),M(),R(12,"p"),F(13,"Fri"),M(),R(14,"p"),F(15,"Sat"),M(),Pn(16,ene,3,11,"p",1,Dg),M()),t&2&&(cn("calendar",!r.firefoxStyle)("ffcalendar",r.firefoxStyle),$(2),cn("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),cn("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),cn("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),cn("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),cn("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),cn("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),cn("dayheader",!r.firefoxStyle)("ffheader",r.firefoxStyle),$(2),kn(r.calendarDates))},styles:['.page[_ngcontent-%COMP%]{background-color:#070f2b;padding:1em}.calendar[_ngcontent-%COMP%]{border:4px solid #535c91;border-radius:.5em;width:55dvw;min-width:fit-content;display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:minmax(5em,1em);max-height:55dvh;overflow-y:auto;overflow-x:hidden;background-image:linear-gradient(to bottom right,#9290c3,#070f2b)}.ffcalendar[_ngcontent-%COMP%]{border:4px solid #535c91;border-radius:.5em;width:55dvw;min-width:fit-content;display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:minmax(1em,auto);max-height:55dvh;overflow-y:auto;overflow-x:hidden;background-image:linear-gradient(to bottom right,#9290c3,#070f2b)}.dayheader[_ngcontent-%COMP%]{text-align:center;position:sticky;top:0;padding:1em 1em 2em;background-color:#070f2b;color:#9290c3}.ffheader[_ngcontent-%COMP%]{text-align:center;position:sticky;top:0;padding:1em;background-color:#070f2b;color:#9290c3}.daycell[_ngcontent-%COMP%], .ffdaycell[_ngcontent-%COMP%]{text-align:center;padding:1em;aspect-ratio:1 / 1;color:#f0f0f0;align-items:center;justify-content:center;cursor:pointer}.daycell[_ngcontent-%COMP%]:hover{scale:110%}.daycellcolor[_ngcontent-%COMP%]:after{content:"\\25cf";display:block;font-size:.6em;line-height:1;text-align:center;margin-top:-.2em}.selected[_ngcontent-%COMP%]{scale:110%}']})};var tne=(n,e)=>e.dataId,nne=(n,e)=>e[0];function rne(n,e){if(n&1&&(R(0,"option",11),F(1),M()),n&2){let t=e.$implicit;Me("ngValue",t),$(),Ge(t.name)}}function ine(n,e){n&1&&F(0," Cancel ")}function sne(n,e){n&1&&F(0," Add Exercise ")}function one(n,e){if(n&1&&(R(0,"option",11),F(1),M()),n&2){let t=e.$implicit;$(),Ge(t[0])}}function ane(n,e){if(n&1){let t=ln();R(0,"div",7)(1,"input",23),Qt("ngModelChange",function(i){ct(t);let s=Ee();return un(s.exerciseName,i)||(s.exerciseName=i),lt(i)}),M(),R(2,"select",24),Qt("ngModelChange",function(i){ct(t);let s=Ee();return un(s.exerciseMGroup,i)||(s.exerciseMGroup=i),lt(i)}),R(3,"option",25),F(4,"Muscle Group"),M(),Pn(5,one,2,1,"option",11,nne),M()(),R(7,"div",7)(8,"input",26),Qt("ngModelChange",function(i){ct(t);let s=Ee();return un(s.exerciseDes,i)||(s.exerciseDes=i),lt(i)}),M()()}if(n&2){let t=Ee();$(),Kt("ngModel",t.exerciseName),$(),Kt("ngModel",t.exerciseMGroup),$(3),kn(t.getMuscleGroups()),$(3),Kt("ngModel",t.exerciseDes)}}function cne(n,e){if(n&1){let t=ln();R(0,"div",27)(1,"label",8),F(2,"Reps:"),M(),R(3,"input",28),Qt("ngModelChange",function(i){let s=ct(t).$index,o=Ee();return un(o.sets[s].numOfReps,i)||(o.sets[s].numOfReps=i),lt(i)}),M()(),R(4,"div",27)(5,"label",8),F(6,"Weight:"),M(),R(7,"input",29),Qt("ngModelChange",function(i){let s=ct(t).$index,o=Ee();return un(o.sets[s].weight,i)||(o.sets[s].weight=i),lt(i)}),M()()}if(n&2){let t=e.$index,r=Ee();$(3),Kt("ngModel",r.sets[t].numOfReps),$(4),Kt("ngModel",r.sets[t].weight)}}function lne(n,e){if(n&1&&(R(0,"p",21),F(1),M()),n&2){let t=Ee();$(),Ge(t.errorMsg)}}var I_=class n{dataService=O(Rr);authService=O(It);exercises;addingExercise=!1;entryError=!1;errorMsg="";selectedExercise;exerciseName="";exerciseMGroup=0;exerciseDes="";numberOfSets=1;setArray=[];sets=[];totalVolume=0;selectedDate;close=new at;selectExercisePlaceHolder={id:"",name:"Select an Exercise",muscleGroup:0,description:"na"};ngOnInit(){this.dataService.getAllExercises().subscribe(e=>this.exercises=e),this.setNumOfSets("1"),this.selectedExercise=this.selectExercisePlaceHolder}closeMenu(){this.close.emit(!1)}setNumOfSets(e){let t=parseInt(e);if(Number.isNaN(t)){console.error("Input is not a number: "+e);return}this.sets=Array.from({length:t}).map(()=>({dataId:"",weight:0,numOfReps:0}))}getMuscleGroups(){let e=[];return Object.entries(ho).map(t=>{let r=parseInt(t[0]);Number.isNaN(r)&&t[0].toLowerCase()!="unknown"&&e.push([t[0],t[1].valueOf()])}),e}toggleAddExercise(){this.addingExercise=!this.addingExercise,this.addingExercise&&(this.selectedExercise=this.selectExercisePlaceHolder)}addWorkout(){let e=this.authService.getUserId();this.validateInput()&&this.selectedExercise&&(this.dataService.addWorkout(this.selectedExercise,this.sets,e,this.selectedDate),this.closeMenu())}addExercise(){let e=this.exerciseName.trim(),t=this.exerciseDes.trim(),r=parseInt(ho[this.exerciseMGroup]);this.selectedExercise={id:"",name:e,muscleGroup:r,description:t}}validateInput(){if(this.addingExercise&&this.addExercise(),console.log("Exercise: "+JSON.stringify(this.selectedExercise)),this.sets){for(let e of this.sets)if(console.log(JSON.stringify(e)),e.weight==0||e.numOfReps==0)return this.entryError=!0,this.errorMsg="Sets weight and or reps cannont 0.",!1}else return this.entryError=!0,this.errorMsg="Sets are not defined.",!1;return!this.selectedExercise||this.selectedExercise===this.selectExercisePlaceHolder?(this.entryError=!0,this.errorMsg="Exercise is not selected.",!1):(this.entryError=!1,!0)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-addworkout"]],inputs:{selectedDate:"selectedDate"},outputs:{close:"close"},decls:47,vars:9,consts:[["setsSelect",""],[1,"overlay"],[1,"menu"],[1,"topbar"],[1,"menubtn",3,"click"],[1,"formcontainer"],["name","workoutForm",1,"form",3,"ngSubmit"],[1,"formrow"],["for",""],["name","exercise",1,"select",3,"ngModelChange","ngModel","disabled"],["disabled","","selected","",3,"ngValue"],[3,"ngValue"],["type","button",1,"menubtn",3,"click"],["name","","id","","required","",1,"select",3,"change"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"bottombar"],[1,"errormessage",2,"color","red"],["type","submit",1,"menubtn"],["type","text","placeholder","Exercise Name","required","","name","exerciseName",1,"select","nameinput",3,"ngModelChange","ngModel"],["name","exerciseMuscleGroup","id","","required","",1,"select",3,"ngModelChange","ngModel"],["disabled","","selected",""],["type","text","placeholder","Exercise Description","name","exerciseDescription","required","",1,"select","descriptionbox",3,"ngModelChange","ngModel"],[1,"formrow","setrow"],["type","number","name","numOfReps","id","","placeholder","0","required","",1,"select",3,"ngModelChange","ngModel"],["type","number","name","weight","id","","placeholder","0","required","",1,"select",3,"ngModelChange","ngModel"]],template:function(t,r){if(t&1){let i=ln();R(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3"),F(4),Ut(5,"date"),M(),R(6,"button",4),_e("click",function(){return ct(i),lt(r.closeMenu())}),F(7,"Close"),M()(),Te(8,"hr"),R(9,"div",5)(10,"div")(11,"form",6),_e("ngSubmit",function(){return ct(i),lt(r.addWorkout())}),R(12,"div",7)(13,"label",8),F(14,"Exercise:"),M(),R(15,"select",9),Qt("ngModelChange",function(o){return ct(i),un(r.selectedExercise,o)||(r.selectedExercise=o),lt(o)}),R(16,"option",10),F(17," Select an Exercise "),M(),Pn(18,rne,2,2,"option",11,id),M(),R(20,"button",12),_e("click",function(){return ct(i),lt(r.toggleAddExercise())}),Pe(21,ine,1,0)(22,sne,1,0),M()(),Pe(23,ane,9,3),R(24,"div",7)(25,"label",8),F(26,"Number of sets:"),M(),R(27,"select",13,0),_e("change",function(){ct(i);let o=Kc(28);return lt(r.setNumOfSets(o.value))}),R(29,"option",14),F(30,"1"),M(),R(31,"option",15),F(32,"2"),M(),R(33,"option",16),F(34,"3"),M(),R(35,"option",17),F(36,"4"),M(),R(37,"option",18),F(38,"5"),M(),R(39,"option",19),F(40,"6"),M()()(),Pn(41,cne,8,2,null,null,tne),R(43,"div",20),Pe(44,lne,2,1,"p",21),R(45,"button",22),F(46,"Add"),M()()()()()()()}t&2&&($(4),Bt("",Fk(5,7,r.selectedDate)," | Add Workout"),$(11),Kt("ngModel",r.selectedExercise),Me("disabled",r.addingExercise),$(),Me("ngValue",r.selectExercisePlaceHolder),$(2),kn(r.exercises),$(3),ut(r.addingExercise?21:22),$(2),ut(r.addingExercise?23:-1),$(18),kn(r.sets),$(3),ut(r.entryError?44:-1))},dependencies:[Gn,Mi,Mm,Rm,Cr,$d,ml,Tr,Ai,Zr,ar,Xr,dd],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100dvh;width:100dvw;background-color:#00000080;z-index:1000}.menu[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:1rem;border-radius:.5em;z-index:1001;box-shadow:0 0 1em #00000040;background-image:linear-gradient(to bottom right,#696969,#000);width:35dvw;min-width:fit-content;height:fit-content}.menu[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#f0f0f0}.topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:2em}.topbar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:center}.menubtn[_ngcontent-%COMP%]{border-radius:.5em;background-color:#1b1a55;border:2px solid #9290c3}.menubtn[_ngcontent-%COMP%]:hover{scale:105%;background-color:#0b0a45}.form[_ngcontent-%COMP%]{margin:1em;height:max-content;width:inherit}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:1em}.formrow[_ngcontent-%COMP%]{display:flex;margin:.5em;width:inherit;justify-content:space-between}.formrow[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0 1em}.select[_ngcontent-%COMP%]{width:max-content;background-color:#1b1a55;border:1px solid #9290c3;border-radius:.5em}.descriptionbox[_ngcontent-%COMP%]{width:inherit;flex-grow:1;height:2em;overflow-y:auto}.bottombar[_ngcontent-%COMP%]{display:flex;margin:.5em;justify-content:end}.errormessage[_ngcontent-%COMP%]{color:red;justify-self:start;align-self:flex-start;flex-grow:1}.formcontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nameinput[_ngcontent-%COMP%]{flex-grow:1;width:inherit}"]})};function une(n,e){if(n&1){let t=ln();R(0,"app-addworkout",11),_e("close",function(){ct(t);let i=Ee();return lt(i.toggleMenu())}),M()}if(n&2){let t=Ee();Me("selectedDate",t.selectedDate)}}function dne(n,e){if(n&1&&(R(0,"div",12),F(1),M()),n&2){let t=e.$implicit;$(),rE(" Reps: ",t.numOfReps,", Weight ",t.weight," ")}}function hne(n,e){if(n&1){let t=ln();R(0,"tr")(1,"td"),F(2),M(),R(3,"td"),F(4),M(),R(5,"td"),Pn(6,dne,2,2,"div",12,id),M(),R(8,"td"),F(9),Ut(10,"weightUnit"),M(),R(11,"td")(12,"button",13),_e("click",function(){let i=ct(t).$implicit,s=Ee();return lt(s.deleteWorkout(i))}),F(13," Delete "),M()()()}if(n&2){let t=e.$implicit,r=Ee();$(2),Ge(t.exercise.name),$(2),Ge(r.getNameOfMuscleGroup(t.exercise.muscleGroup)),$(2),kn(t.sets),$(3),Ge(dn(10,3,t.totalVolume,r.userUnits))}}function fne(n,e){n&1&&(R(0,"tr")(1,"td"),F(2,"No exercises for this day."),M()())}var D_=class n{calendarComponent;dataService=O(Rr);userService=O(It);router=O(Ke);userUnits=!0;userID="";today=new Date;selectedDate=new Date;exerciseList;dataMap;isLoadingData=!1;addingWorkout=!1;ngOnInit(){this.dataService.ngOnInit(),this.isLoadingData=!0,this.userService.user.subscribe(e=>{e!=null&&(this.userUnits=e.units=="lbs",this.userID=e.id)}),this.loadData()}loadData(){this.dataService.getAllExercises().subscribe(r=>{this.exerciseList=r});let e=new Date,t=new Date;t.setDate(e.getDate()-100),this.getData(t,e)}toggleMenu(){this.addingWorkout=!this.addingWorkout,setTimeout(()=>this.loadData(),1e3)}getData(e,t){return E(this,null,function*(){this.dataMap=yield this.dataService.getDataInDateRange(e,t,this.userID),this.isLoadingData=!1})}changeDate(e){this.selectedDate=e}getNameOfMuscleGroup(e){return ho[e]}setDateToday(){this.selectedDate=this.today,this.calendarComponent.scrollBottom()}setsOfCurrentDay(){let e=this.selectedDate.toISOString().split("T")[0],t=[];return this.dataMap&&(t=this.dataMap?.get(e)),t||[]}deleteWorkout(e){return E(this,null,function*(){console.log("Deleting exercise set: "+JSON.stringify(e)),yield this.dataService.deleteExerciseSet(e),this.loadData()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-day-page"]],viewQuery:function(t,r){if(t&1&&wi(Cf,5),t&2){let i;br(i=wr())&&(r.calendarComponent=i.first)}},decls:28,vars:8,consts:[[1,"page","w-100"],[3,"selectedDate"],[1,"datebar"],[1,"date"],[1,"todaybtn",3,"click"],[1,"holder"],[3,"selectedDayChange","selectedDay","exerciseData"],[1,"btncontainer"],[1,"addworkout",3,"click"],[1,"etable"],[1,"exercisetable"],[3,"close","selectedDate"],[1,"setsCell"],[1,"deletebtn",3,"click"]],template:function(t,r){t&1&&(R(0,"div",0),Pe(1,une,1,1,"app-addworkout",1),R(2,"div")(3,"div",2)(4,"p",3),F(5),Ut(6,"date"),M(),R(7,"button",4),_e("click",function(){return r.setDateToday()}),F(8,"Today"),M()(),R(9,"div",5)(10,"app-calendar",6),_e("selectedDayChange",function(s){return r.changeDate(s)}),Qt("selectedDayChange",function(s){return un(r.selectedDate,s)||(r.selectedDate=s),s}),M()(),R(11,"div",7)(12,"button",8),_e("click",function(){return r.addingWorkout=!0}),F(13," Add Workout "),M()()(),R(14,"div",9)(15,"table",10)(16,"thead")(17,"th"),F(18,"Exercise Name"),M(),R(19,"th"),F(20,"Muscle Group"),M(),R(21,"th"),F(22,"Sets"),M(),R(23,"th"),F(24,"Volume"),M()(),Pn(25,hne,14,6,"tr",null,id,!1,fne,3,0,"tr"),M()()()),t&2&&($(),ut(r.addingWorkout?1:-1),$(4),Bt("Date: ",dn(6,5,r.selectedDate,"mediumDate"),""),$(5),Kt("selectedDay",r.selectedDate),Me("exerciseData",r.dataMap),$(15),kn(r.setsOfCurrentDay()))},dependencies:[Cf,dd,Gn,Ri,I_],styles:[".page[_ngcontent-%COMP%]{padding:2em;background-color:#1b1a55;max-height:fit-content;min-height:100dvh}.page[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#f0f0f0}.exercisetable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#f0f0f0;margin:1em}.etable[_ngcontent-%COMP%]{background-color:#2f2f2f;margin:1em 0;padding:.5em;border-radius:1em 2em 1em 1em;width:fit-content;height:fit-content;border:2px solid #535c91}.exercisetable[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);grid-auto-rows:minmax(3em,auto);width:75dvw;height:inherit}.exercisetable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:1px solid #535c91;padding-left:.2em;border-top:1px solid #535c91}.date[_ngcontent-%COMP%]{font-size:1.25em;color:#f0f0f0;font-weight:600}.datebar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-width:fit-content;max-width:55dvw}.todaybtn[_ngcontent-%COMP%]{margin-left:17em;background-color:#535c91;border:2px solid #9290c3;color:#f0f0f0;border-radius:.5em;padding:.5em;margin-bottom:1em}.todaybtn[_ngcontent-%COMP%]:hover{background-color:#434c81;scale:105%}.holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.btncontainer[_ngcontent-%COMP%]{width:55dvw;display:flex;flex-direction:row;justify-content:end}.addworkout[_ngcontent-%COMP%]{margin:1em 0 0;padding:.5em;background-color:#535c91;border:1px solid #9290c3;width:fit-content;height:fit-content;border-radius:1em;align-self:flex-end;justify-self:end;color:#f0f0f0}.addworkout[_ngcontent-%COMP%]:hover{background-color:#434c81;scale:105%}.loadingtext[_ngcontent-%COMP%]{color:#f0f0f0;margin:1em}.deletebtn[_ngcontent-%COMP%]{margin-left:17em;background-color:#535c91;border:2px solid #9290c3;color:#f0f0f0;border-radius:.5em;padding:.5em;margin-bottom:1em}.deletebtn[_ngcontent-%COMP%]:hover{background-color:#434c81;scale:105%}"]})};var pne=["myChartCanvas"];function gne(n,e){if(n&1&&(R(0,"option",13),F(1),M()),n&2){let t=e.$implicit;Me("value",t),$(),Bt(" ",t," ")}}Ki.register(mf,jo,rc,nc,wf,_f,bf,vf);var C_=class n{myChartCanvas;chart;muscleGroups=["Chest","Back","Legs","Shoulders","Arms","Core"];ngAfterViewInit(){let e=this.myChartCanvas.nativeElement.getContext("2d");if(!e){console.error("Canvas context is null");return}this.chart=new Ki(e,{type:"line",data:{labels:[],datasets:[{label:"Muscle Group Progress",data:[],borderColor:"blue",fill:!1,tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Muscle Group Progress Over Time"},tooltip:{callbacks:{label:t=>{let r=t.chart.options.scales?.y?.title?.text||"";return`${t.dataset.label}: ${t.raw} ${r}`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Progress"}}}}})}retrieveStatistics(){let e=document.getElementById("start-date").value,t=document.getElementById("end-date").value,r=document.getElementById("muscle-select").value;if(!e||!t||!r){alert("Please provide valid inputs.");return}let i=new Date(e),o=(new Date(t).getTime()-i.getTime())/(1e3*3600*24)+1;if(o<=0){alert("End date must be after start date.");return}let a=[],c=[],l="Progress";for(let u=0;u<o;u++){let h=new Date(i);h.setDate(i.getDate()+u),a.push(h.toISOString().split("T")[0]);let f=0;switch(r){case"Chest":f=Math.floor(Math.random()*50)+20,l="kg";break;case"Back":f=Math.floor(Math.random()*60)+15,l="kg";break;case"Legs":f=Math.floor(Math.random()*70)+25,l="kg";break;case"Shoulders":f=Math.floor(Math.random()*40)+10,l="kg";break;case"Arms":f=Math.floor(Math.random()*45)+15,l="reps";break;case"Core":f=Math.floor(Math.random()*60)+10,l="seconds";break;default:f=Math.floor(Math.random()*100),l="units"}c.push(f)}this.chart.options.scales.y.title.text=l,this.chart.data.labels=a,this.chart.data.datasets[0].label=`${r} Progress`,this.chart.data.datasets[0].data=c,this.chart.update()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-muscle-group-progress-page"]],viewQuery:function(t,r){if(t&1&&wi(pne,5),t&2){let i;br(i=wr())&&(r.myChartCanvas=i.first)}},decls:25,vars:1,consts:[["myChartCanvas",""],[1,"w-100","min-vh-100","page"],[1,"date-picker-container"],[1,"date-picker"],["for","start-date"],["type","date","id","start-date","name","startDate"],["for","muscle-select"],["id","muscle-select",1,"muscle-dropdown"],[3,"value",4,"ngFor","ngForOf"],["for","end-date"],["type","date","id","end-date","name","endDate"],[1,"btn","btn-primary",3,"click"],[1,"chart-container"],[3,"value"]],template:function(t,r){if(t&1){let i=ln();R(0,"div",1)(1,"h1"),F(2,"Muscle Group Progress"),M(),R(3,"div",2)(4,"div",3)(5,"label",4),F(6,"Start Date:"),M(),Te(7,"input",5),M(),R(8,"div",3)(9,"label",6),F(10,"Muscle Group:"),M(),R(11,"select",7),Pe(12,gne,2,2,"option",8),M()(),R(13,"div",3)(14,"label",9),F(15,"End Date:"),M(),Te(16,"input",10),M()(),Te(17,"br"),R(18,"button",11),_e("click",function(){return ct(i),lt(r.retrieveStatistics())}),F(19,"Submit"),M(),Te(20,"br")(21,"br"),R(22,"div",12),Te(23,"canvas",null,0),M()()}t&2&&($(12),Me("ngForOf",r.muscleGroups))},dependencies:[Zc,Xc],styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b}h1[_ngcontent-%COMP%]{font-size:5rem;color:#f0f0f0;text-align:center}.date-picker-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:20px 50px}.date-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.chart-container[_ngcontent-%COMP%]{width:100%;max-width:800px;height:400px;margin:auto}canvas[_ngcontent-%COMP%]{background-color:#fff;border:1px solid lightgray;width:100%!important;height:100%!important}button[_ngcontent-%COMP%]{margin-left:50px}.muscle-dropdown[_ngcontent-%COMP%]{width:100px;height:36px;padding:6px 10px;font-size:14px;border-radius:4px;border:1px solid #ccc;box-sizing:border-box}label[_ngcontent-%COMP%]{font-size:1rem;color:#f0f0f0}"]})};var mne=["myChartCanvas"];function yne(n,e){if(n&1&&(R(0,"option",13),F(1),M()),n&2){let t=e.$implicit;Me("value",t),$(),Bt(" ",t," ")}}Ki.register(mf,jo,rc,nc,wf,_f,bf,vf);var T_=class n{myChartCanvas;chart;exercises=["Push-ups","Running","Squats","Cycling","Plank"];ngAfterViewInit(){let e=this.myChartCanvas.nativeElement.getContext("2d");if(!e){console.error("Canvas context is null");return}this.chart=new Ki(e,{type:"line",data:{labels:[],datasets:[{label:"Exercise Progress",data:[],borderColor:"blue",fill:!1,tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Exercise Progress Over Time"},tooltip:{callbacks:{label:t=>{let r=t.chart.options.scales?.y?.title?.text||"";return`${t.dataset.label}: ${t.raw} ${r}`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Progress"}}}}})}retrieveStatistics(){let e=document.getElementById("start-date").value,t=document.getElementById("end-date").value,r=document.getElementById("exercise-select").value;if(!e||!t||!r){alert("Please provide valid inputs.");return}let i=new Date(e),o=(new Date(t).getTime()-i.getTime())/(1e3*3600*24)+1;if(o<=0){alert("End date must be after start date.");return}let a=[],c=[],l="Progress";for(let u=0;u<o;u++){let h=new Date(i);h.setDate(i.getDate()+u),a.push(h.toISOString().split("T")[0]);let f=0;switch(r){case"Push-ups":f=Math.floor(Math.random()*30)+10,l="Reps";break;case"Running":f=Math.floor(Math.random()*5)+1,l="Kilometers";break;case"Squats":f=Math.floor(Math.random()*50)+20,l="Reps";break;case"Cycling":f=Math.floor(Math.random()*15)+5,l="Kilometers";break;case"Plank":f=Math.floor(Math.random()*120)+30,l="Seconds";break;default:f=Math.floor(Math.random()*100),l="Progress"}c.push(f)}this.chart.options.scales.y.title.text=l,this.chart.data.labels=a,this.chart.data.datasets[0].label=`${r} Progress`,this.chart.data.datasets[0].data=c,this.chart.update()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-exercise-progress-page"]],viewQuery:function(t,r){if(t&1&&wi(mne,5),t&2){let i;br(i=wr())&&(r.myChartCanvas=i.first)}},decls:25,vars:1,consts:[["myChartCanvas",""],[1,"w-100","min-vh-100","page"],[1,"date-picker-container"],[1,"date-picker"],["for","start-date"],["type","date","id","start-date","name","startDate"],["for","exercise-select"],["id","exercise-select",1,"exercise-dropdown"],[3,"value",4,"ngFor","ngForOf"],["for","end-date"],["type","date","id","end-date","name","endDate"],[1,"btn","btn-primary",3,"click"],[1,"chart-container"],[3,"value"]],template:function(t,r){if(t&1){let i=ln();R(0,"div",1)(1,"h1"),F(2,"Exercise Progress"),M(),R(3,"div",2)(4,"div",3)(5,"label",4),F(6,"Start Date:"),M(),Te(7,"input",5),M(),R(8,"div",3)(9,"label",6),F(10,"Exercise:"),M(),R(11,"select",7),Pe(12,yne,2,2,"option",8),M()(),R(13,"div",3)(14,"label",9),F(15,"End Date:"),M(),Te(16,"input",10),M()(),Te(17,"br"),R(18,"button",11),_e("click",function(){return ct(i),lt(r.retrieveStatistics())}),F(19,"Submit"),M(),Te(20,"br")(21,"br"),R(22,"div",12),Te(23,"canvas",null,0),M()()}t&2&&($(12),Me("ngForOf",r.exercises))},dependencies:[Zc,Xc],styles:[".page[_ngcontent-%COMP%]{background-color:#070f2b}h1[_ngcontent-%COMP%]{font-size:5rem;color:#f0f0f0;text-align:center}.date-picker-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:20px 50px}.date-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.chart-container[_ngcontent-%COMP%]{width:100%;max-width:800px;height:400px;margin:auto}canvas[_ngcontent-%COMP%]{background-color:#fff;border:1px solid lightgray;width:100%!important;height:100%!important}button[_ngcontent-%COMP%]{margin-left:50px}.exercise-dropdown[_ngcontent-%COMP%]{width:100px;height:36px;padding:6px 10px;font-size:14px;border-radius:4px;border:1px solid #ccc;box-sizing:border-box}label[_ngcontent-%COMP%]{font-size:1rem;color:#f0f0f0}"]})};function vne(n,e){if(n&1&&(R(0,"div")(1,"p")(2,"strong"),F(3,"Email:"),M(),F(4),M(),R(5,"p")(6,"strong"),F(7,"User UID:"),M(),F(8),M()()),n&2){let t=Ee();$(4),Bt(" ",t.user.email,""),$(4),Bt(" ",t.user.id,"")}}var S_=class n{constructor(e){this.router=e}user=null;auth=O(zt);authService=O(It);dataService=O(Rr);preferredUnit="lbs";ngOnInit(){this.getUser()}getUser(){return E(this,null,function*(){this.user=yield ui(this.authService.user),console.log(JSON.stringify(this.user)),this.user==null?this.router.navigate(["login-page"]):(this.user.units==="kg"||this.user.units==="lbs")&&(this.preferredUnit=this.user.units)})}onUnitChange(e){let t=e.target;this.preferredUnit=t.value,this.user&&(this.authService.setUserUnits(this.preferredUnit),this.authService.saveUser()),console.log("Preferred unit set to:",this.preferredUnit)}logout(){ay(this.auth).then(()=>{sessionStorage.removeItem("user"),this.router.navigate(["/login-page"])}).catch(e=>{console.error("Error during logout: ",e)})}static \u0275fac=function(t){return new(t||n)(X(Ke))};static \u0275cmp=ve({type:n,selectors:[["app-settings-page"]],decls:17,vars:2,consts:[[1,"w-100","min-vh-100","page"],[1,"text-center","mb-5"],[1,"settings-container"],[4,"ngIf"],[1,"unit-toggle"],["for","unitSelect"],["id","unitSelect",3,"ngModelChange","change","ngModel"],["value","kg"],["value","lbs"],[3,"click"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"h1",1),F(2,"Settings"),M(),R(3,"div",2),Pe(4,vne,9,2,"div",3),R(5,"div",4)(6,"label",5)(7,"strong"),F(8,"Preferred Unit:"),M()(),R(9,"select",6),Qt("ngModelChange",function(s){return un(r.preferredUnit,s)||(r.preferredUnit=s),s}),_e("change",function(s){return r.onUnitChange(s)}),R(10,"option",7),F(11,"Kilograms (kg)"),M(),R(12,"option",8),F(13,"Pounds (lbs)"),M()(),Te(14,"p"),M(),R(15,"button",9),_e("click",function(){return r.logout()}),F(16,"Logout"),M()()()),t&2&&($(4),Me("ngIf",r.user),$(5),Kt("ngModel",r.preferredUnit))},dependencies:[ha,Gn,Mm,Rm,ml,Tr,ar],styles:[".settings-container[_ngcontent-%COMP%]{background-color:#070f2b;color:#fff;text-align:center}h1[_ngcontent-%COMP%]{color:#fff;font-size:72px}.page[_ngcontent-%COMP%]{background-color:#070f2b}"]})};function _ne(n,e){if(n&1&&(R(0,"p",11),F(1),M()),n&2){let t=Ee();$(),Ge(t.errorMessage)}}var x_=class n{constructor(e){this.router=e}email="";password="";errorMessage="";auth=O(zt);login(){return E(this,null,function*(){try{let t=(yield oy(this.auth,this.email,this.password)).user;sessionStorage.setItem("user",JSON.stringify(t)),this.router.navigate(["/settings-page"])}catch(e){let t=e;console.error("Login error: ",t),this.errorMessage=this.getErrorMessage(t.code)}})}getErrorMessage(e){switch(e){case"auth/invalid-email":return"Invalid email address.";case"auth/user-disabled":return"This user has been disabled.";case"auth/user-not-found":return"No user found with this email.";case"auth/wrong-password":return"Incorrect password.";default:return"An error occurred. Please try again."}}static \u0275fac=function(t){return new(t||n)(X(Ke))};static \u0275cmp=ve({type:n,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"w-100","min-vh-100","page"],[1,"login-container"],[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error-message",4,"ngIf"],[1,"register-link"],["routerLink","/register-page"],[1,"error-message"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"h2"),F(3,"Login"),M(),R(4,"form",2),_e("ngSubmit",function(){return r.login()}),R(5,"div")(6,"label",3),F(7,"Email"),M(),R(8,"input",4),Qt("ngModelChange",function(s){return un(r.email,s)||(r.email=s),s}),M()(),R(9,"div")(10,"label",5),F(11,"Password"),M(),R(12,"input",6),Qt("ngModelChange",function(s){return un(r.password,s)||(r.password=s),s}),M()(),R(13,"button",7),F(14,"Login"),M(),Pe(15,_ne,2,1,"p",8),M(),R(16,"div",9)(17,"p"),F(18,"Don't have an account? "),R(19,"a",10),F(20,"Register here"),M()()()()()),t&2&&($(8),Kt("ngModel",r.email),$(4),Kt("ngModel",r.password),$(3),Me("ngIf",r.errorMessage))},dependencies:[Gn,Mi,Cr,Tr,Ai,Zr,ar,Xr,ha,Ea,Dr],styles:[".login-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f4f4f4;border-radius:8px;box-shadow:0 4px 8px #0000001a}.page[_ngcontent-%COMP%]{background-color:#070f2b}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}input[_ngcontent-%COMP%]{width:100%;padding:8px;margin-top:5px;border-radius:4px;border:1px solid #ccc}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var A_=class n{constructor(e){this.authService=e}email="";password="";fName="";lName="";router=O(Ke);onRegister(){let e={email:"",fname:this.fName,lname:this.lName,id:"",units:"lbs"};this.authService.register(this.email,this.password,e).then(()=>{this.router.navigate(["settings-page"])}).catch(t=>{console.error("Registration error: ",t)})}static \u0275fac=function(t){return new(t||n)(X(It))};static \u0275cmp=ve({type:n,selectors:[["app-register"]],decls:17,vars:2,consts:[[1,"w-100","min-vh-100","page"],[1,"register-container"],[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["routerLink","/login-page"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"h2"),F(3,"Register"),M(),R(4,"form",2),_e("ngSubmit",function(){return r.onRegister()}),R(5,"label",3),F(6,"Email"),M(),R(7,"input",4),Qt("ngModelChange",function(s){return un(r.email,s)||(r.email=s),s}),M(),R(8,"label",5),F(9,"Password"),M(),R(10,"input",6),Qt("ngModelChange",function(s){return un(r.password,s)||(r.password=s),s}),M(),R(11,"button",7),F(12,"Register"),M()(),R(13,"p"),F(14,"Already have an account? "),R(15,"a",8),F(16,"Login here"),M()()()()),t&2&&($(7),Kt("ngModel",r.email),$(3),Kt("ngModel",r.password))},dependencies:[Gn,Mi,Cr,Tr,Ai,Zr,ar,Xr,Ea,Dr],styles:[".register-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f4f4f4;border-radius:8px;box-shadow:0 4px 8px #0000001a}.page[_ngcontent-%COMP%]{background-color:#070f2b}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}input[_ngcontent-%COMP%]{width:100%;padding:8px;margin-top:5px;border-radius:4px;border:1px solid #ccc}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#28a745;color:#fff;border:none;border-radius:4px}button[_ngcontent-%COMP%]:hover{background-color:#218838}"]})};var Bo=class n{auth=O(It);router=O(Ke);user=null;canMatch(e,t){return E(this,null,function*(){return(yield ui(this.auth.user))?!0:(this.router.navigate([""]),!1)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})},VB=[{path:"",component:E_},{path:"interval-stats",component:__,canMatch:[Bo]},{path:"interval-progress",component:w_,canMatch:[Bo]},{path:"day",component:D_,canMatch:[Bo]},{path:"exercise-progress-page",component:T_,canMatch:[Bo]},{path:"muscle-group-progress-page",component:C_,canMatch:[Bo]},{path:"settings-page",component:S_,canMatch:[Bo]},{path:"login-page",component:x_},{path:"register-page",component:A_}];var jB={apiKey:"AIzaSyD3_ElXAzbpqxi9Kh5v-CWuySWupJc2_w4",authDomain:"liftingbuddy-2ef3a.firebaseapp.com",projectId:"liftingbuddy-2ef3a",storageBucket:"liftingbuddy-2ef3a.firebasestorage.app",messagingSenderId:"43071849143",appId:"1:43071849143:web:7ba04399d6055a4a8bc332",measurementId:"G-PD3PDS3PPB"};var BB={providers:[Bk({eventCoalescing:!0}),oI(VB),T1(()=>S1(jB)),NF(()=>FF(O(ti))),_2(()=>b2())]};var UB=()=>({exact:!0});function bne(n,e){if(n&1&&(R(0,"p",4),F(1),M()),n&2){let t=e.$implicit;Me("routerLinkActive","route_active")("routerLinkActiveOptions",Qc(4,UB))("routerLink",t[1]),$(),Bt(" ",t[0]," ")}}function wne(n,e){if(n&1&&Pn(0,bne,2,5,"p",4,Dg),n&2){let t=Ee(2);kn(t.links)}}function Ene(n,e){if(n&1&&(R(0,"p",4),F(1," Home "),M(),Pe(2,wne,2,0)),n&2){let t=Ee();Me("routerLinkActive","route_active")("routerLinkActiveOptions",Qc(4,UB))("routerLink",""),$(2),ut(t.user!=null?2:-1)}}var M_=class n{isNavbarExtended=!0;screenWidth=0;changeSize=800;auth=O(It);user=null;ngOnInit(){this.screenWidth=window.innerWidth,this.onResize(""),this.onResize(""),this.auth.user.subscribe(e=>{this.user=e})}onResize(e){this.screenWidth=window.innerWidth,this.screenWidth<800?this.isNavbarExtended=!1:this.isNavbarExtended=!0}onNavbarBtnClick(){this.isNavbarExtended=!this.isNavbarExtended}links=[["Day","day"],["Interval Stats","interval-stats"],["Interval Progress","interval-progress"],["Exercise Progress","exercise-progress-page"],["Muscle Group Progress","muscle-group-progress-page"]];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-navbar"]],hostBindings:function(t,r){t&1&&_e("resize",function(s){return r.onResize(s)},!1,CP)},decls:8,vars:1,consts:[[1,"navbar","h-100","w-10"],[1,"d-flex","flex-column","h-100","w-100"],[1,"extend_button",3,"click"],[1,"flex-grow-1"],[1,"p-2","navlink",3,"routerLinkActive","routerLinkActiveOptions","routerLink"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"button",2),_e("click",function(){return r.onNavbarBtnClick()}),Te(3,"hr")(4,"hr")(5,"hr"),M(),Pe(6,Ene,3,5),Te(7,"span",3),M()()),t&2&&($(6),ut(r.isNavbarExtended?6:-1))},dependencies:[Dr,sI],styles:[".navbar[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#9290c3,#070f2b);padding:1em .5em;transition:max-width 2s ease;max-width:10%}.navbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-shadow:0 0 2em #1b1a55;scale:105%}.w-10[_ngcontent-%COMP%]{max-width:10%;width:10%;min-width:fit-content}.navlink[_ngcontent-%COMP%]{font-size:1.5em;font-weight:600;cursor:pointer;overflow-wrap:anywhere;color:#f0f0f0}.route_active[_ngcontent-%COMP%]{color:#070f2b}.extend_button[_ngcontent-%COMP%]{padding:0;border:2px solid white;border-radius:.25em;cursor:pointer;background-color:transparent;width:fit-content;align-self:flex-start;justify-self:center;margin-bottom:1em}.extend_button[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{background-color:#fff;border:2px solid white;width:2em;margin:.5em}"]})};var R_;function Ine(){if(R_===void 0&&(R_=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(R_=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return R_}function Tf(n){return Ine()?.createHTML(n)||n}function $B(n){return Error(`Unable to find icon with the name "${n}"`)}function Dne(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function HB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function zB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Ls=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},qB=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Ls(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){let o=this._sanitizer.sanitize(bn.HTML,i);if(!o)throw zB(i);let a=Tf(o);return this._addSvgIconConfig(t,r,new Ls("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ls(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let s=this._sanitizer.sanitize(bn.HTML,r);if(!s)throw zB(r);let o=Tf(s);return this._addSvgIconSetConfig(t,new Ls("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(bn.RESOURCE_URL,t);if(!r)throw HB(t);let i=this._cachedIconsByUrl.get(r);return i?Z(P_(i)):this._loadSvgIconFromConfig(new Ls(t,null)).pipe(Ct(s=>this._cachedIconsByUrl.set(r,s)),ne(s=>P_(s)))}getNamedSvgIcon(t,r=""){let i=WB(r,t),s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):Ws($B(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Z(P_(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ne(r=>P_(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return Z(i);let s=r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(jr(a=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(bn.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),Z(null)})));return Nu(s).pipe(ne(()=>{let o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw $B(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){let o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ct(r=>t.svgText=r),ne(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Z(null):this._fetchIcon(t).pipe(Ct(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let s=t.querySelector(`[id="${r}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,i);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),i);let a=this._svgElementFromString(Tf("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(Tf("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){let{name:o,value:a}=i[s];o!=="id"&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw Dne();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let o=this._sanitizer.sanitize(bn.RESOURCE_URL,r);if(!o)throw HB(r);let a=this._inProgressUrlFetches.get(o);if(a)return a;let c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(ne(l=>Tf(l)),Qs(()=>this._inProgressUrlFetches.delete(o)),jb());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(WB(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let s=this._resolvers[i](r,t);if(s)return Cne(s)?new Ls(s.url,null,s.options):new Ls(s,null)}}static \u0275fac=function(r){return new(r||n)(J(ME,8),J(RE),J(it,8),J(An))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P_(n){return n.cloneNode(!0)}function WB(n,e){return n+":"+e}function Cne(n){return!!(n.url&&n.options)}var dx;try{dx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dx=!1}var k_=(()=>{class n{_platformId=O(zr);isBrowser=this._platformId?fE(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||dx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hx(n){return Array.isArray(n)?n:[n]}var GB=new Set,ic,Tne=(()=>{class n{_platform=O(k_);_nonce=O(Ju,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xne}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Sne(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sne(n,e){if(!GB.has(n))try{ic||(ic=document.createElement("style"),e&&ic.setAttribute("nonce",e),ic.setAttribute("type","text/css"),document.head.appendChild(ic)),ic.sheet&&(ic.sheet.insertRule(`@media ${n} {body{ }}`,0),GB.add(n))}catch(t){console.error(t)}}function xne(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var QB=(()=>{class n{_mediaMatcher=O(Tne);_zone=O(xe);_queries=new Map;_destroySubject=new rt;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return KB(hx(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=KB(hx(t)).map(o=>this._registerQuery(o).observable),s=Yo(i);return s=Gs(s.pipe(tr(1)),s.pipe(Bb(1),Fb(0))),s.pipe(ne(o=>{let a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),s={observable:new ue(o=>{let a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(bc(r),ne(({matches:o})=>({query:t,matches:o})),Ou(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var Uo=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Uo||{}),YB="cdk-high-contrast-black-on-white",XB="cdk-high-contrast-white-on-black",fx="cdk-high-contrast-active",px=(()=>{class n{_platform=O(k_);_hasCheckedHighContrastMode;_document=O(it);_breakpointSubscription;constructor(){this._breakpointSubscription=O(QB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Uo.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Uo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Uo.BLACK_ON_WHITE}return Uo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(fx,YB,XB),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Uo.BLACK_ON_WHITE?t.add(fx,YB):r===Uo.WHITE_ON_BLACK&&t.add(fx,XB)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gx=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=rn({})}return n})();var mx=(()=>{class n{constructor(){O(px)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=rn({imports:[gx,gx]})}return n})();var Ane=["*"],Mne=new Q("MAT_ICON_DEFAULT_OPTIONS"),Rne=new Q("mat-icon-location",{providedIn:"root",factory:Pne});function Pne(){let n=O(it),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var ZB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kne=ZB.map(n=>`[${n}]`).join(", "),Nne=/^url\(['"]?#(.*?)['"]?\)$/,JB=(()=>{class n{_elementRef=O(on);_iconRegistry=O(qB);_location=O(Rne);_errorHandler=O(An);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=ot.EMPTY;constructor(){let t=O(new Gp("aria-hidden"),{optional:!0}),r=O(Mne,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(kne),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)ZB.forEach(o=>{let a=r[s],c=a.getAttribute(o),l=c?c.match(Nne):null;if(l){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(tr(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${r}:${i}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ve({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(io("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ik(i.color?"mat-"+i.color:""),cn("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",qr],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Ane,decls:1,vars:0,template:function(r,i){r&1&&(Mk(),Rk(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),eU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=rn({imports:[mx,mx]})}return n})();var Fne=()=>["/login-page"],Lne=()=>["/register-page"];function Vne(n,e){n&1&&(R(0,"div",1)(1,"p",2),F(2,"Lifting Buddy"),M(),R(3,"a",3),F(4,"Login"),M(),R(5,"a",3),F(6,"Register"),M()()),n&2&&($(3),Me("routerLink",Qc(2,Fne)),$(2),Me("routerLink",Qc(3,Lne)))}function jne(n,e){if(n&1&&(R(0,"p",2),F(1),M()),n&2){let t=Ee(2);$(),Bt("Welcome, ",t.auth.currentUser.email.split("@")[0],"")}}function Bne(n,e){if(n&1&&(R(0,"div",1)(1,"p",2),F(2,"Lifting Buddy"),M(),Pe(3,jne,2,1,"p",2),R(4,"button",4)(5,"mat-icon"),F(6,"settings"),M()()()),n&2){let t=Ee();$(3),ut(t.auth.currentUser&&t.auth.currentUser.email?3:-1),$(),Me("routerLink","/settings-page")}}var N_=class n{userLoggedIn=!1;auth=O(zt);ngOnInit(){ah(this.auth,e=>{e?this.userLoggedIn=!0:this.userLoggedIn=!1})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-title-bar"]],decls:3,vars:2,consts:[["class","titlebar d-flex",4,"ngIf"],[1,"titlebar","d-flex"],[1,"title"],[1,"item",3,"routerLink"],["mat-icon-button","","aria-label","Settings",1,"no-background-button",3,"routerLink"]],template:function(t,r){t&1&&(Pe(0,Vne,7,4,"div",0)(1,Bne,7,2,"div",0),Te(2,"router-outlet")),t&2&&(Me("ngIf",!r.userLoggedIn),$(),Me("ngIf",r.userLoggedIn))},dependencies:[Ea,_a,Dr,ha,eU,JB],styles:[".titlebar[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#9290c3,#070f2b);display:flex;align-items:center}.title[_ngcontent-%COMP%]{font-size:2em;font-weight:700;padding:.3em 0 0 1em;color:#f0f0f0;text-shadow:0 0 1em black;flex-grow:1}.item[_ngcontent-%COMP%]{margin:0 2em;font-size:1.5em;font-weight:600;color:#f0f0f0;cursor:pointer}.item[_ngcontent-%COMP%]:hover{text-shadow:0 0 1em #9290c3;scale:105%}.no-background-button[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important;color:#fff}"]})};var O_=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"d-flex","flex-row","w-auto","vh-100","layout"],[1,"sidebar"],[1,"flex-grow-1","main"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1),Te(2,"app-navbar"),M(),R(3,"div",2),Te(4,"app-title-bar")(5,"router-outlet"),M()())},dependencies:[_a,M_,N_],styles:[".layout[_ngcontent-%COMP%]{overflow:hidden}.sidebar[_ngcontent-%COMP%]{position:sticky;top:0}.main[_ngcontent-%COMP%]{overflow-y:auto}"]})};IE(O_,BB).catch(n=>console.error(n));
